---
import { getLanguageFromURL } from '~/util/path-utils';
import CardsNav from './NavGrid/CardsNav.astro';
import type { LogoKey } from '~/data/logos';

export interface Props {
	minimal?: boolean;
}

const { minimal } = Astro.props as Props;

const lang = getLanguageFromURL(Astro.url.pathname);

interface Service {
	title: string;
	slug: LogoKey;
	description: string;
}

const services = [
	{
		title: 'CloudCannon',
		slug: 'cloudcannon',
		description: 'Git-based CMS built for speed, security, and zero headaches.',
	},
	{
		title: 'Sanity',
		slug: 'sanity',
		description: 'Powering all your content applications from a single platform.',
	},
	{
		title: 'Storyblok',
		slug: 'storyblok',
		description: 'A headless CMS made for humans. Built for the AI-driven content era.',
	},
] satisfies Service[];
---

<CardsNav
	minimal={minimal}
	links={services.map(({ title, slug, description }) => ({
		title,
		href: `/${lang}/guides/cms/${slug}/`,
		logo: { brand: slug, size: 'large', shape: 'rounded' },
		description,
	}))}
/>

<style>
.card {
 gap: 0rem;
}
</style>