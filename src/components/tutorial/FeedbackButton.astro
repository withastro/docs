---
const isTutorial = /\/[\w-]+\/tutorial\//.test(Astro.url.pathname);
const pid = isTutorial ? '1b24b5d16c81bd' : '1fe455fdbf9ac5';

const currentUrl = Astro.url.pathname.replace(/\/$/, '');
---

<button data-feedback-fish data-feedback-fish-url={currentUrl}>Give us feedback</button>
<script defer src={`https://feedback.fish/ff.js?pid=${pid}`}></script>

<style>
	button {
		border: 1px solid var(--theme-shade-subtle);
		border-radius: 0.5rem;
		background-color: transparent;
		cursor: pointer;
		font-size: var(--theme-text-xs);
		line-height: calc(1 / var(--theme-text-xs));
	}

	button:hover,
	button:focus {
		background-color: var(--theme-divider);
	}

	button:focus:not(:focus-visible) {
		background-color: transparent;
	}
</style>
