---
title: Подсветка синтаксиса
description: Узнайте, как настроить подсветку синтаксиса для блоков кода в Astro.
i18nReady: true
---
import Since from '~/components/Since.astro';
import ReadMore from '~/components/ReadMore.astro';
import { Steps } from '@astrojs/starlight/components';

Astro поставляется со встроенной поддержкой [Shiki](https://shiki.style/) и [Prism](https://prismjs.com/). Это обеспечивает подсветку синтаксиса для:

- всех [блоков кода (\`\`\`)](#блоки-кода-в-markdown) в файлах Markdown и MDX;
- контента внутри встроенного [компонента `<Code />`](#компонент-code) (на базе Shiki);
- контента внутри [компонента `<Prism />`](#компонент-prism) (на базе Prism).

## Блоки кода в Markdown

В Markdown блоки кода выделяются тремя обратными кавычками \`\`\`. Вы можете указать язык программирования сразу после открывающих кавычек.

````markdown
```js
// Код JavaScript с подсветкой
const hello = "world";
```
````

По умолчанию Astro использует Shiki с темой `github-dark`. Итоговый HTML содержит инлайновые стили и не требует дополнительных CSS-файлов или клиентского JavaScript.

### Настройка темы Shiki

Вы можете выбрать любую [встроенную тему Shiki](https://shiki.style/themes) в конфигурации:

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    shikiConfig: {
      theme: 'dracula',
    },
  },
});
```

### Поддержка светлой и темной тем

Shiki позволяет настроить разные темы для разных режимов отображения:

```js title="astro.config.mjs"
export default defineConfig({
  markdown: {
    shikiConfig: {
      themes: {
        light: 'github-light',
        dark: 'github-dark',
      },
    },
  },
});
```

## Компоненты для блоков кода

В файлах `.astro` и `.mdx` доступны два компонента для рендеринга кода.

### Компонент `<Code />`

Этот компонент работает на базе Shiki. Он поддерживает все популярные темы и языки, а также автоматический перенос строк.

```astro
---
import { Code } from 'astro:components';
---
<Code code={`const foo = 'bar';`} lang="js" theme="dark-plus" wrap />
```

### Компонент `<Prism />`

Если вы предпочитаете Prism, установите пакет `@astrojs/prism`:

```bash
npm install @astrojs/prism
```

Затем импортируйте и используйте его:

```astro
---
import { Prism } from '@astrojs/prism';
---
<Prism lang="js" code={`const foo = 'bar';`} />
```

:::note
Для работы Prism необходимо самостоятельно подключить CSS-файл с темой Prism в секцию `<head>` вашего сайта.
:::
