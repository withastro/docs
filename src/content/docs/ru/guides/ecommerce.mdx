---
title: Электронная коммерция (E-commerce)
description: Введение в добавление функций онлайн-магазина на сайт Astro.
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro';

С помощью Astro вы можете реализовать различные варианты электронной коммерции: от простых ссылок на оплату до полноценных витрин магазинов с использованием API платежных сервисов.

## Платежные оверлеи (всплывающие формы)

Некоторые сервисы (например, [Lemon Squeezy](#lemon-squeezy), [Paddle](#paddle)) предоставляют готовую форму оплаты, которая открывается поверх вашего сайта. Это позволяет клиентам совершать покупки, не покидая вашу страницу. Такие решения легко интегрируются в Astro через скрипты, кнопки или внешние ссылки.

### Lemon Squeezy

[Lemon Squeezy](https://www.lemonsqueezy.com/) — это универсальная платформа для платежей и подписок с поддержкой мультивалютности, налогового комплаенса и интеграцией с PayPal.

Библиотека [Lemon.js](https://docs.lemonsqueezy.com/help/lemonjs/what-is-lemonjs) позволяет продавать товары с помощью простых ссылок для оформления заказа.

#### Базовое использование

Пример добавления кнопки «Купить сейчас» на страницу Astro:

<Steps>
1. Добавьте тег `<script>` в секцию `head` или `body` вашей страницы:

    ```html title="src/pages/product.astro"
    <script src="https://app.lemonsqueezy.com/js/lemon.js" defer></script>
    ```

2. Создайте ссылку с классом `lemonsqueezy-button`, ведущую на URL вашего товара.

    ```html title="src/pages/product.astro"
    <a class="lemonsqueezy-button" href="https://demo.lemonsqueezy.com/checkout/...">
      Купить сейчас
    </a>
    ```
</Steps>

<ReadMore>Подробности ищите в [руководстве для разработчиков Lemon Squeezy](https://docs.lemonsqueezy.com/guides/developer-guide).</ReadMore>

### Paddle

[Paddle](https://www.paddle.com/) — решение для биллинга цифровых продуктов. Оно берет на себя налоги и управление подписками.

[Paddle.js](https://developer.paddle.com/paddlejs/overview) — легкая библиотека для создания интегрированного процесса оплаты.

#### Базовое использование

<Steps>
1. Добавьте скрипты Paddle на страницу:

    ```html title="src/pages/product.astro"
    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <script type="text/javascript">
      Paddle.Setup({ 
        token: 'ВАШ_ТОКЕН' 
      });
    </script>
    ```

2. Используйте HTML-атрибуты для настройки кнопки оплаты:

    ```html title="src/pages/product.astro"
    <a 
      href="#"
      class="paddle_button"
      data-display-mode="overlay"
      data-items='[{"priceId": "pri_...", "quantity": 1}]'
    >
      Купить сейчас
    </a>
    ```
</Steps>

## Полнофункциональные решения

Для максимального контроля над корзиной и процессом оформления заказа вы можете подключить более продвинутые сервисы, такие как [Snipcart](#snipcart).

### Snipcart

[Snipcart](https://snipcart.com/) — это мощная платформа корзины покупок на базе HTML/JavaScript, ориентированная на разработчиков.

Она позволяет выбирать платежные шлюзы (Stripe, PayPal), настраивать email-шаблоны и интегрироваться с логистическими сервисами.

:::tip
Существует готовый шаблон сообщества [`astro-snipcart`](https://astro-snipcart.vercel.app/), который включает дизайн-систему и базовую интеграцию.
:::

#### Базовое использование

<Steps>
1. Добавьте скрипт Snipcart на страницу после элемента `<body>`.
2. Настройте `window.SnipcartSettings` с вашим API-ключом.
3. Используйте класс `snipcart-add-item` на кнопках для добавления товаров в корзину:

    ```html
    <button
      class="snipcart-add-item"
      data-item-id="astro-print"
      data-item-price="39.99"
      data-item-name="Принт Astro"
    >
      В корзину
    </button>
    ```

4. Используйте класс `snipcart-checkout` для создания кнопки открытия корзины.
</Steps>

<ReadMore>Полная инструкция доступна в [документации Snipcart](https://docs.snipcart.com/v3/).</ReadMore>
