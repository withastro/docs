---
title: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
description: –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Astro —Å –ø–æ–º–æ—â—å—é API fetch.
i18nReady: true
---
–§–∞–π–ª—ã `.astro` –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞.

## `fetch()` –≤ Astro

–í—Å–µ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Astro](/ru/basics/astro-components/) –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π [—Ñ—É–Ω–∫—Ü–∏–∏ `fetch()`](https://developer.mozilla.org/ru/docs/Web/API/fetch) –≤ —Å–≤–æ–µ–º —Å–∫—Ä–∏–ø—Ç–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –ø–æ –ø–æ–ª–Ω–æ–º—É URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://example.com/api`).

–í—ã–∑–æ–≤ `fetch()` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —à–∞–±–ª–æ–Ω—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º [—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É (SSR)](/ru/guides/on-demand-rendering/), –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –ø–æ—Å–µ—â–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **top-level `await`** –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Astro.

üí° –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ–ø—Å–æ–≤.

```astro title="src/components/User.astro"
---
import Contact from "../components/Contact.jsx";

const response = await fetch("https://randomuser.me/api/");
const data = await response.json();
const randomUser = data.results[0];
---
<!-- –î–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, –º–æ–∂–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≤ HTML -->
<h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h1>
<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- –ò–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
<Contact client:load email={randomUser.email} />
```

:::note
–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö Astro –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–ù–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Å–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã **–æ–¥–∏–Ω —Ä–∞–∑ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**. –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤](/ru/guides/framework-components/) –∏–ª–∏ [–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã](/ru/guides/client-side-scripts/).
:::

## `fetch()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

–§—É–Ω–∫—Ü–∏—è `fetch()` —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ –≤ –ª—é–±—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (React, Vue –∏ –¥—Ä.):

```tsx title="src/components/Movies.tsx"
import type { FunctionalComponent } from 'preact';

const data = await fetch('https://example.com/movies.json').then((res) => res.json());

const Movies: FunctionalComponent = () => {
  return <div>{JSON.stringify(data)}</div>;
};

export default Movies;
```

## GraphQL-–∑–∞–ø—Ä–æ—Å—ã

Astro –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetch()` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö –≤–∞–ª–∏–¥–Ω—ã—Ö GraphQL-–∑–∞–ø—Ä–æ—Å–æ–≤.

```astro title="src/components/Film.astro"
---
const response = await fetch(
  "https://swapi-graphql.netlify.app/.netlify/functions/index",
  {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: { id: "ZmlsbXM6MQ==" },
    }),
  }
);

const json = await response.json();
const { film } = json.data;
---
<h1>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ: {film.title}</h1>
<p>–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞: {film.releaseDate}</p>
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Headless CMS

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Astro –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ –≤–∞—à–∏—Ö –ª—é–±–∏–º—ã—Ö CMS –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö. –ë–ª–∞–≥–æ–¥–∞—Ä—è [–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –º–∞—Ä—à—Ä—É—Ç–∞–º](/ru/guides/routing/#–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ-–º–∞—Ä—à—Ä—É—Ç—ã), –≤—ã –º–æ–∂–µ—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CMS.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏—â–∏—Ç–µ –≤ –Ω–∞—à–∏—Ö [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞—Ö –ø–æ CMS](/ru/guides/cms/), –≤–∫–ª—é—á–∞—è Storyblok, Contentful –∏ WordPress.
