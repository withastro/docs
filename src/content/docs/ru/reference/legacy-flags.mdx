---
title: Legacy флаги
i18nReady: true
---

Для облегчения перехода между версиями Astro мы периодически вводим флаги `legacy`.

Эти флаги позволяют включить устаревшее поведение Astro в последней версии. Это дает вам возможность обновляться и пользоваться новыми релизами, не дожидаясь полного обновления кода вашего проекта.

import Since from '~/components/Since.astro'

## Коллекции (Collections)

<p>
**Тип:** `boolean`<br />
**По умолчанию:** `false`<br />
<Since v="5.0.0" />
</p>

Включает устаревшее поведение для коллекций контента (использовавшееся в Astro v2 — v4).

```js
// astro.config.mjs
import { defineConfig } from 'astro/config';

export default defineConfig({
  legacy: {
    collections: true
  }
});
```

Если флаг включен, коллекции типов `data` и `content` (и только они) обрабатываются старым механизмом. Коллекции с параметром `loader` продолжают использовать новый Content Layer API. Оба типа коллекций могут сосуществовать в одном проекте.

### Ограничения

- Устаревшие коллекции должны находиться строго в директории `src/content/`.
- Они не будут автоматически переведены на использование загрузчика `glob()`.
- Новые коллекции (с `loader`) запрещено размещать в `src/content/`, но они могут быть в любом другом месте проекта.

Когда вы будете готовы отказаться от этого флага, вам нужно будет описать все директории в `src/content/` в файле `config.ts` с использованием нового API.
