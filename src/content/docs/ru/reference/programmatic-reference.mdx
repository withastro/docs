---
title: Программный API Astro (экспериментально)
i18nReady: true
---
import Since from '~/components/Since.astro';

Если вам нужен полный контроль при запуске Astro, пакет `"astro"` экспортирует API для программного вызова команд CLI.

Эти API являются экспериментальными, и их сигнатура может измениться. Актуальную информацию всегда можно найти в чейнджлоге проекта.

## `AstroInlineConfig`

Тип `AstroInlineConfig` используется всеми программными методами. Он расширяет стандартный тип [конфигурации Astro](/ru/reference/configuration-reference/):

```ts
interface AstroInlineConfig extends AstroUserConfig {
	configFile?: string | false;
	mode?: string;
	logLevel?: "debug" | "info" | "warn" | "error" | "silent";
}
```

### `configFile`

Путь к файлу конфигурации. По умолчанию Astro ищет файл в корне проекта. Установите `false`, чтобы не загружать никакие файлы конфигурации.

### `mode`

Режим сборки или разработки (например, `"production"`, `"testing"`). Это влияет на загрузку `.env` файлов.

### `logLevel`

Уровень логирования сообщений Astro.

## `dev()`

Запускает сервер разработки Astro. Аналог команды `astro dev`.

```js
import { dev } from "astro";

const devServer = await dev({
  root: "./my-project",
});

// Остановка сервера
await devServer.stop();
```

## `build()`

Собирает сайт для развертывания. Аналог команды `astro build`.

```js
import { build } from "astro";

await build({
  root: "./my-project",
});
```

## `preview()`

Запускает локальный сервер для предварительного просмотра сборки. Аналог команды `astro preview`.

```js
import { preview } from "astro";

const previewServer = await preview({
  root: "./my-project",
});

await previewServer.stop();
```

## `sync()`

Генерирует типы TypeScript для всех модулей Astro. Аналог команды `astro sync`.

```js
import { sync } from "astro";

await sync({
  root: "./my-project",
});
```

## `mergeConfig()`

Вспомогательная функция для объединения двух конфигураций Astro. Массивы объединяются, объекты мерджатся рекурсивно.

```ts
import { mergeConfig } from "astro/config";

const finalConfig = mergeConfig(baseConfig, overrides);
```
