---
title: Контекст рендеринга Astro
sidebar:
  label: Контекст рендеринга
i18nReady: true
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 4
---
import Since from '~/components/Since.astro';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro';

При рендеринге страницы Astro предоставляет API времени выполнения, специфичное для текущего процесса. Это включает полезную информацию, такую как URL текущей страницы, а также функции для выполнения действий, например перенаправления.

В компонентах `.astro` этот контекст доступен через глобальный объект `Astro`. Функции эндпойнтов также вызываются с этим объектом контекста в качестве первого аргумента.

## Объект контекста

Следующие свойства доступны в глобальном объекте `Astro` (например, `Astro.props`, `Astro.redirect()`) и в объекте контекста, передаваемом в эндпойнты и мидлвары.

### `props`

`props` — это объект, содержащий значения, переданные как [атрибуты компонента](/ru/basics/astro-components/#пропсы-компонента).

```astro
---
// src/components/Heading.astro
const { title, date } = Astro.props;
---
<h1>{title}</h1>
<p>{date}</p>
```

### `params`

`params` — это объект, содержащий значения динамических сегментов маршрута. Ключи должны совпадать с [параметрами](/ru/guides/routing/#динамические-маршруты) в пути к файлу.

```astro title="src/pages/posts/[id].astro"
---
const { id } = Astro.params;
---
<h1>Пост №{id}</h1>
```

### `url`

`url` — это объект [URL](https://developer.mozilla.org/ru/docs/Web/API/URL), созданный на основе текущего запроса. Удобен для получения пути (`pathname`) или домена (`origin`).

```astro
<p>Текущий путь: {Astro.url.pathname}</p>
```

### `site`

`site` возвращает `URL`, настроенный в параметре `site` вашего конфига Astro.

### `clientAddress`

Указывает IP-адрес запроса. Доступно только для страниц, рендерящихся по запросу (on-demand).

### `generator`

Возвращает текущую версию Astro (например, `"Astro v5.0.0"`). Полезно для добавления мета-тега:
`<meta name="generator" content={Astro.generator} />`.

### `request`

Стандартный объект [Request](https://developer.mozilla.org/ru/docs/Web/API/Request). Позволяет получить заголовки, метод и тело запроса.

### `response`

Объект для настройки ответа. Позволяет задать статус или заголовки:

```astro
---
Astro.response.status = 404;
Astro.response.headers.set('Set-Cookie', 'foo=bar');
---
```

### `redirect()`

Позволяет перенаправить пользователя на другую страницу.

```astro
---
if (!isLoggedIn) return Astro.redirect('/login');
---
```

### `rewrite()`

<p><Since v="4.13.0" /></p>

Позволяет отобразить контент по другому пути без изменения URL в браузере.

```astro
---
return Astro.rewrite("/login");
---
```

### `locals`

Объект для хранения произвольной информации в рамках одного запроса, передаваемый из [мидлваров](/ru/guides/middleware/).

```astro
---
const user = Astro.locals.user;
---
```

### `cookies`

Утилиты для работы с куками (чтение, запись, удаление).

```astro
---
const sessionId = Astro.cookies.get('session-id')?.value;
Astro.cookies.set('visited', 'true');
---
```
