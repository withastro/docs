---
title: Страницы
description: Введение в страницы Astro.
i18nReady: true
---
import ReadMore from '~/components/ReadMore.astro';
import Since from '~/components/Since.astro'

**Страницы** — это файлы, расположенные в поддиректории `src/pages/` вашего проекта Astro. Они отвечают за маршрутизацию, загрузку данных и общую структуру каждой страницы вашего сайта.

## Поддерживаемые типы файлов

Astro поддерживает следующие типы файлов в директории `src/pages/`:

- [`.astro`](#страницы-astro)
- [`.md`](#страницы-markdownmdx)
- `.mdx` (при установленной [интеграции MDX](/ru/guides/integrations-guide/mdx/#installation))
- [`.html`](#страницы-html)
- `.js`/`.ts` (в качестве [эндпойнтов](/ru/guides/endpoints/))

## Маршрутизация на основе файлов

Astro использует стратегию, называемую **маршрутизацией на основе файлов**. Каждый файл в директории `src/pages/` становится эндпойнтом на вашем сайте, путь к которому соответствует пути к файлу.

Один файл также может генерировать несколько страниц с помощью [динамической маршрутизации](/ru/guides/routing/#dynamic-routes). Это позволяет создавать страницы, даже если ваш контент находится вне папки `/pages/`, например в [коллекции контента](/ru/guides/content-collections/) или внешней [CMS](/ru/guides/cms/).

<ReadMore>Узнайте больше о [маршрутизации в Astro](/ru/guides/routing/).</ReadMore>

### Ссылки между страницами

Для создания ссылок на другие страницы сайта используйте стандартные HTML-элементы [`<a>`](https://developer.mozilla.org/ru/docs/Web/HTML/Element/a). В качестве значения атрибута `href` используйте **путь относительно корня домена**, а не относительный путь к файлу.

Например, чтобы сослаться на `https://example.com/authors/sonali/` с любой другой страницы на `example.com`:

```astro title="src/pages/index.astro"
Читать подробнее <a href="/authors/sonali/">о Сонали</a>.
```

## Страницы Astro

Страницы Astro используют расширение `.astro` и поддерживают те же возможности, что и [компоненты Astro](/ru/basics/astro-components/).

```astro title="src/pages/index.astro"
---
---
<html lang="ru">
  <head>
    <title>Моя главная страница</title>
  </head>
  <body>
    <h1>Добро пожаловать на мой сайт!</h1>
  </body>
</html>
```

Страница должна возвращать полный HTML-документ. Если вы явно не указали декларацию `<!DOCTYPE html>` и содержимое `<head>`, Astro автоматически добавит их для любого `.astro` файла в папке `src/pages/`. Вы можете отключить это поведение для конкретного файла, пометив его как [фрагмент](#фрагменты-страниц).

Чтобы не дублировать одни и те же HTML-элементы на каждой странице, вы можете вынести общие части `<head>` и `<body>` в свои [компоненты макетов](/ru/basics/layouts/).

```astro title="src/pages/index.astro" /</?MySiteLayout>/ {2}
---
import MySiteLayout from "../layouts/MySiteLayout.astro";
---
<MySiteLayout>
  <p>Контент моей страницы, обёрнутый в макет!</p>
</MySiteLayout>
```

<ReadMore>Узнайте больше о [компонентах макетов](/ru/basics/layouts/) в Astro.</ReadMore>

## Страницы Markdown/MDX

Astro также рассматривает любые Markdown-файлы (`.md`) внутри `src/pages/` как страницы вашего сайта. Если установлена [интеграция MDX](/ru/guides/integrations-guide/mdx/#installation), то же самое относится и к файлам `.mdx`.

:::tip
Для групп связанных Markdown-файлов с одинаковой структурой (например, постов в блоге) лучше использовать [коллекции контента](/ru/guides/content-collections/), а не создавать страницы вручную.
:::

В Markdown-файлах можно использовать свойство `layout` в блоке метаданных (frontmatter), чтобы указать [компонент макета](/ru/basics/layouts/), который обернёт контент в полный HTML-документ.

```md {3}
---
# Пример: src/pages/page.md
layout: ../layouts/MySiteLayout.astro
title: Моя страница на Markdown
---
# Заголовок

Это моя страница, написанная на **Markdown.**
```

<ReadMore>Узнайте больше о [Markdown](/ru/guides/markdown-content/) в Astro.</ReadMore>

## Страницы HTML

Файлы с расширением `.html` в папке `src/pages/` также становятся страницами сайта. Однако имейте в виду, что некоторые ключевые возможности Astro не поддерживаются в [HTML-компонентах](/ru/basics/astro-components/#html-компоненты).

## Своя страница 404

Для создания собственной страницы ошибки 404 создайте файл `404.astro` или `404.md` в папке `src/pages/`.

В итоге будет создана страница `404.html`. Большинство [хостингов](/ru/guides/deploy/) автоматически найдут и будут использовать её при возникновении ошибки «Страница не найдена».

## Своя страница 500

Для отображения собственной страницы ошибки 500 для страниц, [рендеримых по запросу](/ru/guides/on-demand-rendering/), создайте файл `src/pages/500.astro`. Эта страница недоступна для предварительно отрендеренных страниц.

Если при рендеринге этой страницы возникнет ошибка, посетителю будет показана стандартная страница 500 вашего хостинга.

<p><Since v="4.10.3" /></p>

В режиме разработки, если у вас есть файл `500.astro`, возникающие ошибки будут выводиться в терминал, а не отображаться в оверлее ошибок браузера.

### `error`

<p><Since v="4.11.0" /></p>

`src/pages/500.astro` — это специальная страница, которая автоматически получает пропс `error` при возникновении любой ошибки рендеринга. Это позволяет использовать детали ошибки (например, из другой страницы или мидлвара) для вывода информации пользователю.

Тип данных пропса `error` может быть любым:

```astro title="src/pages/500.astro"
---
interface Props {
  error: unknown;
}

const { error } = Astro.props;
---
<div>{error instanceof Error ? error.message : "Неизвестная ошибка"}</div>
```

Будьте осторожны с выводом информации из пропса `error`, чтобы не раскрыть чувствительные данные сервера. Например, не стоит выводить стек вызовов (stack trace), так как он содержит информацию о структуре вашего кода на сервере.

## Фрагменты страниц

<p><Since v="3.4.0" /></p>

:::caution
Фрагменты (partials) предназначены для использования совместно с фронтенд-библиотеками, такими как [htmx](https://htmx.org/) или [Unpoly](https://unpoly.com/). Они являются продвинутой функцией.

Фрагменты не стоит использовать, если компонент содержит изолированные стили (scoped styles) или скрипты, так как они будут удалены из итогового HTML. Если вам нужны стили, лучше использовать обычные страницы вместе с библиотекой, умеющей объединять содержимое в `<head>`.
:::

Фрагменты — это компоненты страниц в папке `src/pages/`, которые не должны рендериться как полные страницы.

Как и обычные компоненты, эти файлы не включают автоматически декларацию `<!DOCTYPE html>` и содержимое `<head>`.

Однако, поскольку они находятся в папке `src/pages/`, их сгенерированный HTML доступен по URL. Это позволяет библиотекам (например, [htmx](https://htmx.org/), [Stimulus](https://stimulus.hotwired.dev/), [jQuery](https://jquery.com/)) динамически подгружать части HTML на страницу без её перезагрузки.

Фрагменты — это альтернатива [островкам Astro](/ru/concepts/islands/) и [тегам `<script>`](/ru/guides/client-side-scripts/) для создания динамического контента.

Пометить страницу как фрагмент можно с помощью экспорта `partial`:

```astro title="src/pages/partial.astro" ins={2}
---
export const partial = true;
---
<li>Я — фрагмент!</li>
```

### Использование с библиотеками

Пример ниже показывает использование атрибута `hx-post` (библиотека htmx) с URL фрагмента. Контент из фрагмента будет использован для обновления целевого элемента на странице.

```astro title="src/pages/index.astro" 'hx-post="/partials/clicked/"'
<html>
  <head>
    <title>Моя страница</title>
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  </head>
  <body>
    <section>
      <div id="parent-div">Цель обновления</div>
    
      <button hx-post="/partials/clicked/"
        hx-trigger="click"
        hx-target="#parent-div"
        hx-swap="innerHTML"
      >
        Нажми на меня!
      </button>
    </section>
  </body>
</html>
```

Соответствующий фрагмент:

```astro title="src/pages/partials/clicked.astro" {2}
---
export const partial = true;
---
<div>На меня нажали!</div>
```

Подробности смотрите в [документации htmx](https://htmx.org/docs/).
