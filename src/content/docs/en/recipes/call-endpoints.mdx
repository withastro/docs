---
title: Call endpoints from the server
description: Learn how to call endpoints from the server in Astro.
i18nReady: true
type: recipe
---

## Recipe

1. Create an endpoint in a new file `src/pages/api/hello.ts` that returns some data:

    ```ts title="src/pages/api/hello.ts"
    import type { APIRoute } from 'astro'

    export const get: APIRoute = () => {
      return {
        body: JSON.stringify({
          greeting: 'Hello',
        }),
      }
    }
    ```

2. Import the method from the endpoint & call it from a page (e.g. `src/pages/index.astro`). Await the result in the case it's a promise, and convert it to a `Response` if it's not already. Then, you can use the `Response` methods to get the data you need:

    ```tsx title="src/pages/index.astro"
    ---
    import { get } from './api/hello.ts'

    let res = await get(Astro)
    if (!(res instanceof Response)) res = new Response(res.body, res)

    const data = await res.json()
    ---

    <h1>Hello {data.hello}</h1>
    ```
