---
title: Deploy your Astro Site to GitHub Pages
description: How to deploy your Astro site to the web using GitHub Pages.
sidebar:
  label: GitHub Pages
type: deploy
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';

You can use [GitHub Pages](https://pages.github.com/) to host an Astro website directly from a repository on [GitHub.com](https://github.com/).

## How to deploy

You can deploy an Astro site to GitHub Pages by using [GitHub Actions](https://github.com/features/actions) to automatically build and deploy your site. To do this, your source code must be hosted on GitHub.

Astro maintains the official `withastro/action` to deploy your project with very little configuration. Follow the instructions below to deploy your Astro site to GitHub pages, and see [the package README](https://github.com/withastro/action) if you need more information.

## Configure Astro for GitHub Pages

### Deploying to a `github.io` URL

When deploying to a URL that includes your repository name as a subpath (like `https://username.github.io/astronaut/`), you'll need to set both the [`site`](/en/reference/configuration-reference/#site) and [`base`](/en/reference/configuration-reference/#base) options in `astro.config.mjs`.
    
```js title="astro.config.mjs" ins={4-5}
import { defineConfig } from 'astro/config'

export default defineConfig({
  site: 'https://username.github.io', // Replace with your GitHub Pages URL
  base: 'astronaut', // Replace with your repository name
})
```

#### `site`

The value for `site` should be your full GitHub Pages URL. It must be one of the following:

- The URL based on your username and repository: `https://username.github.io`
- The random URL autogenerated for a [GitHub Organization's private page](https://docs.github.com/en/enterprise-cloud@latest/pages/getting-started-with-github-pages/changing-the-visibility-of-your-github-pages-site): `https://<random-string>.pages.github.io/`

#### `base`

:::note
  Don't set a `base` parameter if:

- Your page is being served from a custom domain.
- Your repository is named `username.github.io` and you are deploying to `https://username.github.io/`. In this case, your site is already at the root.
:::

The `base` option specifies the subpath where your site will be served.
- Set `base` to your repository's name, for example `'astronaut'`. Astro will use this to understand that your site's root is `/<your-repo-name>/` rather than the default `/`.
- A leading slash (e.g., `'/astronaut'`) is also permissible and will typically result in the same behavior, but the common convention and example show it without.

:::caution[Important: Update Links and Asset Paths!]
When a `base` path is configured (e.g., `'astronaut'`), Astro does **not** automatically prepend this base to your root-relative links or asset paths in your `.astro` files, Markdown, or other content. You **must** update them.

The most reliable way to do this is by using `import.meta.env.BASE_URL`. This environment variable will correctly include your `base` path (e.g., `'/astronaut'`) or be `'/'` if no `base` is set.

**Example for links:**
```astro title="src/components/Header.astro"
---
// import.meta.env.BASE_URL will be '/astronaut' if base: 'astronaut'
// or '/' if no base is set.
const blogUrl = `${import.meta.env.BASE_URL}/blog/`;
---
<nav>
  <a href={import.meta.env.BASE_URL}>Home</a>
  <a href={`${import.meta.env.BASE_URL}/about/`}>About</a>
  <a href={blogUrl}>Blog</a>
</nav>
```

**Example for images or other static assets:**
```astro title="src/pages/index.astro"
---
// For an image in public/images/hero.png
const imageUrl = `${import.meta.env.BASE_URL}/images/hero.png`;
---
<img src={imageUrl} alt="Hero image" />

<!-- Or directly: -->
<img src={`${import.meta.env.BASE_URL}/images/another-image.jpg`} alt="Another image" />
```

For assets referenced in CSS files (e.g., `background-image: url(...)`), you may need to use relative paths from the CSS file to the asset, or ensure your build process correctly handles these paths if they are root-relative. Root-relative paths like `url(/fonts/...)` will resolve from the domain root, not your `base` path.

See more about [configuring a `base` value](/en/reference/configuration-reference/#base) and [`import.meta.env.BASE_URL`](/en/guides/environment-variables/#default-environment-variables).
:::

### Using GitHub pages with a custom domain

If you are using a [custom domain](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site) (e.g., `www.example.com`) with GitHub Pages, your site is served from the root of that domain.

:::tip[Set up a custom domain]
You can set up a custom domain by adding a `CNAME` file to your project's `public/` directory:

``` txt title="public/CNAME"
sub.mydomain.com
```

This will deploy your site at your custom domain instead of `username.github.io`. Don't forget to also [configure DNS for your domain provider](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain).
:::

To configure Astro for using GitHub pages with a custom domain:
1. Set your custom domain as the value for `site` in `astro.config.mjs`.
2. **Do not** set a value for `base`, as your site is at the root.

```js title="astro.config.mjs" ins={4}
import { defineConfig } from 'astro/config'

export default defineConfig({
  site: 'https://www.example.com', // Your custom domain
  // No 'base' needed when deploying to the root of a custom domain
})
```

## Configure a GitHub Action

<Steps>
1. Create a new file in your project at `.github/workflows/deploy.yml` and paste in the YAML below.

    ```yaml title=".github/workflows/deploy.yml"
    name: Deploy to GitHub Pages

    on:
      # Trigger the workflow every time you push to the `main` branch
      # Using a different branch name? Replace `main` with your branch’s name
      push:
        branches: [ main ]
      # Allows you to run this workflow manually from the Actions tab on GitHub.
      workflow_dispatch:
      
    # Allow this job to clone the repo and create a page deployment
    permissions:
      contents: read
      pages: write
      id-token: write

    jobs:
      build:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout your repository using git
            uses: actions/checkout@v4
          - name: Install, build, and upload your site
            uses: withastro/action@v3
            # with:
              # path: . # The root location of your Astro project inside the repository. (optional)
              # node-version: 22 # The specific version of Node that should be used to build your site. Defaults to 22. (optional)
              # package-manager: pnpm@latest # The Node package manager that should be used to install dependencies and build your site. Automatically detected based on your lockfile. (optional)

      deploy:
        needs: build
        runs-on: ubuntu-latest
        environment:
          name: github-pages
          url: ${{ steps.deployment.outputs.page_url }}
        steps:
          - name: Deploy to GitHub Pages
            id: deployment
            uses: actions/deploy-pages@v4
    ```

    :::note
    The action takes a few optional inputs. These can be provided by uncommenting the `with:` line and the input you want to use. Check the [action's README](https://github.com/withastro/action) for the latest options and versions.
    :::
    
    :::caution
    The official Astro [action](https://github.com/withastro/action) scans for a lockfile (e.g., `package-lock.json`, `yarn.lock`, `pnpm-lock.yaml`, `bun.lockb`) to detect your preferred package manager. You **must** commit this lockfile to your repository. If you encounter issues with package manager detection (e.g., for `pnpm`), ensure your `package.json` specifies the `packageManager` field (e.g., `"packageManager": "pnpm@8.15.0"`) or set it in the action's `with` block.
    :::

2. (Optional) If you pass environment variables to your Astro project during local development or when previewing builds, you will need to define any public variables in the `deploy.yml` file in order for them to be processed when you deploy to GitHub Pages. (See the [GitHub documentation on setting secrets](https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/store-information-in-variables#creating-configuration-variables-for-a-repository) for adding private environment variables.)

   ```yaml title="deploy.yml"
   jobs:
      build:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout your repository using git
            uses: actions/checkout@v4
          - name: Install, build, and upload your site
            uses: withastro/action@v3
            env:
              # Use single quotation marks for the variable value
              PUBLIC_EVM_WALLET_ADDRESS: '0x4bFc229A40d41698154336aFF864f61083E76659'
   ```


3. On GitHub, go to your repository’s **Settings** tab and, under "Code and automation", find the **Pages** section.

4. Choose **GitHub Actions** as the **Source** of your site.  

5. Commit the new workflow file (`deploy.yml`) and push it to your `main` branch (or your designated deployment branch).

</Steps>
  
Your site should now be published! When you push changes to your Astro project’s repository, the GitHub Action will automatically build and deploy them for you. You can monitor the progress in the "Actions" tab of your GitHub repository.

## Examples

- [Github Pages Deployment](https://github.com/hkbertoson/github-pages)
