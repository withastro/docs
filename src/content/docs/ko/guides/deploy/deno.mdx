---
title: Astro ì‚¬ì´íŠ¸ë¥¼ Denoì— ë°°í¬
description: Denoë¥¼ ì‚¬ìš©í•˜ì—¬ Astro ì‚¬ì´íŠ¸ë¥¼ ì›¹ì— ë°°í¬í•˜ëŠ” ë°©ë²•.
type: deploy
i18nReady: true
---

ì „ ì„¸ê³„ ì—£ì§€ì—ì„œ JavaScript, TypeScript ë° WebAssemblyë¥¼ ì‹¤í–‰í•˜ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì¸ [Deno Deploy](https://deno.com/deploy)ì— ì„œë²„ ì¸¡ ë Œë”ë§ëœ Astro ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ì•ˆë‚´ì„œì—ëŠ” GitHub Actions ë˜ëŠ” Deno Deployì˜ CLIë¥¼ í†µí•´ Deno Deployì— ë°°í¬í•˜ê¸° ìœ„í•œ ì§€ì¹¨ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ìš”êµ¬ ì‚¬í•­

ì´ ê°€ì´ë“œì—ì„œëŠ” [Deno](https://deno.com/)ê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ êµ¬ì„±

Astro í”„ë¡œì íŠ¸ëŠ” ì„œë²„ ì¸¡ ë Œë”ë§ ì‚¬ì´íŠ¸ (SSR)ë¡œ [Deno Deploy](https://deno.com/deploy)ì— ë°°í¬ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Deno DeployëŠ” ì •ì  ì‚¬ì´íŠ¸ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### SSRìš© ì–´ëŒ‘í„°

Astro í”„ë¡œì íŠ¸ì—ì„œ SSRì„ í™œì„±í™”í•˜ê³  Deno Deployì— ë°°í¬í•˜ë ¤ë©´:

`astro add` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ Astro í”„ë¡œì íŠ¸ì—ì„œ SSRì„ í™œì„±í™”í•˜ë ¤ë©´ [Deno ì–´ëŒ‘í„°][Deno adapter]ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ê·¸ëŸ¬ë©´ ì–´ëŒ‘í„°ê°€ ì„¤ì¹˜ë˜ê³  `astro.config.mjs` íŒŒì¼ì´ í•œ ë²ˆì— ì ì ˆí•˜ê²Œ ë³€ê²½ë©ë‹ˆë‹¤.

```bash
npx astro add deno
```

ëŒ€ì‹  ì–´ëŒ‘í„°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜í•˜ë ¤ë©´ ë‹¤ìŒ ë‘ ë‹¨ê³„ë¥¼ ì™„ë£Œí•˜ì„¸ìš”.

1. ì„ í˜¸í•˜ëŠ” íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì˜ ì¢…ì†ì„±ì— [`@astrojs/deno` ì–´ëŒ‘í„°][Deno adapter]ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. npmì„ ì‚¬ìš© ì¤‘ì´ê±°ë‚˜ í™•ì‹¤í•˜ì§€ ì•Šì€ ê²½ìš° í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì„¸ìš”.

    ```bash
      npm install @astrojs/deno
    ```

1. `astro.config.mjs` í”„ë¡œì íŠ¸ êµ¬ì„± íŒŒì¼ì„ ì•„ë˜ ë³€ê²½ ì‚¬í•­ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

    ```js ins={3,6-7}
    // astro.config.mjs
    import { defineConfig } from 'astro/config';
    import deno from '@astrojs/deno';

    export default defineConfig({
      output: 'server',
      adapter: deno(),
    });
    ```

    ë‹¤ìŒìœ¼ë¡œ `package.json` íŒŒì¼ì˜ `preview` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì•„ë˜ ë³€ê²½ ì‚¬í•­ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

    ```json del={8} ins={9}
    // package.json
    {
      // ...
      "scripts": {
        "dev": "astro dev",
        "start": "astro dev",
        "build": "astro build",
        "preview": "astro preview"
        "preview": "deno run --allow-net --allow-read --allow-env ./dist/server/entry.mjs"
      }
    }
    ```
    
    ì´ì œ ì´ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ Denoë¥¼ í†µí•´ ë¡œì»¬ì—ì„œ í”„ë¡œë•ì…˜ Astro ì‚¬ì´íŠ¸ë¥¼ ë¯¸ë¦¬ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    ```bash
    npm run preview
    ```

## ë°°í¬ ë°©ë²•

GitHub Actions ë˜ëŠ” Deno Deployì˜ CLI (ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤)ë¥¼ ì‚¬ìš©í•˜ì—¬ Deno Deployì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### GitHub Actions ë°°í¬

í”„ë¡œì íŠ¸ê°€ GitHubì— ì €ì¥ë˜ì–´ ìˆëŠ” ê²½ìš° [Deno Deploy ì›¹ì‚¬ì´íŠ¸](https://dash.deno.com/)ì—ì„œ Astro ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•˜ê¸° ìœ„í•œ GitHub Actions ì„¤ì • ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

1. ê³µê°œ ë˜ëŠ” ë¹„ê³µê°œ GitHub ì €ì¥ì†Œì— ì½”ë“œë¥¼ í‘¸ì‹œí•©ë‹ˆë‹¤.

1. GitHub ê³„ì •ìœ¼ë¡œ [Deno Deploy](https://dash.deno.com/)ì— ë¡œê·¸ì¸í•œ í›„ [New Project](https://dash.deno.com)ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

1. ì €ì¥ì†Œì™€ ë°°í¬í•  ë¸Œëœì¹˜ë¥¼ ì„ íƒí•˜ê³  **GitHub Action** ëª¨ë“œë¥¼ ì„ íƒí•©ë‹ˆë‹¤. (Astro ì‚¬ì´íŠ¸ì—ëŠ” ë¹Œë“œ ë‹¨ê³„ê°€ í•„ìš”í•˜ë©° ìë™ ëª¨ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.)
   
1. Astro í”„ë¡œì íŠ¸ì—ì„œ `.github/workflows/deploy.yml`ì— ìƒˆ íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ YAMLì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤. ì´ëŠ” Astro ì‚¬ì´íŠ¸ì— í•„ìš”í•œ ì¶”ê°€ ë‹¨ê³„ê°€ í¬í•¨ëœ Deno Deployì—ì„œ ì œê³µí•˜ëŠ” YAMLê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤.

    ```yaml
    name: Deploy
    on: [push]

    jobs:
      deploy:
        name: Deploy
        runs-on: ubuntu-latest
        permissions:
          id-token: write # Deno Deployë¥¼ í†µí•œ ì¸ì¦ì— í•„ìš”
          contents: read # ì €ì¥ì†Œë¥¼ ë³µì œí•˜ëŠ” ë° í•„ìš”

        steps:
          - name: Clone repository
            uses: actions/checkout@v3

          # npmì„ ì‚¬ìš©í•˜ì§€ ì•Šë‚˜ìš”? `npm ci`ë¥¼ `yarn install` ë˜ëŠ” `pnpm i`ë¡œ ë³€ê²½í•˜ì„¸ìš”.
          - name: Install dependencies
            run: npm ci
    
          # npmì„ ì‚¬ìš©í•˜ì§€ ì•Šë‚˜ìš”? `npm run build`ë¥¼ `yarn build` ë˜ëŠ” `pnpm run build`ë¡œ ë³€ê²½í•˜ì„¸ìš”.
          - name: Build Astro
            run: npm run build

          - name: Upload to Deno Deploy
            uses: denoland/deployctl@v1
            with:
              project: my-deno-project # TODO: Deno Deploy í”„ë¡œì íŠ¸ ì´ë¦„ìœ¼ë¡œ êµì²´
              entrypoint: server/entry.mjs
              root: dist
    ```

1. ì´ YAML íŒŒì¼ì„ ì»¤ë°‹í•˜ê³  êµ¬ì„±ëœ ë°°í¬ ë¸Œëœì¹˜ì—ì„œ GitHubë¡œ í‘¸ì‹œí•˜ë©´ ë°°í¬ê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤!

   GitHub ì €ì¥ì†Œ í˜ì´ì§€ ë˜ëŠ” [Deno Deploy](https://dash.deno.com)ì˜ "Actions" íƒ­ì„ ì‚¬ìš©í•˜ì—¬ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### CLI ë°°í¬

1. [Deno Deploy CLI](https://docs.deno.com/deploy/manual/deployctl)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

    ```bash
    deno install --allow-read --allow-write --allow-env --allow-net --allow-run --no-check -r -f https://deno.land/x/deploy/deployctl.ts
    ```

1. Astro ë¹Œë“œ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

    ```bash
    npm run build
    ```

1. ë°°í¬í•˜ë ¤ë©´ `deployctl`ì„ ì‹¤í–‰í•©ë‹ˆë‹¤!

   ì•„ë˜ ëª…ë ¹ì—ì„œ `<ACCESS-TOKEN>`ì„ [Personal Access Token](https://dash.deno.com/account#access-tokens)ìœ¼ë¡œ ë°”ê¾¸ê³  `<MY-DENO-PROJECT>`ë¥¼ Deno Deploy í”„ë¡œì íŠ¸ ì´ë¦„ìœ¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤.

    ```bash
    DENO_DEPLOY_TOKEN=<ACCESS-TOKEN> deployctl deploy --project=<MY-DENO-PROJECT> --no-static --include=./dist ./dist/server/entry.mjs
    ```
    
    [Deno Deploy](https://dash.deno.com)ì—ì„œ ëª¨ë“  ë°°í¬ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. (ì„ íƒ ì‚¬í•­) ë¹Œë“œë¥¼ ë‹¨ìˆœí™”í•˜ê³  í•˜ë‚˜ì˜ ëª…ë ¹ìœ¼ë¡œ ë°°í¬í•˜ë ¤ë©´ `package.json` íŒŒì¼ì— `deploy-deno` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

    ```json ins={9}
    // package.json
    {
      // ...
      "scripts": {
        "dev": "astro dev",
        "start": "astro dev",
        "build": "astro build",
        "preview": "deno run --allow-net --allow-read --allow-env ./dist/server/entry.mjs",
        "deno-deploy": "npm run build && deployctl deploy --project=<MY-DENO-PROJECT> --no-static --include=./dist ./dist/server/entry.mjs"
      }
    }
    ```
    
    ê·¸ëŸ° ë‹¤ìŒ ì´ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ Astro ì‚¬ì´íŠ¸ë¥¼ í•œ ë‹¨ê³„ë¡œ ë¹Œë“œí•˜ê³  ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    ```bash
    DENO_DEPLOY_TOKEN=<ACCESS-TOKEN> npm run deno-deploy
    ```

ğŸ“š [Astroì˜ SSR](/ko/guides/server-side-rendering/)ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.

[Deno adapter]: https://github.com/denoland/deno-astro-adapter