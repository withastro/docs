---
title: ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
description: fetch APIë¥¼ ì‚¬ìš©í•˜ì—¬ Astroë¡œ ì›ê²© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
i18nReady: true
---

`.astro` íŒŒì¼ì€ í˜ì´ì§€ ìƒì„±ì— ë„ì›€ì´ ë˜ëŠ” ì›ê²© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Astroì˜ `fetch()` í•¨ìˆ˜

ëª¨ë“  Astro ì»´í¬ë„ŒíŠ¸ëŠ” ìŠ¤í¬ë¦½íŠ¸ì—ì„œ [ì „ì—­ `fetch()` í•¨ìˆ˜](https://developer.mozilla.org/ko/docs/Web/API/fetch)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì „ì²´ URL(ì˜ˆ: https://example.com/api ë˜ëŠ” `Astro.url + "/api"`)ì„ ì‚¬ìš©í•´ APIì— HTTP ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.

ì´ fetch í˜¸ì¶œì€ ë¹Œë“œ ì‹œ ì‹¤í–‰ë˜ë©°, ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” ë™ì  HTMLì„ ìƒì„±í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [SSR](/ko/guides/server-side-rendering/) ëª¨ë“œê°€ í™œì„±í™”ë˜ë©´ ëª¨ë“  fetch í˜¸ì¶œì´ ëŸ°íƒ€ì„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.

ğŸ’¡ Astro ì»´í¬ë„ŒíŠ¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ [**ìµœìƒìœ„ await**](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await)ì„ í™œìš©í•˜ì„¸ìš”.

ğŸ’¡ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ Astro ë° í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```astro /await fetch\\(.*?\\)/
---
// src/components/User.astro
import Contact from '../components/Contact.jsx';
import Location from '../components/Location.astro';

const response = await fetch('https://randomuser.me/api/');
const data = await response.json();
const randomUser = data.results[0];
---
<!-- ë¹Œë“œ ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ HTMLë¡œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->
<h1>User</h1>
<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- ë¹Œë“œ ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->
<Contact client:load email={randomUser.email} />
<Location city={randomUser.location.city} />
```

:::note
Astro ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ë“  ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•˜ì„¸ìš”.

ë°°í¬ëœ Astro ì‚¬ì´íŠ¸ëŠ” **ë¹Œë“œ ì‹œì **ì— ë°ì´í„°ë¥¼ **í•œ ë²ˆ** ê°€ì ¸ì˜µë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ê°±ì‹ ë  ë•Œë§ˆë‹¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë²ˆ ë‹¤ì‹œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²½ìš°, [í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸](/ko/core-concepts/framework-components/)ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ Astro ì»´í¬ë„ŒíŠ¸ì—ì„œ [í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìŠ¤í¬ë¦½íŠ¸](/ko/guides/client-side-scripts/)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

:::

## í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸ì˜ `fetch()` í•¨ìˆ˜

`fetch()` í•¨ìˆ˜ëŠ” ëª¨ë“  [í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸](/ko/core-concepts/framework-components/)ì—ì„œ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx title="src/components/Movies.tsx" /await fetch\\(.*?\\)/
import type { FunctionalComponent } from 'preact';

const data = await fetch('https://example.com/movies.json').then((response) => response.json());

// ë¹Œë“œ ì‹œ ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” CLIì— ê¸°ë¡ë©ë‹ˆë‹¤.
// client:* ì§€ì‹œì–´ë¡œ ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë¸Œë¼ìš°ì € ì½˜ì†”ì— ê¸°ë¡ë©ë‹ˆë‹¤.
console.log(data);

const Movies: FunctionalComponent = () => {
  // ê²°ê³¼ë¥¼ í˜ì´ì§€ì— ì¶œë ¥
  return <div>{JSON.stringify(data)}</div>;
};

export default Movies;
```

## GraphQL ì¿¼ë¦¬

Astroì—ì„œ ìœ íš¨í•œ GraphQL ì¿¼ë¦¬ë¥¼ GraphQL ì„œë²„ì— ì „ë‹¬í•˜ê¸° ìœ„í•´ `fetch()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```astro title="src/components/Film.astro" "await fetch"
---
const response = await fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  });

const json = await response.json();
const { film } = json.data;
---
<h1>ìŠ¤íƒ€ì›Œì¦ˆ: ìƒˆë¡œìš´ í¬ë§ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘</h1>
<h2>ì œëª©: {film.title}</h2>
<p>ì¶œì‹œ ì—°ë„: {film.releaseDate}</p>
```

## í—¤ë“œë¦¬ìŠ¤ CMSì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

Astro ì»´í¬ë„ŒíŠ¸ëŠ” ì¦ê²¨ ì‚¬ìš©í•˜ëŠ” CMSì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ ì´ë¥¼ í˜ì´ì§€ ì½˜í…ì¸ ë¡œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ë™ì  ê²½ë¡œ](/ko/core-concepts/routing/#dynamic-routes)ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ CMS ì½˜í…ì¸ ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ìƒì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

Astroë¥¼ Storyblok, Contentful, WordPress ë“± ë‹¤ì–‘í•œ í—¤ë“œë¦¬ìŠ¤ CMSì™€ í†µí•©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [CMS ì•ˆë‚´ì„œ](/ko/guides/cms/)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

## ì»¤ë®¤ë‹ˆí‹° ìë£Œ

- [Astro + GraphQLì„ ì‚¬ìš©í•˜ì—¬ í’€ìŠ¤íƒ ì•± ë§Œë“¤ê¸°](https://robkendal.co.uk/blog/how-to-build-astro-site-with-graphql/)
