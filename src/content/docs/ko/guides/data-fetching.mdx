---
title: ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
description: Astroì—ì„œ fetch APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ê²© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
i18nReady: true
---
`.astro` íŒŒì¼ì€ í˜ì´ì§€ ìƒì„±ì„ ë•ê¸° ìœ„í•´ ì›ê²© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Astroì˜ `fetch()`

ëª¨ë“  [Astro ì»´í¬ë„ŒíŠ¸](/ko/basics/astro-components/)ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ [ì „ì—­ `fetch()` í•¨ìˆ˜](https://developer.mozilla.org/ko/docs/Web/API/Window/fetch)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì „ì²´ URL (ì˜ˆ: `https://example.com/api`)ì„ ì‚¬ìš©í•˜ì—¬ APIì— HTTP ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ [`new URL("/api", Astro.url)`](/ko/reference/api-reference/#url)ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ì‹œ ì„œë²„ì—ì„œ ë Œë”ë§ë˜ëŠ” í”„ë¡œì íŠ¸ í˜ì´ì§€ ë° ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ URLì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ fetch í˜¸ì¶œì€ ë¹Œë“œ ì‹œ ì‹¤í–‰ë˜ë©°, ë°ì´í„°ëŠ” ë™ì  HTML ìƒì„±ì„ ìœ„í•´ ì»´í¬ë„ŒíŠ¸ í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [SSR](/ko/guides/on-demand-rendering/) ëª¨ë“œê°€ í™œì„±í™”ëœ ê²½ìš° ëª¨ë“  fetch í˜¸ì¶œì€ ëŸ°íƒ€ì„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.

ğŸ’¡ Astro ì»´í¬ë„ŒíŠ¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ [**ìµœìƒìœ„ `await`**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await#top_level_await)ë¥¼ í™œìš©í•˜ì„¸ìš”.

ğŸ’¡ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ Astro ë° í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ì— propsë¡œ ì „ë‹¬í•˜ì„¸ìš”.

```astro /await fetch\\(.*?\\);/
---
// src/components/User.astro
import Contact from "../components/Contact.jsx";
import Location from "../components/Location.astro";

const response = await fetch("https://randomuser.me/api/");
const data = await response.json();
const randomUser = data.results[0];
---
<!-- ë¹Œë“œ ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” HTMLë¡œ ë Œë”ë§ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->
<h1>User</h1>
<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- ë¹Œë“œ ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->
<Contact client:load email={randomUser.email} />
<Location city={randomUser.location.city} />
```

:::note
Astro ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ë“  ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.

ë°°í¬ëœ Astro ì‚¬ì´íŠ¸ëŠ” **ë¹Œë“œ ì‹œ í•œ ë²ˆë§Œ** ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ìƒˆë¡œê³ ì¹¨ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë²ˆ ë‹¤ì‹œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²½ìš° Astro ì»´í¬ë„ŒíŠ¸ì—ì„œ [í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸](/ko/guides/framework-components/) ë˜ëŠ” [í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìŠ¤í¬ë¦½íŠ¸](/ko/guides/client-side-scripts/)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
:::

## í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸ì˜ `fetch()`

`fetch()` í•¨ìˆ˜ëŠ” ëª¨ë“  [í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸](/ko/guides/framework-components/)ì—ì„œë„ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="src/components/Movies.tsx" /await fetch\\(.*?\\)/
import type { FunctionalComponent } from "preact";

const data = await fetch("https://example.com/movies.json").then((response) => response.json());

// ë¹Œë“œ ì‹œ ë Œë”ë§ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” CLIì—ë„ ë¡œê·¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
// `client:*` ì§€ì‹œì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë Œë”ë§ë  ë•Œ ë¸Œë¼ìš°ì € ì½˜ì†”ì—ë„ ë¡œê·¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
console.log(data);

const Movies: FunctionalComponent = () => {
  // ê²°ê³¼ë¥¼ í˜ì´ì§€ì— ì¶œë ¥í•©ë‹ˆë‹¤.
  return <div>{JSON.stringify(data)}</div>;
};

export default Movies;
```

## GraphQL ì¿¼ë¦¬

AstroëŠ” ìœ íš¨í•œ GraphQL ì¿¼ë¦¬ì™€ `fetch()`ë¥¼ ì‚¬ìš©í•˜ì—¬ GraphQL ì„œë²„ë¥¼ ì¿¼ë¦¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```astro title="src/components/Film.astro" "await fetch"
---
const response = await fetch(
  "https://swapi-graphql.netlify.app/.netlify/functions/index",
  {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  }
);


const json = await response.json();
const { film } = json.data;
---
<h1>ìŠ¤íƒ€ì›Œì¦ˆ: ìƒˆë¡œìš´ í¬ë§ì— ëŒ€í•œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°</h1>
<h2>ì œëª©: {film.title}</h2>
<p>ê°œë´‰ì¼: {film.releaseDate}</p>
```

## í—¤ë“œë¦¬ìŠ¤ CMSì—ì„œ ê°€ì ¸ì˜¤ê¸°

Astro ì»´í¬ë„ŒíŠ¸ëŠ” ì¦ê²¨ ì‚¬ìš©í•˜ëŠ” CMSì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í˜ì´ì§€ ì½˜í…ì¸ ë¡œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ë™ì  ë¼ìš°íŠ¸](/ko/guides/routing/#ë™ì -ë¼ìš°íŠ¸)ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ CMS ì½˜í…ì¸ ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ìƒì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

Storyblok, Contentful, WordPressë¥¼ í¬í•¨í•œ í—¤ë“œë¦¬ìŠ¤ CMSì™€ Astroë¥¼ í†µí•©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [CMS ê°€ì´ë“œ](/ko/guides/cms/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ì»¤ë®¤ë‹ˆí‹° ë¦¬ì†ŒìŠ¤

- [Astro + GraphQLë¡œ í’€ìŠ¤íƒ ì•± ë§Œë“¤ê¸°](https://robkendal.co.uk/blog/how-to-build-astro-site-with-graphql/)
