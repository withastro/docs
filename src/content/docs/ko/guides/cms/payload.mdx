---
title: Payload CMS & Astro
description: Payloadë¥¼ CMSë¡œ ì‚¬ìš©í•˜ì—¬ Astro í”„ë¡œì íŠ¸ì— ì½˜í…ì¸  ì¶”ê°€
sidebar:
  label: Payload CMS
type: cms
stub: true
service: Payload CMS
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';

[PayloadCMS](https://payloadcms.com/)ëŠ” Astro í”„ë¡œì íŠ¸ì— ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í—¤ë“œë¦¬ìŠ¤ ì˜¤í”ˆ ì†ŒìŠ¤ ì½˜í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## Astroì™€ í†µí•©

### ì „ì œ ì¡°ê±´

1. **Astro í”„ë¡œì íŠ¸** - ì•„ì§ Astro í”„ë¡œì íŠ¸ê°€ ì—†ë‹¤ë©´ [ì„¤ì¹˜ ê°€ì´ë“œ](/ko/install-and-setup/)ë¥¼ ì°¸ì¡°í•˜ì—¬ ë°”ë¡œ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
2. **MongoDB ë°ì´í„°ë² ì´ìŠ¤** - PayloadCMSëŠ” ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ MongoDB ì—°ê²° ë¬¸ìì—´ì„ ìš”ì²­í•©ë‹ˆë‹¤. ë¡œì»¬ë¡œ ì„¤ì •í•˜ê±°ë‚˜ [MongoDBAtlas](https://www.mongodb.com/)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ì—ì„œ ë¬´ë£Œë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í˜¸ìŠ¤íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **PayloadCMS REST API** - [PayloadCMS](https://payloadcms.com/docs/getting-started/installation) í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì„¤ì • ì¤‘ì— MongoDB ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•©ë‹ˆë‹¤.

:::note[í…œí”Œë¦¿ ì„ íƒ]
PayloadCMS ì„¤ì¹˜ ì¤‘ì— í…œí”Œë¦¿ì„ ì‚¬ìš©í• ì§€ ë¬»ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.

ì´ ë‹¨ê³„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ í…œí”Œë¦¿ (ì˜ˆ: 'blog')ì„ ì„ íƒí•˜ë©´ ì‚¬ìš©í•  ì¶”ê°€ ì»¬ë ‰ì…˜ì´ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ PayloadCMS ì»¬ë ‰ì…˜ì„ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
:::

### PayloadCMS ì»¬ë ‰ì…˜ì„ ìœ„í•œ Astro êµ¬ì„±

Payload í”„ë¡œì íŠ¸ í…œí”Œë¦¿ì—ëŠ” `src/collections/`ì— Posts.tsë¼ëŠ” íŒŒì¼ì´ í¬í•¨ë©ë‹ˆë‹¤. ì„¤ì¹˜ ì¤‘ì— ì½˜í…ì¸  ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” í…œí”Œë¦¿ì„ ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš° ì´ êµ¬ì„± íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ìƒˆ Payload CMS ì»¬ë ‰ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì˜ˆëŠ” `title`, `content`, `slug` í•„ë“œê°€ í•„ìš”í•œ `posts` ì»¬ë ‰ì…˜ì— ëŒ€í•œ íŒŒì¼ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

```ts title="src/collections/Posts.ts"
import { CollectionConfig } from "payload/types";

const Posts: CollectionConfig = {
  slug: "posts",
  admin: {
    useAsTitle: "title",
  },
  access: {
    read: () => true,
  },

  fields: [
    {
      name: "title",
      type: "text",
      required: true,
    },
    {
      name: "content",
      type: "text",
      required: true,
    },
    {
      name: "slug",
      type: "text",
      required: true,
    },
  ],
};

export default Posts;
```

<Steps>
1. `Users` (ëª¨ë“  PayloadCMS í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥)ì™€ ê¸°íƒ€ ì»¬ë ‰ì…˜ (ì˜ˆ: `Posts`)ì„ ëª¨ë‘ ê°€ì ¸ì™€ `payload.config.ts` íŒŒì¼ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ì»¬ë ‰ì…˜ì— ì¶”ê°€í•©ë‹ˆë‹¤.

    ```ts title="src/payload.config.ts" ins={4, 5, 12}
    import { buildConfig } from "payload/config";
    import path from "path";

    import Users from "./collections/Users";
    import Posts from "./collections/Posts";

    export default buildConfig({
      serverURL: "http://localhost:4321",
      admin: {
        user: Users.slug,
      },
      collections: [Users, Posts],
      typescript: {
        outputFile: path.resolve(__dirname, "payload-types.ts"),
      },
      graphQL: {
        schemaOutputFile: path.resolve(__dirname, "generated-schema.graphql"),
      },
    });
    ```

    ì´ë ‡ê²Œ í•˜ë©´ PayloadCMS ëŒ€ì‹œë³´ë“œì˜ "Users" ì»¬ë ‰ì…˜ ì˜†ì— "Posts"ì´ë¼ëŠ” ìƒˆ ì»¬ë ‰ì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤.

2. "Posts" ì»¬ë ‰ì…˜ì— ë“¤ì–´ê°€ì„œ ìƒˆ ê²Œì‹œë¬¼ì„ ì‘ì„±í•˜ì„¸ìš”. ì €ì¥í•œ í›„ ì˜¤ë¥¸ìª½ í•˜ë‹¨ì— API URLì´ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì—ì„œ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:4321/api/posts`ë¥¼ ì—½ë‹ˆë‹¤. ê°ì²´ë¡œ ìƒì„±í•œ ê²Œì‹œë¬¼ì´ í¬í•¨ëœ JSON íŒŒì¼ì´ í‘œì‹œë©ë‹ˆë‹¤.

    ```json
    {
      "docs":[
          {
            "id":"64098b16483b0f06a7e20ed4",
            "title":"Astro & PayloadCMS Title ğŸš€",
            "content":"Astro & PayloadCMS Content",
            "slug":"astro-payloadcms-slug",
            "createdAt":"2023-03-09T07:30:30.837Z",
            "updatedAt":"2023-03-09T07:30:30.837Z"
          }
      ],
      "totalDocs":1,
      "limit":10,
      "totalPages":1,
      "page":1,
      "pagingCounter":1,
      "hasPrevPage":false,
      "hasNextPage":false,
      "prevPage":null,
      "nextPage":null
    }
    ```
</Steps>

:::tip
ê¸°ë³¸ì ìœ¼ë¡œ Astroì™€ PayloadCMSëŠ” ëª¨ë‘ í¬íŠ¸ 4321ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. `src/server.ts` íŒŒì¼ì—ì„œ PayloadCMS í¬íŠ¸ë¥¼ ë³€ê²½í•˜ê³  ì‹¶ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. `src/payload.config.ts` íŒŒì¼ì—ì„œë„ `serverURL`ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”.
:::

### ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

ì‚¬ì´íŠ¸ì˜ ê³ ìœ í•œ REST API URLê³¼ ì½˜í…ì¸  ê²½ë¡œë¥¼ í†µí•´ PayloadCMS ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. (ê¸°ë³¸ì ìœ¼ë¡œ PayloadCMSëŠ” `/api`ë¥¼ í†µí•´ ëª¨ë“  ê²½ë¡œë¥¼ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤.) ê·¸ëŸ° ë‹¤ìŒ Astroì˜ `set:html=""` ì§€ì‹œë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì†ì„±ì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì—¬ëŸ¬ë¶„ì˜ ê²Œì‹œë¬¼ê³¼ í•¨ê»˜ PayloadCMSëŠ” ì¼ë¶€ ìµœìƒìœ„ ë©”íƒ€ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì‹¤ì œ ë¬¸ì„œëŠ” `docs` ë°°ì—´ ë‚´ì— ì¤‘ì²©ë©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ê²Œì‹œë¬¼ ì œëª©ê³¼ ë‚´ìš© ëª©ë¡ì„ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì„¸ìš”.

```astro title="src/pages/index.astro"
---
import HomeLayout from "../layouts/HomeLayout.astro";

const res = await fetch("http://localhost:5000/api/posts") // ê¸°ë³¸ì ìœ¼ë¡œ http://localhost:4321/api/posts
const posts = await res.json()
---

<HomeLayout title='Astro Blog'>
	{
    posts.docs.map((post) => (
        <h2 set:html={post.title} />
        <p set:html={post.content} />
    ))
	}
</HomeLayout>
```

## PayloadCMSì™€ Astroë¡œ ë¸”ë¡œê·¸ êµ¬ì¶•í•˜ê¸°

ë¸”ë¡œê·¸ ìƒ‰ì¸ í˜ì´ì§€ `src/pages/index.astro`ë¥¼ ë§Œë“¤ì–´ ê° ê²Œì‹œë¬¼ì„ í•´ë‹¹ í˜ì´ì§€ì— ëŒ€í•œ ë§í¬ì™€ í•¨ê»˜ ë‚˜ì—´í•˜ì„¸ìš”.

APIë¥¼ í†µí•´ ê°€ì ¸ì˜¤ë©´ ë‹¤ìŒ ì†ì„±ì„ í¬í•¨í•˜ëŠ” ê°ì²´ (ê²Œì‹œë¬¼) ë°°ì—´ì´ ë°˜í™˜ë©ë‹ˆë‹¤.

- `title`
- `content`
- `slug`

```astro title="src/pages/index.astro"
---
import HomeLayout from "../layouts/HomeLayout.astro";

const res = await fetch("http://localhost:5000/api/posts") // ê¸°ë³¸ì ìœ¼ë¡œ http://localhost:4321/api/posts
const posts = await res.json()
---

<HomeLayout title='Astro Blog'>
	<h1>Astro + PayloadCMS ğŸš€</h1>
	<h2>Blog posts list:</h2>
	<ul>
		{
			posts.docs.map((post) =>(
				<li>
					<a href={`posts/${post.slug}`} set:html={post.title} />
				</li>
			))
		}
	</ul>
</HomeLayout>
```

### PayloadCMS APIë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ ìƒì„±

`src/pages/posts/[slug].astro` í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì—¬ ê° ê²Œì‹œë¬¼ì— ëŒ€í•œ [í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±](/ko/guides/routing/#ë™ì -ê²½ë¡œ)í•©ë‹ˆë‹¤.

```astro title="src/pages/posts/[slug].astro"
---
import PostLayout from "../../layouts/PostLayout.astro"

const {title, content} = Astro.props

// ì •ì  Astro ì‚¬ì´íŠ¸ì—ëŠ” getStaticPaths()ê°€ í•„ìš”í•©ë‹ˆë‹¤.
// SSRì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì´ í•¨ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
export async function getStaticPaths() {
    let data = await fetch("http://localhost:5000/api/posts")
    let posts = await data.json()

    return posts.docs.map((post) => {
        return {
            params: {slug: post.slug},
            props: {title: post.title, content: post.content},
        };
    });
} 
---
<PostLayout title={title}>
    <article>
        <h1 set:html={title} />
        <p set:html={content} />
    </article>
</PostLayout>
```

### ì‚¬ì´íŠ¸ ê²Œì‹œ

ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•˜ë ¤ë©´ [ë°°í¬ ê°€ì´ë“œ](/ko/guides/deploy/)ë¥¼ ë°©ë¬¸í•˜ì—¬ ì„ í˜¸í•˜ëŠ” í˜¸ìŠ¤íŒ… ì œê³µì—…ì²´ì˜ ì§€ì¹¨ì„ ë”°ë¥´ì„¸ìš”.

## ì»¤ë®¤ë‹ˆí‹° ë¦¬ì†ŒìŠ¤

- [ê³µì‹ Astro Payload CMS í†µí•©](https://github.com/payloadcms/payload/tree/main/examples/astro)ì„ í™•ì¸í•˜ì„¸ìš”.
- [Payload CMS & Astro í…œí”Œë¦¿](https://github.com/Lambdo-Labs/payloadcms-astro-template)ì„ ì‹œë„í•˜ì„¸ìš”.
- Dockerë¥¼ ì‚¬ìš©í•œ ì†ì‰¬ìš´ ê°œë°œ ë° VPS ë°°í¬ì— ëŒ€í•´ì„œëŠ” [Astroad](https://github.com/mooxl/astroad)ë¥¼ í™•ì¸í•˜ì„¸ìš”.
