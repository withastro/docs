---
title: Umbraco & Astro
description: Umbracoë¥¼ CMSë¡œ ì‚¬ìš©í•˜ì—¬ Astro í”„ë¡œì íŠ¸ì— ì½˜í…ì¸  ì¶”ê°€
sidebar:
  label: Umbraco
type: cms
stub: false
service: Umbraco
i18nReady: true
---
import { FileTree, Steps } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro'; 

[Umbraco CMS](https://umbraco.com/)ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ASP.NET Core CMSì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ UmbracoëŠ” í”„ëŸ°íŠ¸ì—”ë“œì— Razor í˜ì´ì§€ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ í—¤ë“œë¦¬ìŠ¤ CMSë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## Astroì™€ í†µí•©

ì´ ì„¹ì…˜ì—ì„œëŠ” Umbracoì˜ ê¸°ë³¸ [Content Delivery API](https://docs.umbraco.com/umbraco-cms/reference/content-delivery-api)ë¥¼ ì‚¬ìš©í•˜ì—¬ Astro í”„ë¡œì íŠ¸ì— ì½˜í…ì¸ ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì „ì œì¡°ê±´

ì‹œì‘í•˜ë ¤ë©´ ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤.

1. **Astro í”„ë¡œì íŠ¸** - ì•„ì§ Astro í”„ë¡œì íŠ¸ê°€ ì—†ë‹¤ë©´ [ì„¤ì¹˜ ê°€ì´ë“œ](/ko/install-and-setup/)ë¥¼ í†µí•´ ì¦‰ì‹œ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **Umbraco (v12+) í”„ë¡œì íŠ¸** - ì•„ì§ Umbraco í”„ë¡œì íŠ¸ê°€ ì—†ë‹¤ë©´ ì´ [ì„¤ì¹˜ ê°€ì´ë“œ](https://docs.umbraco.com/umbraco-cms/fundamentals/setup/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### Content Delivery API ì„¤ì •

Content Delivery APIë¥¼ í™œì„±í™”í•˜ë ¤ë©´ Umbraco í”„ë¡œì íŠ¸ì˜ `appsettings.json` íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```json title="appsettings.json"
{
  "Umbraco": {
    "CMS": {
      "DeliveryApi": {
        "Enabled": true,
        "PublicAccess": true
      }
    }
  }
}
```

í•„ìš”ì— ë”°ë¼ ê³µê°œ ì•¡ì„¸ìŠ¤, API í‚¤, í—ˆìš©ëœ ì½˜í…ì¸  ìœ í˜•, ë©¤ë²„ì‹­ ì¸ì¦ ë“±ê³¼ ê°™ì€ ì¶”ê°€ ì˜µì…˜ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Umbraco Content Delivery API ë¬¸ì„œ](https://docs.umbraco.com/umbraco-cms/reference/content-delivery-api)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

Content Delivery APIì— ëŒ€í•œ `fetch()` í˜¸ì¶œì„ ì‚¬ìš©í•˜ì—¬ ì½˜í…ì¸ ì— ì•¡ì„¸ìŠ¤í•˜ê³  Astro ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“­ë‹ˆë‹¤.

ë‹¤ìŒ ì˜ˆì‹œì—ì„œëŠ” ê¸°ì‚¬ ë‚ ì§œ ë° ì½˜í…ì¸ ì™€ ê°™ì€ ì†ì„±ì„ í¬í•¨í•˜ì—¬ ê°€ì ¸ì˜¨ ê¸°ì‚¬ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤.

```astro title="src/pages/index.astro"
---
const res = await fetch('http://localhost/umbraco/delivery/api/v2/content?filter=contentType:article');
const articles = await res.json();
---
<h1>Astro + Umbraco ğŸš€</h1>
{
  articles.items.map((article) => (
      <h1>{article.name}</h1>
      <p>{article.properties.articleDate}</p>
      <div set:html={article.properties.content?.markup}></div>
  ))
}
```


<ReadMore>[Astroì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°](/ko/guides/data-fetching/)ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.</ReadMore>

## Umbracoì™€ Astroë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°

### ì „ì œì¡°ê±´

- **Astro í”„ë¡œì íŠ¸** - ì•„ì§ Astro í”„ë¡œì íŠ¸ê°€ ì—†ë‹¤ë©´ [ì„¤ì¹˜ ê°€ì´ë“œ](/ko/install-and-setup/)ë¥¼ ì°¸ì¡°í•˜ì—¬ ë°”ë¡œ ì‹¤í–‰í•´ ë³´ì„¸ìš”.

- Content Delivery APIê°€ í™œì„±í™”ëœ  **Umbraco í”„ë¡œì íŠ¸ (v12+)** - ì´ [ì„¤ì¹˜ ê°€ì´ë“œ](https://docs.umbraco.com/umbraco-cms/fundamentals/setup/install/)ì— ë”°ë¼ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì„¸ìš”.

### Umbracoì—ì„œ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ë§Œë“¤ê¸°

[Umbraco ë°±ì˜¤í”¼ìŠ¤](https://docs.umbraco.com/umbraco-cms/fundamentals/backoffice)ì—ì„œ 'Article'ì´ë¼ëŠ” ê°„ë‹¨í•œ ë¸”ë¡œê·¸ ê¸°ì‚¬ì— ëŒ€í•œ Document Typeì„ ë§Œë“­ë‹ˆë‹¤.

<Steps>
1. ë‹¤ìŒ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ 'Article' Document Typeì„ êµ¬ì„±í•©ë‹ˆë‹¤.

		- Title (DataType: Textstring)
		- Article Date (DataType: Date Picker)
		- Content (DataType: Richtext Editor)

2. 'Article' ë¬¸ì„œ ìœ í˜•ì—ì„œ 'Allow as root'ì„ `true`ë¡œ ì „í™˜í•©ë‹ˆë‹¤.

3. Umbraco ë°±ì˜¤í”¼ìŠ¤ì˜ "Content" ì„¹ì…˜ì—ì„œ [ì²« ë²ˆì§¸ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ì„ ì‘ì„± ë° ê²Œì‹œ](https://docs.umbraco.com/umbraco-cms/fundamentals/data/defining-content)í•˜ì„¸ìš”. ì›í•˜ëŠ” ë§Œí¼ ì´ ê³¼ì •ì„ ë°˜ë³µí•˜ì„¸ìš”.

</Steps>

ìì„¸í•œ ë‚´ìš©ì€ [Document Types ìƒì„±ì— ëŒ€í•œ ë™ì˜ìƒ ê°€ì´ë“œ](https://www.youtube.com/watch?v=otRuIkN80qM)ë¥¼ ì‹œì²­í•˜ì„¸ìš”.

### Astroì—ì„œ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ëª©ë¡ í‘œì‹œ

`src/layouts/` í´ë”ë¥¼ ìƒì„±í•œ í›„ ë‹¤ìŒ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ íŒŒì¼ì¸ `Layout.astro`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```astro title="src/layouts/Layout.astro"
---
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My Blog with Astro and Umbraco</title>
</head>
<body>
    <main>
        <slot />
    </main>
</body>
</html>
```

ì´ì œ í”„ë¡œì íŠ¸ì— ë‹¤ìŒ íŒŒì¼ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

<FileTree>
- src/
  - **layouts/**
    - **Layout.astro**
  - pages/
    - index.astro
</FileTree>

ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ëª©ë¡ì„ ë§Œë“¤ë ¤ë©´ ë¨¼ì € `fetch`ë¥¼ í†µí•´ Content Delivery API `content` ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ê³  'article'ì˜ contentTypeì„ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§í•˜ì„¸ìš”. article ê°ì²´ì—ëŠ” CMSì— ì„¤ì •ëœ ì†ì„±ê³¼ ì½˜í…ì¸ ê°€ í¬í•¨ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ë¥¼ ëª¨ë“  ê¸°ì‚¬ì— ë°˜ë³µí•˜ì—¬ í•´ë‹¹ ê¸°ì‚¬ì— ëŒ€í•œ ë§í¬ì™€ í•¨ê»˜ ê° ì œëª©ì„ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`index.astro`ì˜ ê¸°ë³¸ ì½˜í…ì¸ ë¥¼ ë‹¤ìŒ ì½”ë“œë¡œ ë°”ê¿‰ë‹ˆë‹¤.

```astro title="src/pages/index.astro"
---
import Layout from '../layouts/Layout.astro';
const res = await fetch('http://localhost/umbraco/delivery/api/v2/content?filter=contentType:article');
const articles = await res.json();
---
<Layout>
	<h2>Blog Articles</h2>
	{
        articles.items.map((article: any) => (
            <div>
                <h3>{article.properties.title}</h3>
                <p>{article.properties.articleDate}</p>
                <a href={article.route.path}>Read more</a>
            </div>
        ))
    }
</Layout>
```

### ê°œë³„ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ìƒì„±

`/pages/` ë””ë ‰í„°ë¦¬ ë£¨íŠ¸ì— `[...slug].astro` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ [ê°œë³„ ë¸”ë¡œê·¸ í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±](/ko/guides/routing/#ë™ì -ê²½ë¡œ)í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

í˜ì´ì§€ì˜ URL ê²½ë¡œë¥¼ ìƒì„±í•˜ëŠ” `params` ì†ì„±ì—ëŠ” API fetchì˜ `article.route.path`ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ CMS í•­ëª©ì˜ ëª¨ë“  ì •ë³´ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ `props` ì†ì„±ì—ëŠ” ì „ì²´ `article` ìì²´ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ê°œë³„ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” `[...slug].astro` íŒŒì¼ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

```astro title="[...slug].astro"
---
import Layout from '../layouts/Layout.astro';

export async function getStaticPaths() {
    let data = await fetch("http://localhost/umbraco/delivery/api/v2/content?filter=contentType:article");
    let articles = await data.json();
    
    return articles.items.map((article: any) => ({
        params: { slug: article.route.path },
        props: { article: article },
    }));
}

const { article } = Astro.props;
---

<Layout>
  <h1>{article.properties.title}</h1>
  <p>{article.properties.articleDate}</p>
  <div set:html={article.properties.content?.markup}></div>
</Layout>
```

ì´ì œ í”„ë¡œì íŠ¸ì— ë‹¤ìŒ íŒŒì¼ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

<FileTree>
- src/
  - layouts/
    - Layout.astro
  - pages/
    - index.astro
    - **[...slug].astro**
</FileTree>

ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ ì´ì œ Astro í”„ë¡œì íŠ¸ì˜ ë¸Œë¼ìš°ì € ë¯¸ë¦¬ë³´ê¸°ì—ì„œ Umbracoê°€ ìƒì„±í•œ ì½˜í…ì¸ ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶•í•˜í•´ìš”! ğŸš€


## ì‚¬ì´íŠ¸ ê²Œì‹œ

ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•˜ë ¤ë©´ [ë°°í¬ ê°€ì´ë“œ](/ko/guides/deploy/)ë¥¼ ë°©ë¬¸í•˜ê³  ì„ í˜¸í•˜ëŠ” í˜¸ìŠ¤íŒ… ì œê³µì—…ì²´ì˜ ì§€ì¹¨ì„ ë”°ë¥´ì„¸ìš”.

## ë¡œì»¬ ê°œë°œ, HTTPS ë° ìì²´ ì„œëª… SSL ì¸ì¦ì„œ

Umbraco HTTPS ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë¡œì»¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° `fetch` ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ `DEPTH_ZERO_SELF_SIGNED_CERT` ì½”ë“œì™€ í•¨ê»˜ `fetch failed`ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” Astroê°€ êµ¬ì¶•ëœ Nodeê°€ ê¸°ë³¸ì ìœ¼ë¡œ ìì²´ ì„œëª…ëœ ì¸ì¦ì„œë¥¼ í—ˆìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë¥¼ ë°©ì§€í•˜ë ¤ë©´ ë¡œì»¬ ê°œë°œìš© Umbraco HTTP ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

ë˜ëŠ” `env.development` íŒŒì¼ì—ì„œ `NODE_TLS_REJECT_UNAUTHORIZED=0`ì„ ì„¤ì •í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ `astro.config.js` íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```sh title=".env.development"
NODE_TLS_REJECT_UNAUTHORIZED=0
```

```astro title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import { loadEnv } from "vite";

const { NODE_TLS_REJECT_UNAUTHORIZED } = loadEnv(process.env.NODE_ENV, process.cwd(), "");
process.env.NODE_TLS_REJECT_UNAUTHORIZED = NODE_TLS_REJECT_UNAUTHORIZED;
// https://astro.build/config
export default defineConfig({});
```

ì´ ë°©ë²•ì€ [ë™ë°˜ëœ ì €ì¥ì†Œ](https://github.com/kjac/UmbracoAzureCloudflare)ì™€ í•¨ê»˜ ì´ [ìì²´ ì„œëª… ì¸ì¦ì„œì— ë§ê²Œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ë¸”ë¡œê·¸ ê²Œì‹œë¬¼](https://kjac.dev/posts/jamstack-for-free-with-azure-and-cloudflare/)ì— ìì„¸íˆ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ê³µì‹ ë¬¸ì„œ
- [Content Delivery API - Umbraco ë¬¸ì„œ](https://docs.umbraco.com/umbraco-cms/reference/content-delivery-api)

## ì»¤ë®¤ë‹ˆí‹° ìë£Œ

- [Content Delivery APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì²œë¬¸í•™ì ìœ¼ë¡œ (Astro-nomically) ì„±ëŠ¥ì´ ë›°ì–´ë‚œ ì›¹ì‚¬ì´íŠ¸ - Louis Richardson](https://24days.in/umbraco-cms/2023/sustainable-performant/astronomically-performant/)
- [Umbracoì˜ Content Delivery APIì—ì„œ TypeScript OpenAPI í´ë¼ì´ì–¸íŠ¸ ìƒì„± - Rick Butterfield](https://rickbutterfield.dev/blog/typescript-openapi-umbraco-content-delivery/)
- [Azure ë° CloudFlareë¥¼ í†µí•œ ë¬´ë£Œ Jamstack - Kenn Jacobsen](https://kjac.dev/posts/jamstack-for-free-with-azure-and-cloudflare/)
- [Astroì™€ Umbracoë¥¼ ì‚¬ìš©í•œ ë¹ ë¥´ê³  ê°„ë‹¨í•œ ë¸”ë¡œê·¸ - Kenn Jacobsen](https://kjac.dev/posts/quick-n-dirty-blog-with-astro-and-umbraco/)
- [ê°•ì—°: íŠ€ê¸°ì§€ ë§ê³  êµ½ê¸° - Astro & Content Delivery API - Adam Prendergast](https://www.youtube.com/watch?v=zNxqI25dtx4)
