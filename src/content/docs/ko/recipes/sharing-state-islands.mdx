---
title: ì•„ì¼ëœë“œ ê°„ ìƒíƒœ ê³µìœ 
description: Nano Storeë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë ˆì„ì›Œí¬ ì»´í¬ë„ŒíŠ¸ ì „ì²´ì—ì„œ ìƒíƒœë¥¼ ê³µìœ í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
i18nReady: true
type: recipe
---

import UIFrameworkTabs from '~/components/tabs/UIFrameworkTabs.astro'
import LoopingVideo from '~/components/LoopingVideo.astro'
import JavascriptFlavorTabs from '~/components/tabs/JavascriptFlavorTabs.astro'
import RecipeLinks from "~/components/RecipeLinks.astro"

[ì•„ì¼ëœë“œ ì•„í‚¤í…ì²˜ / ë¶€ë¶„ ìˆ˜í™”](/ko/concepts/islands/)ë¥¼ ì‚¬ìš©í•˜ì—¬ Astro ì›¹ ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•  ë•Œ ë‹¤ìŒ ë¬¸ì œì— ì§ë©´í–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤: **ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœë¥¼ ê³µìœ í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.**

React ë˜ëŠ” Vueì™€ ê°™ì€ UI í”„ë ˆì„ì›Œí¬ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©í•˜ë„ë¡ ["context" providers](https://ko.react.dev/learn/passing-data-deeply-with-context)ë¥¼ ê¶Œì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ Astro ë˜ëŠ” Markdownì—ì„œ [ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ ìˆ˜í™”](/ko/guides/framework-components/#ì¸í„°ë™í‹°ë¸Œ-ì»´í¬ë„ŒíŠ¸-í•˜ì´ë“œë ˆì´ì…˜)í•˜ëŠ” ê²½ìš° ì´ëŸ¬í•œ ì»¨í…ìŠ¤íŠ¸ ë˜í¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

AstroëŠ” ê³µìœ  í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìŠ¤í† ë¦¬ì§€ë¥¼ ìœ„í•œ ë‹¤ë¥¸ ì†”ë£¨ì…˜ì¸ [**Nano Stores**](https://github.com/nanostores/nanostores)ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.

<RecipeLinks slugs={["ko/recipes/sharing-state"]} />

## ì™œ Nano Storesì¸ê°€ìš”?

[Nano Stores](https://github.com/nanostores/nanostores) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ì €ì¥ì†Œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ Nano Storeë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.
- **ê°€ë³ìŠµë‹ˆë‹¤.** Nano StoresëŠ” ì¢…ì†ì„±ì´ ì „í˜€ ì—†ëŠ” ìµœì†Œí•œì˜ í•„ìˆ˜ JS (1KB ë¯¸ë§Œ)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- **í”„ë ˆì„ì›Œí¬ì— êµ¬ì• ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.** ì´ëŠ” í”„ë ˆì„ì›Œí¬ ê°„ ìƒíƒœ ê³µìœ ê°€ ì›í™œí•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤! AstroëŠ” ìœ ì—°ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë¯€ë¡œ ì—¬ëŸ¬ë¶„ì˜ ì„ í˜¸ë„ì™€ ìƒê´€ì—†ì´ ìœ ì‚¬í•œ ê°œë°œì ê²½í—˜ì„ ì œê³µí•˜ëŠ” ì†”ë£¨ì…˜ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.

ê·¸ë˜ë„ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” ëŒ€ì•ˆì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ë‹¤ìŒì´ í¬í•¨ë©ë‹ˆë‹¤.
- [Svelteì˜ ë‚´ì¥ stores](https://svelte.dev/tutorial/writable-stores)
- ì»´í¬ë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ ì™¸ë¶€ [Solid signals](https://www.solidjs.com/docs/latest)
- [Vueì˜ reactivity API](https://ko.vuejs.org/guide/scaling-up/state-management#simple-state-management-with-reactivity-api)
- ì»´í¬ë„ŒíŠ¸ ê°„ [ì‚¬ìš©ì ì •ì˜ ë¸Œë¼ìš°ì € ì´ë²¤íŠ¸ ì „ì†¡](https://developer.mozilla.org/ko/docs/Web/Events/Creating_and_triggering_events)

:::note[ìì£¼í•˜ëŠ” ì§ˆë¬¸]

<details>
<summary>**ğŸ™‹ `.astro` íŒŒì¼ì´ë‚˜ ê¸°íƒ€ ì„œë²„ ì¸¡ ì»´í¬ë„ŒíŠ¸ì—ì„œ Nano Storesë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?**</summary>

Nano StoresëŠ” `<script>` íƒœê·¸ì—ì„œ [`.astro` ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœë¥¼ ê³µìœ ](/ko/recipes/sharing-state/)í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì„œë²„ ì¸¡ ì»´í¬ë„ŒíŠ¸ í”„ëŸ°íŠ¸ë§¤í„°ì—ì„œ Nano Storesë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì€ ì œí•œ ì‚¬í•­ìœ¼ë¡œ ì¸í•´ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- `.astro` íŒŒì¼ì´ë‚˜ [ìˆ˜í™”ë˜ì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸](/ko/guides/framework-components/#ì¸í„°ë™í‹°ë¸Œ-ì»´í¬ë„ŒíŠ¸-í•˜ì´ë“œë ˆì´ì…˜)ì—ì„œ ì €ì¥ì†Œì— ì“°ëŠ” ê²ƒì€ [í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì»´í¬ë„ŒíŠ¸](/ko/reference/directives-reference/#í´ë¼ì´ì–¸íŠ¸-ì§€ì‹œì–´)ì—ì„œ ë°›ì€ ê°’ì— ì˜í–¥ì„ ì£¼ì§€ _ì•ŠìŠµë‹ˆë‹¤._
- Nano Storesë¥¼ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì»´í¬ë„ŒíŠ¸ì— "prop"ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 
- Astro ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ `.astro` íŒŒì¼ì˜ ë³€ê²½ ì‚¬í•­ ì €ì¥ì„ êµ¬ë…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ì œí•œ ì‚¬í•­ì„ ì´í•´í•˜ê³ , ì—¬ì „íˆ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì°¾ê³  ìˆë‹¤ë©´ Nano Storesë¥¼ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤! Nano StoresëŠ” íŠ¹íˆ **í´ë¼ì´ì–¸íŠ¸**ì˜ ë³€ê²½ ì‚¬í•­ì— ë°˜ì‘í•˜ë„ë¡ êµ¬ì¶•ë˜ì—ˆë‹¤ëŠ” ì ì„ ê¸°ì–µí•˜ì„¸ìš”.

</details>

<details>
<summary>**ğŸ™‹ Svelte storesì€ Nano Storesê³¼ ì–´ë–»ê²Œ ë¹„êµë˜ë‚˜ìš”?**</summary>

**Nano Storesì™€ [Svelte stores](https://svelte.dev/tutorial/writable-stores)ì€ ë§¤ìš° ìœ ì‚¬í•©ë‹ˆë‹¤!** ì‹¤ì œë¡œ nanostoreë¥¼ ì‚¬ìš©í•˜ë©´ Svelte storesì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” êµ¬ë…ì— ëŒ€í•´ [ë™ì¼í•œ `$`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤](https://github.com/nanostores/nanostores#svelte).

íƒ€ì‚¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í”¼í•˜ê³  ì‹¶ë‹¤ë©´, [Svelte stores](https://svelte.dev/tutorial/writable-stores)ëŠ” ê·¸ ìì²´ë¡œ í›Œë¥­í•œ ì•„ì¼ëœë“œ ê°„ í†µì‹  ë„êµ¬ì…ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³ , a) ["objects"](https://github.com/nanostores/nanostores#maps) ë° [ë¹„ë™ê¸° ìƒíƒœ](https://github.com/nanostores/nanostores#lazy-stores)ì— ëŒ€í•œ ì¶”ê°€ ê¸°ëŠ¥ì´ ë§ˆìŒì— ë“¤ê±°ë‚˜ b) Svelteì™€ Preact ë˜ëŠ” Vueì™€ ê°™ì€ ë‹¤ë¥¸ UI í”„ë ˆì„ì›Œí¬ ê°„ í†µì‹ í•˜ë ¤ëŠ” ê²½ìš° Nano Storeë¥¼ ì„ í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</details>

<details>
<summary>**ğŸ™‹ Solid signalsëŠ” Nano Storesì™€ ì–´ë–»ê²Œ ë¹„êµë©ë‹ˆê¹Œ?**</summary>

í•œë™ì•ˆ Solidë¥¼ ì‚¬ìš©í•´ ë³¸ ì ì´ ìˆë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ [signals](https://www.solidjs.com/docs/latest#createsignal) ë˜ëŠ” [stores](https://www.solidjs.com/docs/latest#createstore)ë¥¼ ì´ë™í•´ ë³´ì…¨ì„ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” Solid ì•„ì¼ëœë“œ ê°„ ìƒíƒœë¥¼ ê³µìœ í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤! ê³µìœ  íŒŒì¼ì—ì„œ signalsë¥¼ ë‚´ë³´ë‚´ë³´ì„¸ìš”.

```js
// sharedStore.js
import { createSignal } from 'solid-js';

export const sharedCount = createSignal(0);
```

...ê·¸ë¦¬ê³  `sharedCount`ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ë™ì¼í•œ ìƒíƒœë¥¼ ê³µìœ í•©ë‹ˆë‹¤. ì´ê²ƒì´ ì˜ ì‘ë™í•˜ë”ë¼ë„ a) ["objects"](https://github.com/nanostores/nanostores#maps) ë° [ë¹„ë™ê¸° ìƒíƒœ](https://github.com/nanostores/nanostores#lazy-stores)ì— ëŒ€í•œ ì¶”ê°€ ê¸°ëŠ¥ì´ ë§ˆìŒì— ë“¤ê±°ë‚˜ b) Solidì™€ Preact ë˜ëŠ” Vueì™€ ê°™ì€ ë‹¤ë¥¸ UI í”„ë ˆì„ì›Œí¬ ê°„ í†µì‹ í•˜ë ¤ëŠ” ê²½ìš° Nano Storesë¥¼ ì„ í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</details>
:::

## Nano Stores ì„¤ì¹˜

ì‹œì‘í•˜ë ¤ë©´ ì¦ê²¨ ì‚¬ìš©í•˜ëŠ” UI í”„ë ˆì„ì›Œí¬ìš© ë„ìš°ë¯¸ íŒ¨í‚¤ì§€ì™€ í•¨ê»˜ Nano Storesë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”.

<UIFrameworkTabs>
  <Fragment slot="preact">
  ```shell
  npm install nanostores @nanostores/preact
  ```
  </Fragment>
  <Fragment slot="react">
  ```shell
  npm install nanostores @nanostores/react
  ```
  </Fragment>
  <Fragment slot="solid">
  ```shell
  npm install nanostores @nanostores/solid
  ```
  </Fragment>
  <Fragment slot="svelte">
  ```shell
  npm install nanostores
  ```
  :::note
  ì—¬ê¸°ì—ëŠ” ë„ìš°ë¯¸ íŒ¨í‚¤ì§€ê°€ ì—†ìŠµë‹ˆë‹¤! Nano StoresëŠ” í‘œì¤€ Svelte storesì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  :::
  </Fragment>
  <Fragment slot="vue">
  ```shell
  npm install nanostores @nanostores/vue
  ```
  </Fragment>
</UIFrameworkTabs>

ì—¬ê¸°ì—ì„œ [Nano Stores ì‚¬ìš© ì•ˆë‚´ì„œ](https://github.com/nanostores/nanostores#guide)ë¡œ ì´ë™í•˜ê±°ë‚˜ ì•„ë˜ ì˜ˆì‹œë¥¼ ë”°ë¼ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## ì‚¬ìš© ì˜ˆ - ì „ììƒê±°ë˜ ì¥ë°”êµ¬ë‹ˆ í”Œë¼ì´ì•„ì›ƒ

ì„¸ ê°€ì§€ ëŒ€í™”í˜• ìš”ì†Œë¡œ ê°„ë‹¨í•œ ì „ììƒê±°ë˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.
- "add to cart" ì œì¶œ ì–‘ì‹
- ì¶”ê°€ëœ í•­ëª©ì„ í‘œì‹œí•˜ëŠ” ì¥ë°”êµ¬ë‹ˆ í”Œë¼ì´ì•„ì›ƒ
- ì¥ë°”êµ¬ë‹ˆ í”Œë¼ì´ì•„ì›ƒ í† ê¸€

<LoopingVideo sources={[{ src: '/videos/stores-example.mp4', type: 'video/mp4' }]} />

[**ì™„ì„±ëœ ì˜ˆì‹œ**](https://github.com/withastro/astro/tree/main/examples/with-nanostores)ë¥¼ ì»´í“¨í„°ì—ì„œ ë˜ëŠ” StackBlitzë¥¼ í†µí•´ ì˜¨ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©í•´ ë³´ì„¸ìš”!

ê¸°ë³¸ Astro íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```astro
---
// src/pages/index.astro
import CartFlyoutToggle from '../components/CartFlyoutToggle';
import CartFlyout from '../components/CartFlyout';
import AddToCartForm from '../components/AddToCartForm';
---

<!DOCTYPE html>
<html lang="en">
<head>...</head>
<body>
  <header>
    <nav>
      <a href="/">Astro storefront</a>
      <CartFlyoutToggle client:load />
    </nav>
  </header>
  <main>
    <AddToCartForm client:load>
    <!-- ... -->
    </AddToCartForm>
  </main>
  <CartFlyout client:load />
</body>
</html>
```

### "atoms" ì‚¬ìš©

`CartFlyoutToggle`ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ `CartFlyout`ì„ ì—´ì–´ ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € ì €ì¥ì†Œë¥¼ í¬í•¨í•  ìƒˆ JS ë˜ëŠ” TS íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ["atom"](https://github.com/nanostores/nanostores#atoms)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
// src/cartStore.js
import { atom } from 'nanostores';

export const isCartOpen = atom(false);
```

ì´ì œ ì´ ì €ì¥ì†Œë¥¼ ì½ê±°ë‚˜ ì¨ì•¼ í•˜ëŠ” ëª¨ë“  íŒŒì¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `CartFlyoutToggle`ì„ ì—°ê²°í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.

<UIFrameworkTabs>
<Fragment slot="preact">
```jsx
// src/components/CartFlyoutToggle.jsx
import { useStore } from '@nanostores/preact';
import { isCartOpen } from '../cartStore';

export default function CartButton() {
  // `useStore` í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ê°’ì„ ì½ìŠµë‹ˆë‹¤.
  const $isCartOpen = useStore(isCartOpen);
  // `.set`ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ ì €ì¥ì†Œì— ì“°ê¸°
  return (
    <button onClick={() => isCartOpen.set(!$isCartOpen)}>Cart</button>
  )
}
```
</Fragment>
<Fragment slot="react">
```jsx
// src/components/CartFlyoutToggle.jsx
import { useStore } from '@nanostores/react';
import { isCartOpen } from '../cartStore';

export default function CartButton() {
  // `useStore` í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ê°’ì„ ì½ìŠµë‹ˆë‹¤.
  const $isCartOpen = useStore(isCartOpen);
  // `.set`ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ ì €ì¥ì†Œì— ì“°ê¸°
  return (
    <button onClick={() => isCartOpen.set(!$isCartOpen)}>Cart</button>
  )
}
```
</Fragment>
<Fragment slot="solid">
```jsx
// src/components/CartFlyoutToggle.jsx
import { useStore } from '@nanostores/solid';
import { isCartOpen } from '../cartStore';

export default function CartButton() {
  // `useStore` í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ê°’ì„ ì½ìŠµë‹ˆë‹¤.
  const $isCartOpen = useStore(isCartOpen);
  // `.set`ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ ì €ì¥ì†Œì— ì“°ê¸°
  return (
    <button onClick={() => isCartOpen.set(!$isCartOpen())}>Cart</button>
  )
}
```
</Fragment>
<Fragment slot="svelte">
```svelte
<!--src/components/CartFlyoutToggle.svelte-->
<script>
  import { isCartOpen } from '../cartStore';
</script>

<!--ì €ì¥ì†Œì˜ ê°’ì„ ì½ìœ¼ë ¤ë©´ "$"ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.-->
<button on:click={() => isCartOpen.set(!$isCartOpen)}>Cart</button>
```
</Fragment>
<Fragment slot="vue">
```vue
<!--src/components/CartFlyoutToggle.vue-->
<template>
  <!--`.set`ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ ì €ì¥ì†Œì— ì“°ê¸°-->
  <button @click="isCartOpen.set(!$isCartOpen)">Cart</button>
</template>

<script setup>
  import { isCartOpen } from '../cartStore';
  import { useStore } from '@nanostores/vue';

  // `useStore` í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ê°’ì„ ì½ìŠµë‹ˆë‹¤.
  const $isCartOpen = useStore(isCartOpen);
</script>
```
</Fragment>
</UIFrameworkTabs>

ê·¸ëŸ° ë‹¤ìŒ `CartFlyout` ì»´í¬ë„ŒíŠ¸ì—ì„œ `isCartOpen`ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<UIFrameworkTabs>
<Fragment slot="preact">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/preact';
import { isCartOpen } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);

  return $isCartOpen ? <aside>...</aside> : null;
}
```
</Fragment>
<Fragment slot="react">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/react';
import { isCartOpen } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);

  return $isCartOpen ? <aside>...</aside> : null;
}
```
</Fragment>
<Fragment slot="solid">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/solid';
import { isCartOpen } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);

  return $isCartOpen() ? <aside>...</aside> : null;
}
```
</Fragment>
<Fragment slot="svelte">
```svelte
<!--src/components/CartFlyout.svelte-->
<script>
  import { isCartOpen } from '../cartStore';
</script>

{#if $isCartOpen}
<aside>...</aside>
{/if}
```
</Fragment>
<Fragment slot="vue">
```vue
<!--src/components/CartFlyout.vue-->
<template>
  <aside v-if="$isCartOpen">...</aside>
</template>

<script setup>
  import { isCartOpen } from '../cartStore';
  import { useStore } from '@nanostores/vue';

  const $isCartOpen = useStore(isCartOpen);
</script>
```
</Fragment>

</UIFrameworkTabs>

### "maps" ì‚¬ìš©

:::tip
**[Maps](https://github.com/nanostores/nanostores#maps)ëŠ” ì •ê¸°ì ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê°ì²´ì— ëŒ€í•œ í›Œë¥­í•œ ì„ íƒì…ë‹ˆë‹¤!** `atom`ì´ ì œê³µí•˜ëŠ” í‘œì¤€ `get()` ë° `set()` ë„ìš°ë¯¸ì™€ í•¨ê»˜ ê°œë³„ ê°ì²´ í‚¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” `.setKey()` í•¨ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
:::

ì´ì œ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ í’ˆëª©ì„ ì¶”ì í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì¤‘ë³µì„ ë°©ì§€í•˜ê³  "ìˆ˜ëŸ‰"ì„ ì¶”ì í•˜ê¸° ìœ„í•´ í•­ëª© IDë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ì¥ë°”êµ¬ë‹ˆë¥¼ ê°ì²´ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ [Map](https://github.com/nanostores/nanostores#maps)ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

ì•ì„œ `cartStore.js`ì— `cartItem` ì €ì¥ì†Œë¥¼ ì¶”ê°€í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì›í•˜ëŠ” ê²½ìš° TypeScript íŒŒì¼ë¡œ ì „í™˜í•˜ì—¬ ëª¨ì–‘ì„ ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

<JavascriptFlavorTabs>
  <Fragment slot="js">
  ```js
  // src/cartStore.js
  import { atom, map } from 'nanostores';

  export const isCartOpen = atom(false);

  /**
   * @typedef {Object} CartItem
   * @property {string} id
   * @property {string} name
   * @property {string} imageSrc
   * @property {number} quantity
   */

  /** @type {import('nanostores').MapStore<Record<string, CartItem>>} */
  export const cartItems = map({});

  ```
  </Fragment>
  <Fragment slot="ts">
  ```ts
  // src/cartStore.ts
  import { atom, map } from 'nanostores';

  export const isCartOpen = atom(false);

  export type CartItem = {
    id: string;
    name: string;
    imageSrc: string;
    quantity: number;
  }

  export const cartItems = map<Record<string, CartItem>>({});
  ```
  </Fragment>
</JavascriptFlavorTabs>

ì´ì œ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©í•  `addCartItem` ë„ìš°ë¯¸ë¥¼ ë‚´ë³´ë‚´ ë³´ê² ìŠµë‹ˆë‹¤.
- **í•´ë‹¹ í’ˆëª©ì´ ì¥ë°”êµ¬ë‹ˆì— ì—†ìœ¼ë©´** ì‹œì‘ ìˆ˜ëŸ‰ 1ë¡œ í’ˆëª©ì„ ì¶”ê°€í•˜ì„¸ìš”.
- **í•´ë‹¹ í•­ëª©ì´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš°**, ìˆ˜ëŸ‰ì„ 1 ëŠ˜ë¦½ë‹ˆë‹¤.

<JavascriptFlavorTabs>
  <Fragment slot="js">
  ```js
  // src/cartStore.js
  ...
  export function addCartItem({ id, name, imageSrc }) {
    const existingEntry = cartItems.get()[id];
    if (existingEntry) {
      cartItems.setKey(id, {
        ...existingEntry,
        quantity: existingEntry.quantity + 1,
      })
    } else {
      cartItems.setKey(
        id,
        { id, name, imageSrc, quantity: 1 }
      );
    }
  }
  ```
  </Fragment>
  <Fragment slot="ts">
  ```ts
  // src/cartStore.ts
  ...
  type ItemDisplayInfo = Pick<CartItem, 'id' | 'name' | 'imageSrc'>;
  export function addCartItem({ id, name, imageSrc }: ItemDisplayInfo) {
    const existingEntry = cartItems.get()[id];
    if (existingEntry) {
      cartItems.setKey(id, {
        ...existingEntry,
        quantity: existingEntry.quantity + 1,
      });
    } else {
      cartItems.setKey(
        id,
        { id, name, imageSrc, quantity: 1 }
      );
    }
  }
  ```
  </Fragment>
</JavascriptFlavorTabs>

:::note
<details>

<summary>**ğŸ™‹ ì—¬ê¸°ì„œ `useStore` ë„ìš°ë¯¸ ëŒ€ì‹  `.get()`ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?**</summary>

React / Preact / Solid / Vue ì˜ˆì‹œì—ì„œ `useStore` ë„ìš°ë¯¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹  ì—¬ê¸°ì„œ `cartItems.get()`ì„ í˜¸ì¶œí•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ëˆˆì¹˜ì±˜ì„ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” **useStoreê°€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ê¸° ìœ„í•œ ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.** ì¦‰, ì €ì¥ì†Œ ê°’ì´ UIì— ë Œë”ë§ë  ë•Œë§ˆë‹¤ `useStore`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. **ì´ë²¤íŠ¸**ê°€ íŠ¸ë¦¬ê±°ë  ë•Œ (ì´ ê²½ìš° `addToCart`) ê°’ì„ ì½ê³  í•´ë‹¹ ê°’ì„ ë Œë”ë§í•˜ë ¤ê³  í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” `useStore`ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
</details>
:::

ì €ì¥ì†Œê°€ ì¤€ë¹„ë˜ë©´ í•´ë‹¹ ì–‘ì‹ì´ ì œì¶œë  ë•Œë§ˆë‹¤ `AddToCartForm` ë‚´ì—ì„œ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì „ì²´ ì¥ë°”êµ¬ë‹ˆ ìš”ì•½ì„ ë³¼ ìˆ˜ ìˆë„ë¡ ì¥ë°”êµ¬ë‹ˆ í”Œë¼ì´ì•„ì›ƒì„ ì—´ê² ìŠµë‹ˆë‹¤.

<UIFrameworkTabs>
<Fragment slot="preact">
```jsx
// src/components/AddToCartForm.jsx
import { addCartItem, isCartOpen } from '../cartStore';

export default function AddToCartForm({ children }) {
  // ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ í•­ëª© ì •ë³´ë¥¼ í•˜ë“œì½”ë”©í•˜ê² ìŠµë‹ˆë‹¤!
  const hardcodedItemInfo = {
    id: 'astronaut-figurine',
    name: 'Astronaut Figurine',
    imageSrc: '/images/astronaut-figurine.png',
  }

  function addToCart(e) {
    e.preventDefault();
    isCartOpen.set(true);
    addCartItem(hardcodedItemInfo);
  }

  return (
    <form onSubmit={addToCart}>
      {children}
    </form>
  )
}
```
</Fragment>
<Fragment slot="react">
```jsx
// src/components/AddToCartForm.jsx
import { addCartItem, isCartOpen } from '../cartStore';

export default function AddToCartForm({ children }) {
  // ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ í•­ëª© ì •ë³´ë¥¼ í•˜ë“œì½”ë”©í•˜ê² ìŠµë‹ˆë‹¤!
  const hardcodedItemInfo = {
    id: 'astronaut-figurine',
    name: 'Astronaut Figurine',
    imageSrc: '/images/astronaut-figurine.png',
  }

  function addToCart(e) {
    e.preventDefault();
    isCartOpen.set(true);
    addCartItem(hardcodedItemInfo);
  }

  return (
    <form onSubmit={addToCart}>
      {children}
    </form>
  )
}
```
</Fragment>
<Fragment slot="solid">
```jsx
// src/components/AddToCartForm.jsx
import { addCartItem, isCartOpen } from '../cartStore';

export default function AddToCartForm({ children }) {
  // ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ í•­ëª© ì •ë³´ë¥¼ í•˜ë“œì½”ë”©í•˜ê² ìŠµë‹ˆë‹¤!
  const hardcodedItemInfo = {
    id: 'astronaut-figurine',
    name: 'Astronaut Figurine',
    imageSrc: '/images/astronaut-figurine.png',
  }

  function addToCart(e) {
    e.preventDefault();
    isCartOpen.set(true);
    addCartItem(hardcodedItemInfo);
  }

  return (
    <form onSubmit={addToCart}>
      {children}
    </form>
  )
}
```
</Fragment>
<Fragment slot="svelte">
```svelte
<!--src/components/AddToCartForm.svelte-->
<form on:submit|preventDefault={addToCart}>
  <slot></slot>
</form>

<script>
  import { addCartItem, isCartOpen } from '../cartStore';

  // ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ í•­ëª© ì •ë³´ë¥¼ í•˜ë“œì½”ë”©í•˜ê² ìŠµë‹ˆë‹¤!
  const hardcodedItemInfo = {
    id: 'astronaut-figurine',
    name: 'Astronaut Figurine',
    imageSrc: '/images/astronaut-figurine.png',
  }

  function addToCart() {
    isCartOpen.set(true);
    addCartItem(hardcodedItemInfo);
  }
</script>
```
</Fragment>
<Fragment slot="vue">
```vue
<!--src/components/AddToCartForm.vue-->
<template>
  <form @submit="addToCart">
    <slot></slot>
  </form>
</template>

<script setup>
  import { addCartItem, isCartOpen } from '../cartStore';

  // ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ í•­ëª© ì •ë³´ë¥¼ í•˜ë“œì½”ë”©í•˜ê² ìŠµë‹ˆë‹¤!
  const hardcodedItemInfo = {
    id: 'astronaut-figurine',
    name: 'Astronaut Figurine',
    imageSrc: '/images/astronaut-figurine.png',
  }

  function addToCart(e) {
    e.preventDefault();
    isCartOpen.set(true);
    addCartItem(hardcodedItemInfo);
  }
</script>
```
</Fragment>

</UIFrameworkTabs>

ë§ˆì§€ë§‰ìœ¼ë¡œ `CartFlyout` ë‚´ë¶€ì— ì¥ë°”êµ¬ë‹ˆ í•­ëª©ì„ ë Œë”ë§í•©ë‹ˆë‹¤.

<UIFrameworkTabs>
<Fragment slot="preact">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/preact';
import { isCartOpen, cartItems } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);
  const $cartItems = useStore(cartItems);

  return $isCartOpen ? (
    <aside>
      {Object.values($cartItems).length ? (
        <ul>
          {Object.values($cartItems).map(cartItem => (
            <li>
              <img src={cartItem.imageSrc} alt={cartItem.name} />
              <h3>{cartItem.name}</h3>
              <p>Quantity: {cartItem.quantity}</p>
            </li>
          ))}
        </ul>
      ) : <p>Your cart is empty!</p>}
    </aside>
  ) : null;
}
```
</Fragment>
<Fragment slot="react">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/react';
import { isCartOpen, cartItems } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);
  const $cartItems = useStore(cartItems);

  return $isCartOpen ? (
    <aside>
      {Object.values($cartItems).length ? (
        <ul>
          {Object.values($cartItems).map(cartItem => (
            <li>
              <img src={cartItem.imageSrc} alt={cartItem.name} />
              <h3>{cartItem.name}</h3>
              <p>Quantity: {cartItem.quantity}</p>
            </li>
          ))}
        </ul>
      ) : <p>Your cart is empty!</p>}
    </aside>
  ) : null;
}
```
</Fragment>
<Fragment slot="solid">
```jsx
// src/components/CartFlyout.jsx
import { useStore } from '@nanostores/solid';
import { isCartOpen, cartItems } from '../cartStore';

export default function CartFlyout() {
  const $isCartOpen = useStore(isCartOpen);
  const $cartItems = useStore(cartItems);

  return $isCartOpen() ? (
    <aside>
      {Object.values($cartItems()).length ? (
        <ul>
          {Object.values($cartItems()).map(cartItem => (
            <li>
              <img src={cartItem.imageSrc} alt={cartItem.name} />
              <h3>{cartItem.name}</h3>
              <p>Quantity: {cartItem.quantity}</p>
            </li>
          ))}
        </ul>
      ) : <p>Your cart is empty!</p>}
    </aside>
  ) : null;
}
```
</Fragment>
<Fragment slot="svelte">
```svelte
<!--src/components/CartFlyout.svelte-->
<script>
  import { isCartOpen, cartItems } from '../cartStore';
</script>

{#if $isCartOpen}
  {#if Object.values($cartItems).length}
    <aside>
      {#each Object.values($cartItems) as cartItem}
      <li>
        <img src={cartItem.imageSrc} alt={cartItem.name} />
        <h3>{cartItem.name}</h3>
        <p>Quantity: {cartItem.quantity}</p>
      </li>
      {/each}
    </aside>
  {:else}
    <p>Your cart is empty!</p>
  {/if}
{/if}
```
</Fragment>
<Fragment slot="vue">
```vue
<!--src/components/CartFlyout.vue-->
<template>
  <aside v-if="$isCartOpen">
    <ul v-if="Object.values($cartItems).length">
      <li v-for="cartItem in Object.values($cartItems)" v-bind:key="cartItem.name">
        <img :src=cartItem.imageSrc :alt=cartItem.name />
        <h3>{{cartItem.name}}</h3>
        <p>Quantity: {{cartItem.quantity}}</p>
      </li>
    </ul>
    <p v-else>Your cart is empty!</p>
  </aside>
</template>

<script setup>
  import { cartItems, isCartOpen } from '../cartStore';
  import { useStore } from '@nanostores/vue';

  const $isCartOpen = useStore(isCartOpen);
  const $cartItems = useStore(cartItems);
</script>
```
</Fragment>

</UIFrameworkTabs>

ì´ì œ ì€í•˜ê³„ì—ì„œ ê°€ì¥ ì‘ì€ JS ë²ˆë“¤ì´ í¬í•¨ëœ ì™„ì „í•œ ëŒ€í™”í˜• ì „ììƒê±°ë˜ ì˜ˆì‹œê°€ ìƒê²¼ìŠµë‹ˆë‹¤. ğŸš€

[**ì™„ì„±ëœ ì˜ˆì‹œ**](https://github.com/withastro/astro/tree/main/examples/with-nanostores)ë¥¼ ì»´í“¨í„°ì—ì„œ ë˜ëŠ” StackBlitzë¥¼ í†µí•´ ì˜¨ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©í•´ ë³´ì„¸ìš”!
