---
type: tutorial
title: 'Kembali ke daratan. Ubah blog Anda dari siang ke malam, tanpa island!'
description: |-
  Tutorial: Bangun blog Astro pertama Anda —
  Bangun toggle tema terang/gelap hanya dengan JavaScript dan CSS
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import MultipleChoice from '~/components/tutorial/MultipleChoice.astro';
import Option from '~/components/tutorial/Option.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';

Sekarang setelah Anda bisa membangun Astro islands untuk elemen interaktif, jangan lupa bahwa Anda bisa melangkah jauh hanya dengan JavaScript dan CSS vanilla!

Mari kita bangun ikon yang dapat diklik agar pengguna Anda bisa beralih antara mode terang atau gelap menggunakan tag `<script>` lain untuk interaktivitas… tanpa JavaScript framework yang dikirim ke browser.

<PreCheck>
  - Bangun toggle tema interaktif hanya dengan JavaScript dan CSS
  - Kirim sesedikit mungkin JavaScript ke browser!
</PreCheck>

## Tambahkan dan gayakan ikon toggle tema

<Steps>
1. Buat file baru di `src/components/ThemeIcon.astro` dan tempelkan kode berikut ke dalamnya:

    ```astro title="src/components/ThemeIcon.astro"
    ---
    ---
    <button id="themeToggle" aria-label="Toggle theme">
      <svg aria-hidden="true" width="30px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path class="sun" fill-rule="evenodd" d="M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm0 1.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm12-7a.8.8 0 0 1-.8.8h-2.4a.8.8 0 0 1 0-1.6h2.4a.8.8 0 0 1 .8.8zM4 12a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1 0-1.6h2.5a.8.8 0 0 1 .8.8zm16.5-8.5a.8.8 0 0 1 0 1l-1.8 1.8a.8.8 0 0 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM6.3 17.7a.8.8 0 0 1 0 1l-1.7 1.8a.8.8 0 1 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM12 0a.8.8 0 0 1 .8.8v2.5a.8.8 0 0 1-1.6 0V.8A.8.8 0 0 1 12 0zm0 20a.8.8 0 0 1 .8.8v2.4a.8.8 0 0 1-1.6 0v-2.4a.8.8 0 0 1 .8-.8zM3.5 3.5a.8.8 0 0 1 1 0l1.8 1.8a.8.8 0 1 1-1 1L3.5 4.6a.8.8 0 0 1 0-1zm14.2 14.2a.8.8 0 0 1 1 0l1.8 1.7a.8.8 0 0 1-1 1l-1.8-1.7a.8.8 0 0 1 0-1z"/>
        <path class="moon" fill-rule="evenodd" d="M16.5 6A10.5 10.5 0 0 1 4.7 16.4 8.5 8.5 0 1 0 16.4 4.7l.1 1.3zm-1.7-2a9 9 0 0 1 .2 2 9 9 0 0 1-11 8.8 9.4 9.4 0 0 1-.8-.3c-.4 0-.8.3-.7.7a10 10 0 0 0 .3.8 10 10 0 0 0 9.2 6 10 10 0 0 0 4-19.2 9.7 9.7 0 0 0-.9-.3c-.3-.1-.7.3-.6.7a9 9 0 0 1 .3.8z"/>
      </svg>
    </button>

    <style>
      #themeToggle {
        border: 0;
        background: none;
      }
      .sun { fill: black; }
      .moon { fill: transparent; }

      :global(.dark) .sun { fill: transparent; }
      :global(.dark) .moon { fill: white; }
    </style>
    ```

2. Impor dan tambahkan komponen `<ThemeIcon  />` ke `Header.astro` sehingga ikon ditampilkan di semua halaman. Bungkus `<ThemeIcon />` dan `<Menu />` di dalam `<div>` untuk mengelompokkannya demi styling, dan tambahkan tag `<style>` seperti di bawah untuk beberapa gaya dasar agar tata letak lebih baik.

    ```astro title="src/components/Header.astro" ins={4,8-9,11,16-21}
    ---
    import Menu from './Menu.astro';
    import Navigation from './Navigation.astro';
    import ThemeIcon from './ThemeIcon.astro';
    ---
    <header>
      <nav>
        <div>
          <ThemeIcon />
          <Menu />
        </div>
        <Navigation />
      </nav>
    </header>

    <style>
      div {
        display: flex;
        justify-content: space-between;
      }
    </style>
    ```

3. Kunjungi pratinjau browser Anda di `http://localhost:4321` untuk melihat ikon tersebut kini ada di semua halaman. Anda bisa mencoba mengkliknya, tetapi Anda belum menulis skrip agar ikonnya interaktif.
</Steps>

## Tambahkan CSS untuk tema gelap

Pilih beberapa warna alternatif untuk digunakan dalam mode gelap.

<Steps>
1. Di `global.css`, definisikan beberapa gaya untuk mode gelap. Anda bisa memilih sendiri, atau salin-tempel contoh berikut:

    ```css title="src/styles/global.css"
    html.dark {
      background-color: #0d0950;
      color: #fff;
    }

    .dark .menu {
      background-color: #fff;
      color: #000;
    }

    .dark .nav-links a:hover,
    .dark .nav-links a:focus {
      color: #0d0950;
    }

    .dark .nav-links a {
      color: #fff;
    }

    .dark a {
      color: #ff9776;
    }
    ```
</Steps>

:::tip[Periksa warna untuk aksesibilitas]
Ketika Anda memperbarui situs untuk menyertakan mode gelap, beberapa warna yang digunakan mungkin perlu diperbarui.

Selalu periksa tampilan situs Anda ketika menambahkan gaya dan warna baru, lalu lakukan penyesuaian jika perlu! Ini bisa berarti menambahkan lebih banyak aturan gaya `.dark` untuk menampilkan gaya yang berbeda pada mode gelap, atau Anda mungkin ingin memperbarui beberapa warna agar sama‑sama nyaman di kedua tema.

Pertimbangkan menggunakan alat aksesibilitas seperti pemeriksa kontras saat membuat set warna untuk situs Anda. Atau, Anda bisa menjalankan pemeriksaan pada situs Anda dengan ekstensi browser untuk menemukan potensi masalah.
:::

## Tambahkan interaktivitas sisi-klien

Untuk menambahkan interaktivitas pada komponen Astro, Anda bisa menggunakan tag `<script>`. Skrip ini bisa memeriksa dan menyetel tema saat ini dari `localStorage` serta melakukan toggle tema ketika ikon diklik. 
<Steps>
1. Tambahkan tag `<script>` berikut di `src/components/ThemeIcon.astro` setelah tag `<style>` Anda:

    ```astro title="src/components/ThemeIcon.astro" ins={9-38}
    <style>
      .sun { fill: black; }
      .moon { fill: transparent; }

      :global(.dark) .sun { fill: transparent; }
      :global(.dark) .moon { fill: white; }
    </style>

    <script is:inline>
      const theme = (() => {
        const localStorageTheme = localStorage?.getItem("theme") ?? '';
        if (['dark', 'light'].includes(localStorageTheme)) {
          return localStorageTheme;
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return 'dark';
        }
          return 'light';
      })();
          
      if (theme === 'light') {
        document.documentElement.classList.remove('dark');
      } else {
        document.documentElement.classList.add('dark');
      }

      window.localStorage.setItem('theme', theme);

      const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");
        
        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
      }

      document.getElementById("themeToggle")?.addEventListener("click", handleToggleClick);
    </script>
    ```

2. Periksa pratinjau browser Anda di `http://localhost:4321` dan klik ikon tema. Pastikan Anda bisa berganti antara mode terang dan gelap.
</Steps>

<Box icon="question-mark">

### Uji pengetahuan Anda

Pilih apakah setiap pernyataan berikut menggambarkan tag `<script>` Astro, komponen UI framework, atau keduanya.

1. Mereka memungkinkan Anda menyertakan elemen UI interaktif di situs Anda.

    <MultipleChoice>
      <Option>
        Tag `<script>` Astro
      </Option>
      <Option>
        Komponen UI framework
      </Option>
      <Option isCorrect>
        keduanya
      </Option>
    </MultipleChoice>

2. Mereka akan membuat elemen statis di situs Anda kecuali Anda menyertakan `client:` untuk mengirim JavaScript mereka ke client dan berjalan di browser.

    <MultipleChoice>
      <Option>
        Tag `<script>` Astro
      </Option>
      <Option isCorrect>
        Komponen UI framework
      </Option>
      <Option>
        keduanya
      </Option>
    </MultipleChoice>

3. Mereka memungkinkan Anda “mencoba” framework baru tanpa perlu memulai proyek baru sepenuhnya menggunakan stack tersebut.

    <MultipleChoice>
      <Option>
        Tag `<script>` Astro
      </Option>
      <Option isCorrect>
        Komponen UI framework
      </Option>
      <Option>
        keduanya
      </Option>
    </MultipleChoice>

4. Mereka memungkinkan Anda menggunakan kembali kode yang Anda tulis di framework lain dan seringkali bisa langsung digunakan di situs Anda.

    <MultipleChoice>
      <Option>
        Tag `<script>` Astro
      </Option>
      <Option isCorrect>
        Komponen UI framework
      </Option>
      <Option>
        keduanya
      </Option>
    </MultipleChoice>

5. Mereka memungkinkan Anda menambah interaktivitas tanpa perlu tahu atau mempelajari framework JavaScript lain.

    <MultipleChoice>
      <Option isCorrect>
        Tag `<script>` Astro
      </Option>
      <Option>
        Komponen UI framework
      </Option>
      <Option>
        keduanya
      </Option>
    </MultipleChoice>
</Box>

<Box icon="check-list">

## Daftar Periksa

<Checklist>
- [ ] Saya bisa menggunakan JavaScript untuk interaktivitas ketika saya tidak ingin menambahkan framework.
</Checklist>
</Box>

### Sumber Daya

- [Skrip sisi-klien (`<script>`) di Astro](/id/guides/client-side-scripts/)
