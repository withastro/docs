---
type: tutorial
title: Buat arsip postingan blog
description: |-
  Tutorial: Bangun blog Astro pertamamu â€”
  Gunakan import.meta.glob() untuk mengakses data dari file di proyek Anda
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import MultipleChoice from '~/components/tutorial/MultipleChoice.astro';
import Option from '~/components/tutorial/Option.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';

Sekarang Anda sudah memiliki beberapa postingan blog untuk ditautkan, saatnya mengonfigurasi halaman Blog agar membuat daftar postingan secara otomatis!

<PreCheck>
  - Akses data dari semua posting Anda sekaligus menggunakan `import.meta.glob()`
  - Tampilkan daftar postingan yang dibuat secara dinamis di halaman Blog Anda
  - Refactor untuk menggunakan komponen `<BlogPost />` bagi tiap item daftar
</PreCheck>

## Tampilkan daftar postingan secara dinamis

<Steps>
1. Tambahkan kode berikut ke `blog.astro` untuk mengambil informasi dari semua file Markdown Anda. `import.meta.glob()` akan mengembalikan sebuah array objek, satu untuk tiap postingan blog.

    ```astro title="src/pages/blog.astro" ins={3}
    ---
    import BaseLayout from '../layouts/BaseLayout.astro'
    const allPosts = Object.values(import.meta.glob('./posts/*.md', { eager: true }));
    const pageTitle = "My Astro Learning Blog";
    ---
    <BaseLayout pageTitle={pageTitle}>
      <p>This is where I will post about my journey learning Astro.</p>
      <ul>
        <li><a href="/posts/post-1/">Post 1</a></li>
        <li><a href="/posts/post-2/">Post 2</a></li>
        <li><a href="/posts/post-3/">Post 3</a></li>
      </ul>
    </BaseLayout>
      ```


2. Untuk menghasilkan seluruh daftar postingan secara dinamis menggunakan judul dan URL-nya, ganti tag `<li>` individual Anda dengan kode Astro berikut:

    ```astro title="src/pages/blog.astro" del={9,10,11} ins={13}
    ---
    import BaseLayout from '../layouts/BaseLayout.astro'
    const allPosts = Object.values(import.meta.glob('./posts/*.md', { eager: true }));
    const pageTitle = "My Astro Learning Blog";
    ---
    <BaseLayout pageTitle={pageTitle}>
      <p>This is where I will post about my journey learning Astro.</p>
      <ul>
        <li><a href="/posts/post-1/">Post 1</a></li>
        <li><a href="/posts/post-2/">Post 2</a></li>
        <li><a href="/posts/post-3/">Post 3</a></li>

        {allPosts.map((post: any) => <li><a href={post.url}>{post.frontmatter.title}</a></li>)}
      </ul>
    </BaseLayout>
    ```

    Seluruh daftar postingan blog Anda kini dihasilkan secara dinamis menggunakan dukungan TypeScript bawaan Astro, dengan melakukan *map* terhadap array yang dikembalikan oleh `import.meta.glob()`.

3. Tambahkan postingan blog baru dengan membuat file `post-4.md` di `src/pages/posts/` dan isi dengan konten Markdown. Pastikan Anda menyertakan setidaknya properti *frontmatter* yang digunakan di bawah.

    ```markdown
    ---
    layout: ../../layouts/MarkdownPostLayout.astro
    title: Postingan Blog Keempat Saya
    author: Astro Learner
    description: "Posting ini akan muncul sendiri!"
    image: 
        url: "https://docs.astro.build/default-og-image.png"
        alt: "Kata astro di atas ilustrasi planet dan bintang."
    pubDate: 2022-08-08
    tags: ["astro", "successes"]
    ---
    Postingan ini seharusnya tampil bersama postingan blog lainnya, karena `import.meta.glob()` mengembalikan daftar semua posting untuk membuat daftar saya.
    ```

4. Kunjungi kembali halaman blog Anda di pratinjau browser `http://localhost:4321/blog` dan lihat apakah daftar itemnya telah menjadi empat, termasuk postingan baru Anda!
</Steps>

<Box icon="puzzle-piece">

## Tantangan: Buat komponen BlogPost

Cobalah sendiri untuk melakukan semua perubahan yang diperlukan pada proyek Astro Anda sehingga Anda dapat menggunakan kode berikut untuk menghasilkan daftar postingan blog:

```astro title="src/pages/blog.astro" del={2} ins={3}
<ul>
  {allPosts.map((post: any) => <li><a href={post.url}>{post.frontmatter.title}</a></li>)}
  {allPosts.map((post: any) => <BlogPost url={post.url} title={post.frontmatter.title} />)}
</ul>
```

<details>
<summary>Tampilkan langkah-langkahnya</summary>

<Steps>
1. Buat komponen baru di `src/components/`.

    <details>
    <summary>Tampilkan nama filenya</summary>
    ```
    BlogPost.astro
    ```
    </details>

2. Tulis baris kode di komponen Anda agar bisa menerima `title` dan `url` sebagai `Astro.props`.

    <details>
    <summary>Tampilkan kodenya</summary>
    ```astro
    ---
    // src/components/BlogPost.astro
    const { title, url } = Astro.props;
    ---
    ```
    </details>

3. Tambahkan *templating* yang digunakan untuk membuat setiap item pada daftar postingan blog Anda.

    <details>
    <summary>Tampilkan kodenya</summary>
    ```astro
    <!-- src/components/BlogPost.astro -->
    <li><a href={url}>{title}</a></li>
    ```
    </details>

4. Impor komponen baru ke halaman Blog Anda.

    <details>
    <summary>Tampilkan kodenya</summary>
    ```astro title="src/pages/blog.astro" ins={3}
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    import BlogPost from '../components/BlogPost.astro';
    const allPosts = Object.values(import.meta.glob('../pages/posts/*.md', { eager: true }));
    const pageTitle = "My Astro Learning Blog";
    ---
    ```
    </details>

5. Cek diri Anda: ini adalah kode komponen yang sudah jadi.

    <details>
    <summary>Tampilkan kodenya</summary>
    ```astro title="src/components/BlogPost.astro"
    ---
    const { title, url } = Astro.props
    ---
    <li><a href={url}>{title}</a></li>
    ```
    ```astro title="src/pages/blog.astro" ins={3,10}
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    import BlogPost from '../components/BlogPost.astro';
    const allPosts = Object.values(import.meta.glob('../pages/posts/*.md', { eager: true }));
    const pageTitle = "My Astro Learning Blog"
    ---
    <BaseLayout pageTitle={pageTitle}>
      <p>This is where I will post about my journey learning Astro.</p>
      <ul>
        {allPosts.map((post: any) => <BlogPost url={post.url} title={post.frontmatter.title} />)}
      </ul>
    </BaseLayout>
    ```
    </details>
</Steps>
</details>
</Box>



<Box icon="question-mark">

### Uji pengetahuan Anda

Jika komponen Astro Anda berisi baris kode berikut: 

```astro
---
const myPosts = Object.values(import.meta.glob('./posts/*.md', { eager:  true }));
---
```

Pilih sintaks yang dapat Anda tulis untuk merepresentasikan:

1. Judul postingan blog ketiga Anda.  

    <MultipleChoice>
      <Option>
        `myPosts.map((post) => <LastUpdated date={post.frontmatter.pubDate} />)`
      </Option>
      <Option isCorrect>
        `myPosts[2].frontmatter.title`
      </Option>
      <Option>
        `<a href={myPosts[0].url}>First Post!!</a>`
      </Option>
    </MultipleChoice>

2. Tautan ke URL postingan blog pertama Anda. 

    <MultipleChoice>
      <Option>
        `myPosts.map((post) => <LastUpdated date={post.frontmatter.pubDate} />)`
      </Option>
      <Option>
        `myPosts[2].frontmatter.title`
      </Option>
      <Option isCorrect>
        `<a href={myPosts[0].url}>First Post!!</a>`
      </Option>
    </MultipleChoice>

3. Sebuah komponen untuk setiap postingan, menampilkan tanggal terakhir diperbarui.

    <MultipleChoice>
      <Option isCorrect>
        `myPosts.map((post) => <LastUpdated date={post.frontmatter.pubDate} />)`
      </Option>
      <Option>
        `myPosts[2].frontmatter.title`
      </Option>
      <Option>
        `<a href={myPosts[0].url}>First Post!!</a>`
      </Option>
    </MultipleChoice>

</Box>

## Daftar Periksa

<Box icon="check-list">

<Checklist>
- [ ] Saya dapat melakukan *query* data dari file lokal saya.
- [ ] Saya dapat menampilkan daftar semua postingan blog saya.
</Checklist>
</Box>

### Sumber daya

- [Mengimpor pola glob di Astro](/id/guides/imports/#importmetaglob)
