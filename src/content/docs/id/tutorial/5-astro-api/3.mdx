---
type: tutorial
title: Bangun halaman indeks tag
description: |-
  Tutorial: Bangun blog Astro pertamamu —
  Gunakan semua yang sudah kamu pelajari sejauh ini untuk membuat halaman Indeks Tag
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import MultipleChoice from '~/components/tutorial/MultipleChoice.astro';
import Option from '~/components/tutorial/Option.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';

Sekarang kamu sudah memiliki halaman individual untuk setiap tag, saatnya membuat tautan ke halaman-halaman tersebut.

<PreCheck>
  - Tambahkan halaman baru menggunakan pola routing `/pages/folder/index.astro`
  - Tampilkan daftar semua tag unikmu, yang menaut ke setiap halaman tag
  - Perbarui situsmu dengan tautan navigasi ke halaman Tags baru ini
</PreCheck>

## Gunakan pola routing `/pages/folder/index.astro`

Untuk menambahkan halaman Indeks Tag ke situsmu, kamu bisa saja membuat file baru di `src/pages/tags.astro`. 

Namun, karena kamu sudah memiliki direktori `/tags/`, kamu bisa memanfaatkan pola routing lain di Astro, dan menyimpan semua berkas yang terkait tag tetap bersama.

<Box icon="puzzle-piece">

## Coba sendiri — Buat halaman Indeks Tag

<Steps>
1. Buat file baru `index.astro` di direktori `src/pages/tags/`.

2. Buka `http://localhost:4321/tags` dan pastikan situsmu sekarang memiliki halaman di URL tersebut. Halamannya masih kosong, tetapi sudah ada.

3. Buat halaman minimal di `src/pages/tags/index.astro` yang menggunakan layout-mu. Kamu sudah pernah melakukan ini!

    <details>
      <summary>Buka untuk melihat langkah-langkahnya</summary>
      <Steps>
      1. Buat komponen halaman baru di `src/pages/tags/`.

          <details>
          <summary>Tampilkan nama file</summary>
          ```
          index.astro
          ```
          </details>

      2. Impor dan gunakan `<BaseLayout>`-mu.

          <details>
          <summary>Tampilkan kode</summary>
          ```astro title=" src/pages/tags/index.astro"
          ---
          import BaseLayout from '../../layouts/BaseLayout.astro';
          ---
          <BaseLayout></BaseLayout>
          ```
          </details>

      3. Tentukan judul halaman, dan teruskan ke layout-mu sebagai atribut komponen.

          <details>
          <summary>Tampilkan kode</summary>
          ```astro title="src/pages/tags/index.astro" ins={3} "pageTitle"
          ---
          import BaseLayout from '../../layouts/BaseLayout.astro';
          const pageTitle = "Tag Index";
          ---
          <BaseLayout pageTitle={pageTitle}></BaseLayout>
          ```
          </details>
      </Steps>
    </details>

4. Cek pratinjau browser lagi dan kamu seharusnya memiliki halaman yang sudah terformat, siap ditambahkan konten!
</Steps>
</Box>

## Buat array tag

Kamu sebelumnya sudah menampilkan item dalam daftar dari sebuah array menggunakan `map()`. Seperti apa jika kamu mendefinisikan array semua tag-mu, lalu menampilkannya dalam daftar di halaman ini?

<details>
    <summary>Lihat kodenya</summary>
    
    ```astro title="src/pages/tags/index.astro"
    ---
    import BaseLayout from '../../layouts/BaseLayout.astro';    
    const tags = ['astro', 'blogging', 'learning in public', 'successes', 'setbacks', 'community']
    const pageTitle = "Tag Index";
    ---
    <BaseLayout pageTitle={pageTitle}>
      <ul>
        {tags.map((tag) => <li>{tag}</li>)}
      </ul>
    </BaseLayout>
    ```
</details>

Kamu bisa melakukannya, tetapi kemudian kamu harus kembali ke file ini dan memperbarui array setiap kali menggunakan tag baru di posting blog selanjutnya.

Untungnya, kamu sudah tahu cara mengambil data dari semua file Markdown-mu hanya dengan satu baris kode, lalu mengembalikan daftar semua tag.

<Steps>
1. Di `src/pages/tags/index.astro`, tambahkan satu baris kode ke skrip frontmatter yang akan memberikan akses halaman ini ke data dari setiap file posting blog `.md`.

    <details>
    <summary>Lihat kodenya</summary>
    ```astro title = "src/pages/tags/index.astro" ins={3}
    ---
    import BaseLayout from '../../layouts/BaseLayout.astro';
    const allPosts = Object.values(import.meta.glob('../posts/*.md', { eager: true }));
    const pageTitle = "Tag Index";
    ---
    ```
    </details>

2. Selanjutnya, tambahkan baris JavaScript berikut ke komponen halamanmu. Ini adalah kode yang sama (mengandalkan dukungan TypeScript bawaan Astro) yang kamu gunakan di `src/pages/tags/[tag].astro` untuk mengembalikan daftar tag unik.

    ```astro title = "src/pages/tags/index.astro" ins={4}
    ---
    import BaseLayout from '../../layouts/BaseLayout.astro';
    const allPosts = Object.values(import.meta.glob('../posts/*.md', { eager: true }));
    const tags = [...new Set(allPosts.map((post: any) => post.frontmatter.tags).flat())];
    const pageTitle = "Tag Index";
    ---
    
    ```
</Steps>

## Buat daftar tag-mu

Alih-alih membuat item dalam daftar tak berurut kali ini, buat satu `<p>` untuk tiap item, di dalam sebuah `<div>`. Polanya pasti terasa familiar!

<Steps>
1. Tambahkan kode berikut ke template komponenmu:

    ```astro title="src/pages/tags/index.astro" ins={2}
    <BaseLayout pageTitle={pageTitle}>
      <div>{tags.map((tag) => <p>{tag}</p>)}</div>
    </BaseLayout>
    ```
    Di pratinjau browser-mu, pastikan kamu bisa melihat tag yang terdaftar. Jika ada posting blog yang tidak memiliki tag, atau formatnya salah, dukungan TypeScript bawaan Astro akan menampilkan error sehingga kamu bisa memeriksa dan memperbaiki kodenya.

2. Untuk membuat setiap tag menaut ke halamannya sendiri, tambahkan tautan `<a>` berikut ke setiap nama tag:

    ```astro title="src/pages/tags/index.astro" '/tags/${tag}'
    <BaseLayout pageTitle={pageTitle}>
      <div>
        {tags.map((tag) => (
          <p><a href={`/tags/${tag}`}>{tag}</a></p>
        ))}
      </div>
    </BaseLayout>
    ```
</Steps>

## Tambahkan style pada daftar tag-mu

<Steps>
1. Tambahkan class CSS berikut untuk menata baik `<div>`-mu maupun setiap `<p>` yang akan dihasilkan. Catatan: Astro menggunakan sintaks HTML untuk menambahkan nama class!

    ```astro title="src/pages/tags/index.astro" 'class="tags"' 'class="tag"'
    <BaseLayout pageTitle={pageTitle}>
      <div class="tags">
        {tags.map((tag) => (
          <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>
        ))}
      </div>
    </BaseLayout>
    ```

2. Definisikan class CSS baru ini dengan menambahkan tag `<style>` berikut pada halaman ini:

    ```astro title="src/pages/tags/index.astro"
    <style>
      a {
        color: #00539F;
      }

      .tags {
        display: flex; 
        flex-wrap: wrap; 
      }

      .tag {
        margin: 0.25em;
        border: dotted 1px #a1a1a1;
        border-radius: .5em;
        padding: .5em 1em;
        font-size: 1.15em;
        background-color: #F8FCFD;
      }
    </style>
    ```

3. Cek pratinjau browser di `http://localhost:4321/tags` untuk memastikan style baru sudah terlihat dan setiap tag di halaman memiliki tautan yang berfungsi ke halaman tag individunya.
</Steps>

### Pemeriksaan Kode

Berikut tampilan halaman barumu:

```astro title="src/pages/tags/index.astro"
--- 
import BaseLayout from '../../layouts/BaseLayout.astro';
const allPosts = Object.values(import.meta.glob('../posts/*.md', { eager: true }));
const tags = [...new Set(allPosts.map((post: any) => post.frontmatter.tags).flat())];
const pageTitle = "Tag Index";
---
<BaseLayout pageTitle={pageTitle}>
  <div class="tags">
    {tags.map((tag) => (
      <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>
    ))}
  </div>
</BaseLayout>
<style>
  a {
    color: #00539F;
  }

  .tags {
    display: flex; 
    flex-wrap: wrap; 
  }

  .tag {
    margin: 0.25em;
    border: dotted 1px #a1a1a1;
    border-radius: .5em;
    padding: .5em 1em;
    font-size: 1.15em;
    background-color: #F8FCFD;
  }
</style>
```

## Tambahkan halaman ini ke navigasimu

Saat ini, kamu bisa membuka `http://localhost:4321/tags` dan melihat halaman ini. Dari halaman ini, kamu bisa mengeklik tautan ke halaman tag individualmu.

Namun, kamu masih perlu membuat halaman-halaman ini mudah ditemukan dari halaman lain di situsmu.

<Steps>
1. Di komponen `Navigation.astro`, sertakan tautan ke halaman indeks tag baru ini.

    <details>
    <summary>Tunjukkan kodenya</summary>
    ```astro title="src/components/Navigation.astro" ins={4}
    <a href="/">Home</a>
    <a href="/about/">About</a>
    <a href="/blog/">Blog</a>
    <a href="/tags/">Tags</a>
    ```
    </details>
</Steps>

<Box icon="puzzle-piece">

## Tantangan: Sertakan tag di layout posting blog-mu

Kamu kini telah menulis semua kode yang dibutuhkan untuk juga menampilkan daftar tag pada setiap posting blog, dan menautkannya ke halaman tag mereka. Kamu punya pekerjaan yang bisa digunakan ulang!

Ikuti langkah-langkah di bawah, lalu cocokkan pekerjaanmu dengan [contoh kode akhir](#code-check-in-markdownpostlayout).
<Steps>

1. Salin `<div class="tags">...</div>` dan `<style>...</style>` dari `src/pages/tags/index.astro` dan gunakan kembali di dalam `MarkdownPostLayout.astro`: 

    ```astro title="src/layouts/MarkdownPostLayout.astro" ins={11-15, 19-37}
    ---
    import BaseLayout from './BaseLayout.astro';
    const { frontmatter } = Astro.props;
    --- 
    <BaseLayout pageTitle={frontmatter.title}>
      <p>{frontmatter.pubDate.toString().slice(0,10)}</p>
      <p><em>{frontmatter.description}</em></p>
      <p>Written by: {frontmatter.author}</p>
      <img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} /> 

      <div class="tags">
        {tags.map((tag: string) => (
          <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>
        ))}
      </div>

      <slot />
    </BaseLayout>
    <style>
      a {
        color: #00539F;
      }

      .tags {
        display: flex; 
        flex-wrap: wrap; 
      }

      .tag {
        margin: 0.25em;
        border: dotted 1px #a1a1a1;
        border-radius: .5em;
        padding: .5em 1em;
        font-size: 1.15em;
        background-color: #F8FCFD;
      }
    </style>
    ```

</Steps>

Sebelum kode ini berfungsi, kamu perlu membuat **satu perubahan kecil** pada kode yang kamu tempel di `MarkdownPostLayout.astro`. Bisakah kamu menemukannya?

<details>
<summary>Beri aku petunjuk</summary>

Bagaimana properti (mis. title, author, dll.) lain ditulis di template layout-mu? Bagaimana layout-mu menerima props dari sebuah posting blog?
</details>

<details>
<summary>Beri aku petunjuk lagi!</summary>

Agar bisa menggunakan props (nilai yang diteruskan) dari posting blog `.md` di layout-mu, seperti tag, kamu perlu menambahkan awalan tertentu pada nilainya.

<details>
<summary>Tunjukkan kodenya!</summary>

```astro title="src/layouts/MarkdownPostLayout.astro" "frontmatter"
    <div class="tags">
      {frontmatter.tags.map((tag: string) => (
        <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>
      ))}
    </div>
```
</details>
</details>
</Box>

### Pemeriksaan Kode: MarkdownPostLayout

Untuk memeriksa pekerjaanmu, atau jika kamu hanya ingin kode lengkap yang benar untuk disalin ke `MarkdownPostLayout.astro`, berikut tampilan komponen Astro-mu:

```astro title="src/layouts/MarkdownPostLayout.astro"
---
import BaseLayout from './BaseLayout.astro';
const { frontmatter } = Astro.props;
--- 
<BaseLayout pageTitle={frontmatter.title}>
  <p><em>{frontmatter.description}</em></p>
  <p>{frontmatter.pubDate.toString().slice(0,10)}</p>

  <p>Written by: {frontmatter.author}</p>

  <img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} /> 

  <div class="tags">
    {frontmatter.tags.map((tag: string) => (
      <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>
    ))}
  </div>

  <slot />
</BaseLayout>
<style>
  a {
    color: #00539F;
  }

  .tags {
    display: flex; 
    flex-wrap: wrap; 
  }

  .tag {
    margin: 0.25em;
    border: dotted 1px #a1a1a1;
    border-radius: .5em;
    padding: .5em 1em;
    font-size: 1.15em;
    background-color: #F8FCFD;
  }
</style>
```



<Box icon="question-mark">

### Uji pengetahuanmu

Cocokkan setiap path file dengan path file kedua yang akan membuat halaman di rute yang sama.

1. `src/pages/categories.astro`

    <MultipleChoice>
      <Option>`src/pages/posts/post.astro`</Option>
      <Option>`src/pages/posts/index.astro`</Option>
      <Option>`src/components/shoes/Shoe.astro`</Option>
      <Option isCorrect>`src/pages/categories/index.astro`</Option>
    </MultipleChoice>

2. `src/pages/posts.astro`

    <MultipleChoice>
      <Option>`src/pages/products/shoes.astro`</Option>
      <Option>`src/pages/posts/post.astro`</Option>
      <Option isCorrect>`src/pages/posts/index.astro`</Option>
      <Option>`src/pages/categories/index.astro`</Option>
    </MultipleChoice>

3. `src/pages/products/shoes/index.astro`

    <MultipleChoice>
      <Option isCorrect>`src/pages/products/shoes.astro`</Option>
      <Option>`src/pages/posts/post.astro`</Option>
      <Option>`src/pages/posts/index.astro`</Option>
      <Option>`src/components/shoes/Shoe.astro`</Option>
    </MultipleChoice>

</Box>

<Box icon="check-list">

## Daftar Periksa

<Checklist>
- [ ] Saya bisa menggunakan fitur routing `/pages/folder/index.astro` milik Astro.
</Checklist>
</Box>

### Sumber Daya

- [Static Routing di Astro](/id/guides/routing/#static-routes)
