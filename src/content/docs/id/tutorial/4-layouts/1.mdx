---
type: tutorial
title: Bangun layout pertama Anda
description: |-
  Tutorial: Bangun blog Astro pertama Anda ‚Äî
  Refactor elemen umum menjadi layout halaman yang dapat digunakan ulang
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import MultipleChoice from '~/components/tutorial/MultipleChoice.astro';
import Option from '~/components/tutorial/Option.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';


<PreCheck>
  - Refactor elemen umum ke dalam sebuah layout halaman
  - Gunakan elemen Astro `<slot />` untuk menempatkan konten halaman di dalam layout
  - Teruskan nilai spesifik halaman sebagai props ke layout
</PreCheck>

Anda masih memiliki beberapa komponen Astro yang ditulis berulang di setiap halaman. Saatnya refactor lagi untuk membuat layout halaman bersama yang dapat digunakan ulang!

## Buat komponen layout pertama Anda

<Steps>
1. Buat file baru di `src/layouts/BaseLayout.astro`. (Anda perlu membuat folder `layouts` terlebih dahulu.)

2. Salin **seluruh isi** `index.astro` ke file baru tersebut, `BaseLayout.astro`.

    ```astro title="src/layouts/BaseLayout.astro"
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Home Page";
    ---
    <html lang="en">
      <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{pageTitle}</title>
      </head>
      <body>
        <Header />
        <h1>{pageTitle}</h1>
        <Footer />
        <script>
          import "../scripts/menu.js";
        </script>
      </body>
    </html>
    ```
</Steps>

## Gunakan layout Anda pada sebuah halaman

<Steps>
3. Ganti kode di `src/pages/index.astro` dengan berikut ini:

    ```astro title="src/pages/index.astro"
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    const pageTitle = "Home Page";
    ---
    <BaseLayout>
      <h2>My awesome blog subtitle</h2>
    </BaseLayout>
    ```

4. Periksa kembali pratinjau di browser untuk melihat apa yang (atau‚Ä¶ spoiler: apa yang _tidak_!) berubah.

5. Tambahkan elemen `<slot />` ke `src/layouts/BaseLayout.astro` tepat di atas komponen footer, lalu cek pratinjau halaman Beranda Anda dan lihat apa yang benar‚Äëbenar _berubah_ kali ini!

    ```astro title="src/layouts/BaseLayout.astro" ins={18}
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Home Page";
    ---
    <html lang="en">
      <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{pageTitle}</title>
      </head>
      <body>
        <Header />
        <h1>{pageTitle}</h1>
        <slot />
        <Footer />
        <script>
          import "../scripts/menu.js";
        </script>
      </body>
    </html>
    ```
</Steps>

Elemen `<slot />` memungkinkan Anda menyuntikkan (atau ‚Äúmenyisipkan‚Äù) **konten anak** yang ditulis di antara tag pembuka dan penutup `<Component></Component>` ke file `Component.astro` mana pun.

## Teruskan nilai spesifik halaman sebagai props

<Steps>
6. Teruskan judul halaman ke komponen layout dari `index.astro` menggunakan atribut komponen:

    ```astro title="src/pages/index.astro" 'pageTitle={pageTitle}'
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    const pageTitle = "Home Page";
    ---
    <BaseLayout pageTitle={pageTitle}>
      <h2>My awesome blog subtitle</h2>
    </BaseLayout>
    ```

7. Ubah skrip komponen layout `BaseLayout.astro` untuk menerima judul halaman melalui `Astro.props` alih‚Äëalih mendefinisikannya sebagai konstanta.

    ```astro title="src/layouts/BaseLayout.astro" del={5} ins={6}
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Home Page";
    const { pageTitle } = Astro.props;
    ---
    ```

8. Cek pratinjau browser untuk memastikan judul Anda tidak berubah. Nilainya sama, tetapi kini dirender secara dinamis. Dan sekarang, setiap halaman bisa menetapkan judulnya sendiri ke layout.
</Steps>

<Box icon="puzzle-piece">

## Coba sendiri ‚Äî Pakai layout Anda di semua halaman

**Refactor** halaman lain (`blog.astro` dan `about.astro`) sehingga menggunakan komponen `<BaseLayout>` untuk merender elemen halaman yang umum.

Jangan lupa:

- Teruskan judul halaman sebagai props melalui atribut komponen.

- Biarkan layout bertanggung jawab merender elemen umum apa pun.

- Pindahkan tag `<style>` yang ada di `<head>` halaman dengan gaya yang ingin Anda pertahankan ke template HTML halaman.

- Hapus apa pun dari setiap halaman yang sekarang ditangani oleh layout, termasuk:

  - Elemen HTML
  - Komponen dan impor komponennya
  - Aturan CSS dalam tag `<style>` (misalnya `<h1>` di halaman About)
  - Tag `<script>`

:::note[Menjaga gaya halaman About]
Menggunakan `<BaseLayout>` untuk merender halaman `about.astro` berarti Anda akan kehilangan tag `<style>` yang sebelumnya berada di `<head>` halaman ini. Untuk tetap memberikan gaya hanya pada tingkat halaman menggunakan scoped styling Astro, pindahkan tag `<style>` tersebut ke _body_ komponen halaman. Ini memungkinkan Anda menata **elemen yang dibuat di komponen halaman ini** (misalnya daftar skills Anda).

Karena `<h1>` kini dibuat oleh komponen layout Anda, Anda dapat menambahkan atribut `is:global` pada tag style untuk memengaruhi setiap elemen di halaman ini, termasuk yang dibuat oleh komponen lain: `<style is:global define:vars={{ skillColor, fontWeight, textCase }}>`
:::
</Box>



<Box icon="question-mark">

### Uji pengetahuan Anda

1. Sebuah komponen Astro (`.astro`) bisa berfungsi sebagai:

    <MultipleChoice>
      <Option>halaman</Option>
      <Option>komponen UI</Option>
      <Option>layout</Option>
      <Option isCorrect>semuanya benar, karena komponen Astro sangat fungsional! üèóÔ∏è</Option>
    </MultipleChoice>

2. Untuk menampilkan judul halaman, Anda bisa:

    <MultipleChoice>
      <Option>
        memakai elemen HTML standar di halaman dengan teks statis (mis. `<h1>Home Page</h1>`)
      </Option>
      <Option>
        memakai elemen HTML standar yang merujuk variabel di frontmatter komponen (mis. `<h1>{pageTitle}</h1>`)
      </Option>
      <Option>
        memakai komponen layout di halaman, meneruskan judul sebagai atribut komponen (mis. `<BaseLayout title="Home Page" />` atau `<BaseLayout title={pageTitle} />`)
      </Option>
      <Option isCorrect>
        semuanya benar ‚Äî Astro memungkinkan Anda memakai HTML biasa atau menambahkannya dengan skrip & komponen! üí™
      </Option>
    </MultipleChoice>

3. Informasi bisa diteruskan dari satu komponen ke komponen lain dengan:

    <MultipleChoice>
      <Option>
        mengimpor komponen UI dan merendernya di template komponen lain
      </Option>
      <Option>
        meneruskan props saat merender komponen melalui atribut komponen
      </Option>
      <Option>
        mengirim konten HTML untuk dirender di dalam komponen lain menggunakan placeholder `<slot />`
      </Option>
      <Option isCorrect>
        semuanya benar ‚Äî Astro dibuat untuk mendukung desain berbasis komponen! üß©
      </Option>
    </MultipleChoice>

</Box>

<Box icon="check-list">

## Daftar periksa

<Checklist>
- [ ] Saya bisa membuat komponen layout Astro dengan `<slot />`.
- [ ] Saya bisa mengirim properti spesifik halaman ke layout.
</Checklist>
</Box>

### Sumber daya

- [Komponen layout Astro](/id/basics/layouts/)

- [Astro `<slot />`](/id/basics/astro-components/#slots)
