---
title: Publikasi ke npm
description: Pelajari cara mempublikasikan komponen Astro ke npm
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';
import { FileTree } from '@astrojs/starlight/components';

Sedang membangun komponen Astro baru? **Publikasikan ke [npm!](https://npmjs.com/)**

Mempublikasikan komponen Astro adalah cara yang tepat untuk menggunakan kembali pekerjaan Anda di berbagai proyek, dan berbagi dengan komunitas Astro yang lebih luas. Komponen Astro dapat dipublikasikan langsung ke dan diinstal dari npm, seperti paket JavaScript lainnya.

Butuh inspirasi? Lihat beberapa [tema](https://astro.build/themes/) dan [komponen](https://astro.build/integrations/) favorit kami dari komunitas Astro. Anda juga dapat [mencari di npm](https://www.npmjs.com/search?q=keywords:astro-component,withastro) untuk melihat seluruh katalog publik.

:::tip[Tidak ingin jalan sendiri?]
Lihat [template komponen dari Astro Community](https://github.com/astro-community/component-template) untuk template siap pakai yang didukung komunitas!
:::

## Mulai Cepat

Untuk mulai mengembangkan komponen Anda dengan cepat, gunakan template yang sudah disiapkan.

```bash
# Inisialisasi template Komponen Astro di direktori baru
npm create astro@latest my-new-component-directory -- --template component
# yarn
yarn create astro my-new-component-directory --template component
# pnpm
pnpm create astro@latest my-new-component-directory -- --template component
```

## Membuat paket

:::note[Prasyarat]
Sebelum mulai, akan membantu bila Anda memahami hal‑hal berikut:

- [Node Modules](https://docs.npmjs.com/creating-node-js-modules)
- [Manifest Paket (`package.json`)](https://docs.npmjs.com/creating-a-package-json-file)
- [Workspaces](https://docs.npmjs.com/cli/v7/configuring-npm/package-json#workspaces)
:::

Untuk membuat paket baru, konfigurasikan lingkungan pengembangan Anda untuk menggunakan **workspaces** di dalam proyek. Ini memungkinkan Anda mengembangkan komponen berdampingan dengan salinan Astro yang berjalan.

<FileTree>
- my-new-component-directory/
  - demo/
    - ... untuk pengujian dan demo
  - package.json
  - packages/
    - my-component/
      - index.js
      - package.json
      - ... file tambahan yang digunakan paket
</FileTree>

Contoh di atas, bernama `my-project`, membuat proyek dengan satu paket bernama `my-component`, dan direktori `demo/` untuk menguji serta mendemokan komponen.

Ini dikonfigurasi pada `package.json` di root proyek:

```json
{
  "name": "my-project",
  "workspaces": ["demo", "packages/*"]
}
```

Pada contoh ini, beberapa paket dapat dikembangkan bersama di direktori `packages`. Paket‑paket ini juga dapat direferensikan dari `demo`, tempat Anda dapat memasang salinan Astro yang berjalan.

```shell
npm create astro@latest demo -- --template minimal
# yarn
yarn create astro demo --template minimal
# pnpm
pnpm create astro@latest demo -- --template minimal
```

Ada dua file awal yang membentuk paket individual Anda: `package.json` dan `index.js`.

### `package.json`

`package.json` di direktori paket mencakup semua informasi terkait paket Anda, termasuk deskripsi, dependensi, dan metadata paket lainnya.

```json
{
  "name": "my-component",
  "description": "Deskripsi komponen",
  "version": "1.0.0",
  "homepage": "https://github.com/owner/project#readme",
  "type": "module",
  "exports": {
    ".": "./index.js",
    "./astro": "./MyAstroComponent.astro",
    "./react": "./MyReactComponent.jsx"
  },
  "files": ["index.js", "MyAstroComponent.astro", "MyReactComponent.jsx"],
  "keywords": ["astro", "withastro", "astro-component", "...", "..."]
}
```

#### `description`

Deskripsi singkat komponen Anda untuk membantu orang lain memahami fungsinya.

```json
{
  "description": "Astro Element Generator"
}
```

#### `type`

Format modul yang digunakan Node.js dan Astro untuk menginterpretasikan `index.js` Anda.

```json
{
  "type": "module"
}
```

Gunakan `"type": "module"` agar `index.js` Anda dapat digunakan sebagai entrypoint dengan `import` dan `export`.

#### `homepage`

URL ke halaman depan proyek.

```json
{
  "homepage": "https://github.com/owner/project#readme"
}
```

Ini adalah cara tepat untuk mengarahkan pengguna ke demo online, dokumentasi, atau homepage proyek Anda.

#### `exports`

Entrypoint sebuah paket saat diimpor berdasarkan nama.

```json
{
  "exports": {
    ".": "./index.js",
    "./astro": "./MyAstroComponent.astro",
    "./react": "./MyReactComponent.jsx"
  }
}
```

Pada contoh ini, import `my-component` akan menggunakan `index.js`, sementara import `my-component/astro` atau `my-component/react` akan menggunakan `MyAstroComponent.astro` atau `MyReactComponent.jsx` masing‑masing.

#### `files`

Optimalisasi opsional untuk mengecualikan file yang tidak diperlukan dari bundle yang didistribusikan melalui npm. Perhatikan bahwa **hanya file yang tercantum di sini yang akan disertakan** dalam paket Anda, jadi bila Anda menambah atau mengubah file yang diperlukan, perbarui daftar ini.

```json
{
  "files": ["index.js", "MyAstroComponent.astro", "MyReactComponent.jsx"]
}
```

#### `keywords`

Array kata kunci yang relevan dengan komponen Anda, membantu orang lain [menemukan komponen Anda di npm](https://www.npmjs.com/search?q=keywords:astro-component,withastro) dan katalog lainnya.

Tambahkan `astro-component` atau `withastro` sebagai kata kunci khusus untuk memaksimalkan keterlihatan dalam ekosistem Astro.

```json
{
  "keywords": ["astro-component", "withastro", "... etc", "... etc"]
}
```

:::tip
Kata kunci juga dipakai oleh [pustaka integrasi kami](https://astro.build/integrations/)! [Lihat di bawah](#integrations-library) untuk daftar lengkap kata kunci yang kami cari di npm.
:::

---

### `index.js`

**Entrypoint** utama paket yang digunakan setiap kali paket Anda diimpor.

```js
export { default as MyAstroComponent } from './MyAstroComponent.astro';

export { default as MyReactComponent } from './MyReactComponent.jsx';
```

Ini memungkinkan Anda mengemas beberapa komponen ke dalam satu antarmuka.

#### Contoh: Named Imports

```astro
---
import { MyAstroComponent } from 'my-component';
import { MyReactComponent } from 'my-component';
---
<MyAstroComponent />
<MyReactComponent />
```

#### Contoh: Namespace Imports

```astro
---
import * as Example from 'example-astro-component';
---
<Example.MyAstroComponent />
<Example.MyReactComponent />
```

#### Contoh: Import Individu

```astro
---
import MyAstroComponent from 'example-astro-component/astro';
import MyReactComponent from 'example-astro-component/react';
---
<MyAstroComponent />
<MyReactComponent />
```

---

## Mengembangkan paket Anda

Astro tidak memiliki "mode paket" khusus untuk pengembangan. Sebagai gantinya, gunakan proyek demo untuk mengembangkan dan menguji paket di dalam proyek Anda. Ini bisa berupa situs privat khusus pengembangan, atau situs demo/dokumentasi publik untuk paket Anda.

Jika Anda mengekstrak komponen dari proyek yang sudah ada, Anda bahkan dapat terus menggunakan proyek tersebut untuk mengembangkan komponen yang kini diekstrak.

## Menguji komponen Anda

Astro saat ini belum menyertakan test runner. _(Jika Anda tertarik membantu, [gabung di Discord!](https://astro.build/chat))_

Sementara itu, rekomendasi kami untuk pengujian adalah:

<Steps>
1. Tambahkan direktori `fixtures` pengujian di `demo/src/pages` Anda.

2. Tambahkan halaman baru untuk setiap pengujian yang ingin dijalankan.

3. Setiap halaman harus menyertakan variasi penggunaan komponen yang ingin Anda uji.

4. Jalankan `astro build` untuk membangun fixtures Anda, kemudian bandingkan output direktori `dist/__fixtures__/` dengan yang Anda harapkan.
   <FileTree>
   - my-project/demo/src/pages/\_\_fixtures\_\_/
     - test-name-01.astro
     - test-name-02.astro
     - test-name-03.astro
   </FileTree>
</Steps>


## Mempublikasikan komponen Anda

Setelah paket siap, publikasikan ke npm menggunakan perintah `npm publish`. Jika gagal, pastikan Anda sudah login dengan `npm login` dan `package.json` Anda benar. Jika berhasil, selesai!

Perhatikan bahwa tidak ada langkah `build` khusus untuk paket Astro. File yang didukung Astro secara native, seperti `.astro`, `.ts`, `.jsx`, dan `.css`, dapat dipublikasikan langsung tanpa langkah build.

Jika Anda memerlukan tipe file lain yang tidak didukung Astro secara native, tambahkan langkah build pada paket Anda. Latihan lanjutan ini kami serahkan kepada Anda.

## Pustaka Integrasi

Bagikan kerja keras Anda dengan menambahkan integrasi Anda ke [pustaka integrasi kami](https://astro.build/integrations/)!

:::tip
Butuh bantuan membangun integrasi, atau ingin bertemu pembuat integrasi lain? Kami punya kanal `#integrations` khusus di [server Discord](https://astro.build/chat). Ayo sapa!
:::

### Data `package.json`

Pustaka diperbarui otomatis setiap minggu, menarik setiap paket yang dipublikasikan ke npm dengan kata kunci `astro-component` atau `withastro`.

Pustaka integrasi membaca data `name`, `description`, `repository`, dan `homepage` dari `package.json` Anda.

Avatar adalah cara bagus untuk menonjolkan brand Anda! Setelah paket dipublikasikan Anda dapat [membuat issue GitHub](https://github.com/withastro/astro.build/issues/new/choose) dengan avatar terlampir dan kami akan menambahkannya ke listing Anda.

:::tip
Perlu menimpa informasi yang dibaca pustaka kami dari npm? Bisa! [Buat issue](https://github.com/withastro/astro.build/issues/new/choose) dengan informasi yang diperbarui dan kami akan memastikan `name`, `description`, atau `homepage` kustom Anda digunakan.
:::

### Kategori

Selain kata kunci wajib `astro-component` atau `withastro`, kata kunci khusus berikut juga digunakan untuk mengelompokkan paket secara otomatis. Menyertakan salah satu kata kunci di bawah akan menambahkan integrasi Anda ke kategori yang cocok di pustaka kami.

| kategori          | kata kunci                                     |
|------------------ | ---------------------------------------------- |
| Accessibility     | `a11y`, `accessibility`                         |
| Adapters          | `astro-adapter`                                 |
| Analytics         | `analytics`                                     |
| CSS + UI          | `css`, `ui`, `icon`, `icons`, `renderer`        |
| Frameworks        | `renderer`                                      |
| Content Loaders   | `astro-loader`                                  |
| Images + Media    | `media`, `image`, `images`, `video`, `audio`    |
| Performance + SEO | `performance`, `perf`, `seo`, `optimization`    |
| Dev Toolbar       | `devtools`, `dev-overlay`, `dev-toolbar`        |
| Utilities         | `tooling`, `utils`, `utility`                   |

Paket yang tidak menyertakan kata kunci kategori apa pun akan ditampilkan sebagai `Uncategorized`.

## Bagikan

Kami mendorong Anda untuk berbagi karya Anda; kami benar‑benar senang melihat apa yang dibuat para Astronaut berbakat. Datang dan bagikan apa yang Anda buat di [Discord](https://astro.build/chat) atau mention [@astrodotbuild](https://twitter.com/astrodotbuild) di Twitter!