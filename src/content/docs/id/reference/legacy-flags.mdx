---
title: Flag legacy
i18nReady: true
---

To help some users migrate between versions of Astro, we occasionally introduce `legacy` flags.

These flags allow you to opt in to some deprecated or otherwise outdated behavior of Astro
in the latest version, so that you can continue to upgrade and take advantage of new Astro releases until you are able to fully update your project code.

import Since from '~/components/Since.astro'

## Koleksi

<p>

**Type:** `boolean`<br />
**Default:** `false`<br />
<Since v="5.0.0" />
</p>

Aktifkan perilaku lawas untuk koleksi konten (sebagaimana digunakan di Astro v2 hingga v4)

```js
// astro.config.mjs
import { defineConfig } from 'astro/config';
export default defineConfig({
  legacy: {
    collections: true
  }
});
```

Jika diaktifkan, koleksi `data` dan `content` (saja) akan ditangani menggunakan implementasi koleksi konten lawas. Koleksi yang **hanya** memiliki `loader` akan tetap menggunakan Content Layer API. Kedua jenis koleksi dapat hidup berdampingan dalam satu proyek, masingâ€‘masing memakai implementasinya.

 Batasan berikut tetap berlaku:

- Koleksi lawas (`type: 'content'` atau `type: 'data'`) harus tetap berada di direktori `src/content/`.
- Koleksi lawas ini tidak akan diubah untuk secara implisit menggunakan loader `glob()`, dan sebagai gantinya tetap ditangani oleh kode lawas.
- Koleksi yang menggunakan Content Layer API (dengan `loader` yang didefinisikan) **dilarang** berada di `src/content/`, tetapi dapat ditempatkan di mana saja di proyek Anda.

Saat Anda siap untuk menghapus flag ini dan bermigrasi ke Content Layer API untuk koleksi lawas Anda, Anda harus mendefinisikan sebuah koleksi untuk setiap direktori di `src/content/` yang ingin tetap digunakan sebagai koleksi. Cukup mendeklarasikan koleksi kosong, dan Astro akan secara implisit menghasilkan definisi yang sesuai untuk koleksi lawas Anda:

```js
// src/content/config.ts
import { defineCollection, z } from 'astro:content';

const blog = defineCollection({ })

export const collections = { blog };
```