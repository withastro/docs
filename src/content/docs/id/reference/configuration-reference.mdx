---
# NOTE: This file is auto-generated from 'scripts/docgen.mjs'
# Do not make edits to it directly, they will be overwritten.
# Instead, change this file: https://github.com/withastro/astro/blob/main/packages/astro/src/types/public/config.ts
# Translators, please remove this note and the <DontEditWarning/> component. 

title: Referensi Konfigurasi
i18nReady: true
githubURL: https://github.com/withastro/astro/blob/main/packages/astro/src/types/public/config.ts
---

import Since from '~/components/Since.astro'
import DontEditWarning from '~/components/DontEditWarning.astro'

<DontEditWarning />

Referensi berikut mencakup semua opsi konfigurasi yang didukung di Astro. Untuk mempelajari lebih lanjut tentang cara mengonfigurasi Astro, baca panduan kami tentang [Mengonfigurasi Astro](/id/guides/configuring-astro/).

```js
// astro.config.mjs
import { defineConfig } from 'astro/config'

export default defineConfig({
  // opsi konfigurasi Anda di sini...
})
```
## Opsi Tingkat Atas


### site

<p>

**Tipe:** `string`
</p>

URL akhir situs Anda setelah dideploy. Astro menggunakan URL lengkap ini untuk menghasilkan sitemap dan URL kanonis di build akhir Anda. Sangat disarankan mengatur konfigurasi ini agar mendapatkan manfaat maksimal dari Astro.

```js
{
  site: 'https://www.my-site.dev'
}
```

### base

<p>

**Tipe:** `string`
</p>

Path basis tempat Anda mendeploy. Astro akan menggunakan path ini sebagai root halaman dan aset Anda baik saat pengembangan maupun produksi.

Pada contoh di bawah ini, `astro dev` akan menjalankan server Anda pada `/docs`.

```js
{
  base: '/docs'
}
```

Saat menggunakan opsi ini, semua impor aset statis dan URL Anda harus menambahkan base sebagai awalan. Anda dapat mengakses nilai ini melalui `import.meta.env.BASE_URL`.

Nilai `import.meta.env.BASE_URL` akan ditentukan oleh konfigurasi `trailingSlash`, apa pun nilai `base` yang Anda atur.

Tanda garis miring di akhir selalu disertakan jika `trailingSlash: "always"` diatur. Jika `trailingSlash: "never"` diatur, `BASE_URL` tidak akan menyertakan garis miring di akhir, bahkan jika `base` menyertakannya.

Selain itu, Astro akan memanipulasi nilai `config.base` yang dikonfigurasi sebelum membuatnya tersedia untuk integrasi. Nilai `config.base` yang dibaca oleh integrasi juga akan ditentukan oleh konfigurasi `trailingSlash` Anda dengan cara yang sama.

Pada contoh di bawah, nilai `import.meta.env.BASE_URL` dan `config.base` saat diproses akan sama-sama `/docs`:
```js
{
	 base: '/docs/',
	 trailingSlash: "never"
}
```

Pada contoh di bawah, nilai `import.meta.env.BASE_URL` dan `config.base` saat diproses akan sama-sama `/docs/`:

```js
{
	 base: '/docs',
	 trailingSlash: "always"
}
```

### trailingSlash

<p>

**Tipe:** `'always' | 'never' | 'ignore'`<br />
**Bawaan:** `'ignore'`
</p>

Atur perilaku pencocokan rute untuk garis miring akhir (trailing slash) di dev server dan halaman yang dirender on-demand. Pilih dari opsi berikut:
  - `'ignore'` - Cocokkan URL terlepas dari ada tidaknya garis miring di akhir. Permintaan ke "/about" dan "/about/" akan mencocokkan rute yang sama.
  - `'always'` - Hanya cocokkan URL yang menyertakan garis miring di akhir (mis: "/about/"). Di produksi, permintaan URL yang dirender on-demand tanpa trailing slash akan dialihkan ke URL yang benar untuk kenyamanan Anda. Namun, saat pengembangan, mereka akan menampilkan halaman peringatan yang mengingatkan bahwa Anda telah mengonfigurasi `always`.
  - `'never'` - Hanya cocokkan URL yang **tidak** menyertakan garis miring di akhir (mis: "/about"). Di produksi, permintaan URL yang dirender on-demand dengan trailing slash akan dialihkan ke URL yang benar. Namun, saat pengembangan, mereka akan menampilkan halaman peringatan bahwa Anda telah mengonfigurasi `never`.

Saat pengalihan terjadi di produksi untuk permintaan GET, pengalihan akan menggunakan status 301 (permanen). Untuk metode permintaan lainnya, akan menggunakan 308 (permanen, dan mempertahankan metode permintaan).

Trailing slash pada halaman yang diprerender ditangani oleh platform hosting, dan mungkin tidak mengikuti konfigurasi yang Anda pilih.
Lihat dokumentasi platform hosting Anda untuk informasi lebih lanjut. Anda tidak dapat menggunakan [redirect Astro](#redirects) untuk kasus penggunaan ini saat ini.

```js
{
  // Contoh: Wajibkan trailing slash saat pengembangan
  trailingSlash: 'always'
}
```
**Lihat juga:**
- build.format

### redirects

<p>

**Tipe:** `Record<string, RedirectConfig>`<br />
**Bawaan:** `{}`<br />
<Since v="2.9.0" />
</p>

Tentukan pemetaan redirect di mana kunci adalah rute yang dicocokkan
dan nilainya adalah path tujuan untuk dialihkan.

Anda dapat me-redirect rute statis maupun dinamis, tetapi hanya ke jenis rute yang sama.
Misalnya, Anda tidak dapat memiliki redirect `'/article': '/blog/[...slug]'`.

```js
export default defineConfig({
  redirects: {
   '/old': '/new',
   '/blog/[...slug]': '/articles/[...slug]',
   '/about': 'https://example.com/about',
   '/news': {
     status: 302,
     destination: 'https://example.com/news'
   },
   // '/product1/', '/product1' // Catatan, ini tidak didukung
	}
})
```

Untuk situs yang dihasilkan statis tanpa adapter terpasang, ini akan menghasilkan redirect di sisi klien menggunakan tag [`<meta http-equiv="refresh">`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#http-equiv) dan tidak mendukung status code.

Saat menggunakan SSR atau dengan adapter statis dalam mode `output: static`,
status code didukung.
Astro akan melayani redirect GET dengan status `301`
dan menggunakan status `308` untuk metode permintaan lainnya.

Anda dapat menyesuaikan [status code pengalihan](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages) menggunakan objek dalam konfigurasi redirect:

```js
export default defineConfig({
  redirects: {
    '/other': {
      status: 302,
      destination: '/place',
    },
  }
})
```

### output

<p>

**Tipe:** `'static' | 'server'`<br />
**Bawaan:** `'static'`
</p>

Menentukan target output untuk build.

- `'static'` - Prerender semua halaman Anda secara default, menghasilkan situs sepenuhnya statis jika tidak ada halaman yang keluar dari prerendering.
- `'server'` - Gunakan server-side rendering (SSR) untuk semua halaman secara default, selalu menghasilkan situs yang dirender di server.

```js
import { defineConfig } from 'astro/config';

export default defineConfig({
  output: 'static'
})
```
**Lihat juga:**
- adapter

### adapter

<p>

**Tipe:** `AstroIntegration`
</p>

Deploy ke server, serverless, atau edge favorit Anda dengan build adapter. Impor salah satu adapter resmi kami ([Cloudflare](/id/guides/integrations-guide/cloudflare/), [Netlify](/id/guides/integrations-guide/netlify/), [Node.js](/id/guides/integrations-guide/node/), [Vercel](/id/guides/integrations-guide/vercel/)) atau jelajahi [adapter komunitas](https://astro.build/integrations/2/?search=&categories%5B%5D=adapters) untuk mengaktifkan rendering on-demand di proyek Astro Anda.

Lihat [panduan rendering on-demand](/id/guides/on-demand-rendering/) untuk opsi rendering server Astro.

```js
import netlify from '@astrojs/netlify';
{
  // Contoh: Build untuk deployment serverless Netlify
  adapter: netlify(),
}
```
**Lihat juga:**
- output

### integrations

<p>

**Tipe:** `AstroIntegration[]`
</p>

Perluas Astro dengan integrasi kustom. Integrasi adalah satu pintu untuk menambahkan dukungan framework (seperti Solid.js), fitur baru (seperti sitemap), dan pustaka baru (seperti Partytown).

Baca [Panduan Integrasi](/id/guides/integrations-guide/) kami untuk bantuan memulai Integrasi Astro.

```js
import react from '@astrojs/react';
import mdx from '@astrojs/mdx';
{
  // Contoh: Tambahkan dukungan React + MDX ke Astro
  integrations: [react(), mdx()]
}
```

### root

<p>

**Tipe:** `string`<br />
**CLI:** `--root`<br />
**Bawaan:** `"."` (direktori kerja saat ini)
</p>

Anda hanya perlu memberikan opsi ini jika Anda menjalankan perintah `astro` di direktori selain direktori root proyek. Biasanya, opsi ini diberikan melalui CLI, bukan file konfigurasi Astro, karena Astro perlu mengetahui root proyek Anda sebelum dapat menemukan file konfigurasinya.

Jika Anda memberikan path relatif (mis: `--root: './my-project'`) Astro akan menyelesaikannya terhadap direktori kerja saat ini.

#### Contoh

```js
{
  root: './my-project-directory'
}
```
```bash
$ astro build --root ./my-project-directory
```

### srcDir

<p>

**Tipe:** `string`<br />
**Bawaan:** `"./src"`
</p>

Atur direktori yang akan dibaca Astro untuk situs Anda.

Nilai bisa berupa path absolut sistem file atau path relatif terhadap root proyek.

```js
{
  srcDir: './www'
}
```

### publicDir

<p>

**Tipe:** `string`<br />
**Bawaan:** `"./public"`
</p>

Atur direktori untuk aset statis Anda. File di direktori ini disajikan pada `/` saat dev dan disalin ke direktori build saat build. File-file ini selalu disajikan atau disalin apa adanya, tanpa transformasi atau bundling.

Nilai bisa berupa path absolut sistem file atau path relatif terhadap root proyek.

```js
{
  publicDir: './my-custom-publicDir-directory'
}
```

### outDir

<p>

**Tipe:** `string`<br />
**Bawaan:** `"./dist"`
</p>

Atur direktori tempat `astro build` menulis build final Anda.

Nilai bisa berupa path absolut sistem file atau path relatif terhadap root proyek.

```js
{
  outDir: './my-custom-build-directory'
}
```
**Lihat juga:**
- build.server

### cacheDir

<p>

**Tipe:** `string`<br />
**Bawaan:** `"./node_modules/.astro"`
</p>

Atur direktori untuk cache artefak build. File di direktori ini akan digunakan pada build berikutnya untuk mempercepat waktu build.

Nilai bisa berupa path absolut sistem file atau path relatif terhadap root proyek.

```js
{
  cacheDir: './my-custom-cache-directory'
}
```

### compressHTML

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`
</p>

Opsi untuk meminifikasi output HTML Anda dan mengurangi ukuran file HTML.

Secara default, Astro menghapus whitespace dari HTML Anda, termasuk pemisah baris, dari komponen `.astro` secara lossless.
Sebagian whitespace mungkin dipertahankan sesuai kebutuhan untuk menjaga rendering visual HTML. Ini terjadi baik di mode pengembangan maupun di build akhir.

Untuk menonaktifkan kompresi HTML, atur `compressHTML` ke false.

```js
{
  compressHTML: false
}
```

### scopedStyleStrategy

<p>

**Tipe:** `'where' | 'class' | 'attribute'`<br />
**Bawaan:** `'attribute'`<br />
<Since v="2.4" />
</p>

Tentukan strategi yang digunakan untuk scoping style di dalam komponen Astro. Pilih dari:
  - `'where'` 		- Gunakan selektor `:where`, tidak menambah spesifisitas.
  - `'class'` 		- Gunakan selektor berbasis class, menambah spesifisitas +1.
  - `'attribute'` 	- Gunakan atribut `data-`, menambah spesifisitas +1.

Menggunakan `'class'` membantu saat Anda ingin memastikan selektor elemen dalam komponen Astro menimpa default gaya global (misalnya dari stylesheet global).
Menggunakan `'where'` memberi kontrol lebih atas spesifisitas, tetapi mengharuskan Anda menggunakan selektor dengan spesifisitas lebih tinggi, layer, dan alat lain untuk mengontrol selektor mana yang diterapkan.
Menggunakan `'attribute'` berguna saat Anda memanipulasi atribut `class` elemen dan perlu menghindari konflik antara logika styling Anda dan penerapan style Astro.

### security

<p>

**Tipe:** `Record<"checkOrigin", boolean> | undefined`<br />
**Bawaan:** `{checkOrigin: true}`<br />
<Since v="4.9.0" />
</p>

Mengaktifkan fitur keamanan untuk situs Astro.

Fitur-fitur ini hanya ada untuk halaman yang dirender on-demand (SSR) menggunakan mode `server` atau halaman yang memilih keluar dari prerendering pada mode `static`.

Secara default, Astro akan otomatis memeriksa bahwa header “origin”
sesuai dengan URL yang dikirim oleh setiap request pada halaman on-demand. Anda dapat
menonaktifkan perilaku ini dengan mengatur `checkOrigin` ke `false`:

```js
// astro.config.mjs
export default defineConfig({
  output: "server",
  security: {
    checkOrigin: false
  }
})
```

#### security.checkOrigin

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`<br />
<Since v="4.9.0" />
</p>

Melakukan pemeriksaan bahwa header "origin", yang otomatis dikirim oleh semua browser modern, cocok dengan URL yang dikirim oleh setiap `Request`. Ini digunakan untuk memberikan perlindungan Cross-Site Request Forgery (CSRF).

Pemeriksaan "origin" dijalankan hanya untuk halaman yang dirender on-demand, dan hanya untuk request `POST`, `PATCH`, `DELETE` dan `PUT` dengan
salah satu header `content-type` berikut: `'application/x-www-form-urlencoded'`, `'multipart/form-data'`, `'text/plain'`.

Jika header "origin" tidak cocok dengan `pathname` pada request, Astro akan mengembalikan status 403 dan tidak akan merender halaman.

#### security.allowedDomains

<p>

**Tipe:** `Array<RemotePattern>`<br />
**Bawaan:** `[]`<br />
<Since v="5.14.2" />
</p>

Mendefinisikan daftar pola host yang diizinkan untuk request masuk saat menggunakan SSR. Saat dikonfigurasi, Astro akan memvalidasi header `X-Forwarded-Host`
terhadap pola-pola ini untuk keamanan. Jika header tidak cocok dengan pola mana pun yang diizinkan, header diabaikan dan host asli dari request digunakan.

Ini mencegah serangan host header injection di mana pelaku dapat memanipulasi nilai `Astro.url` dengan mengirim header `X-Forwarded-Host` yang dimodifikasi.

Setiap pola dapat menentukan `protocol`, `hostname`, dan `port`. Ketiganya divalidasi jika disediakan.
Pola mendukung wildcard untuk pencocokan hostname yang fleksibel:

```js
{
  security: {
    // Contoh: Izinkan subdomain apa pun dari example.com pada https
    allowedDomains: [
      {
        hostname: '**.example.com',
        protocol: 'https'
      },
      {
        hostname: 'staging.myapp.com',
        protocol: 'https',
        port: '443'
      }
    ]
  }
}
```

Jika tidak dikonfigurasi, header `X-Forwarded-Host` tidak dipercaya dan akan diabaikan.

### vite

<p>

**Tipe:** `ViteUserConfig`
</p>

Teruskan opsi konfigurasi tambahan ke Vite. Berguna saat Astro tidak mendukung beberapa konfigurasi lanjutan yang mungkin Anda perlukan.

Lihat dokumentasi objek konfigurasi `vite` lengkap di [vite.dev](https://vite.dev/config/).

#### Contoh

```js
{
  vite: {
    ssr: {
      // Contoh: Paksa sebuah paket bermasalah untuk melewati pemrosesan SSR, jika diperlukan
      external: ['broken-npm-package'],
    }
  }
}
```

```js
{
  vite: {
    // Contoh: Tambahkan plugin vite kustom langsung ke proyek Astro Anda
    plugins: [myPlugin()],
  }
}
```

## Opsi Build


### build.format

<p>

**Tipe:** `('file' | 'directory' | 'preserve')`<br />
**Bawaan:** `'directory'`
</p>

Kontrol format file output tiap halaman. Nilai ini dapat diatur oleh adapter.
  - `'file'`: Astro akan menghasilkan file HTML bernama untuk setiap rute. (contoh `src/pages/about.astro` dan `src/pages/about/index.astro` keduanya membangun file `/about.html`)
  - `'directory'`: Astro akan menghasilkan direktori dengan `index.html` di dalamnya untuk setiap halaman. (contoh `src/pages/about.astro` dan `src/pages/about/index.astro` keduanya membangun file `/about/index.html`)
  - `'preserve'`: Astro akan menghasilkan file HTML persis seperti yang muncul di folder sumber Anda. (contoh `src/pages/about.astro` membangun `/about.html` dan `src/pages/about/index.astro` membangun `/about/index.html`)

```js
{
  build: {
    // Contoh: Hasilkan `page.html` alih-alih `page/index.html` saat build.
    format: 'file'
  }
}
```

#### Dampak pada Astro.url
Mengatur `build.format` mengontrol nilai `Astro.url` saat build. Ketika:
- `directory` - `Astro.url.pathname` akan menyertakan trailing slash untuk meniru perilaku folder. (mis: `/foo/`)
- `file` - `Astro.url.pathname` akan menyertakan `.html`. (mis: `/foo.html`)

Ini berarti saat Anda membuat URL relatif menggunakan `new URL('./relative', Astro.url)`, Anda akan mendapatkan perilaku konsisten antara dev dan build.

Untuk mencegah inkonsistensi perilaku trailing slash di dev, Anda dapat membatasi opsi [`trailingSlash`](#trailingslash) ke `'always'` atau `'never'` tergantung format build:
- `directory` - Atur `trailingSlash: 'always'`
- `file` - Atur `trailingSlash: 'never'`

### build.client

<p>

**Tipe:** `string`<br />
**Bawaan:** `'./client'`
</p>

Mengontrol direktori output CSS dan JavaScript sisi klien saat membangun situs dengan halaman yang dirender server.
`outDir` mengontrol ke mana kode dibangun.

Nilai ini relatif terhadap `outDir`.

```js
{
  output: 'server',
  build: {
    client: './client'
  }
}
```

### build.server

<p>

**Tipe:** `string`<br />
**Bawaan:** `'./server'`
</p>

Mengontrol direktori output JavaScript server saat membangun ke SSR.

Nilai ini relatif terhadap `outDir`.

```js
{
  build: {
    server: './server'
  }
}
```

### build.assets

<p>

**Tipe:** `string`<br />
**Bawaan:** `'_astro'`<br />
<Since v="2.0.0" />
</p>

Menentukan direktori di output build tempat aset yang dihasilkan Astro (misalnya JS dan CSS yang dibundel) diletakkan.

```js
{
  build: {
    assets: '_custom'
  }
}
```
**Lihat juga:**
- outDir

### build.assetsPrefix

<p>

**Tipe:** `string | Record<string, string>`<br />
**Bawaan:** `undefined`<br />
<Since v="2.2.0" />
</p>

Menentukan awalan untuk tautan aset yang dihasilkan Astro. Ini dapat digunakan jika aset dilayani dari domain yang berbeda dari situs saat ini.

Ini memerlukan pengunggahan aset pada folder lokal `./dist/_astro` ke folder `/_astro/` yang sesuai di domain jauh.
Untuk mengganti nama path `_astro`, tentukan direktori baru pada `build.assets`.

Untuk mengambil semua aset yang diunggah ke domain yang sama (mis: `https://cdn.example.com/_astro/...`), setel `assetsPrefix` ke domain root sebagai string (terlepas dari konfigurasi `base` Anda):

```js
{
  build: {
    assetsPrefix: 'https://cdn.example.com'
  }
}
```

**Ditambahkan di:** `astro@4.5.0`

Anda juga dapat meneruskan objek ke `assetsPrefix` untuk menentukan domain berbeda untuk setiap jenis file.
Dalam hal ini, properti `fallback` diperlukan dan akan digunakan secara default untuk file lain.

```js
{
  build: {
    assetsPrefix: {
      'js': 'https://js.cdn.example.com',
      'mjs': 'https://js.cdn.example.com',
      'css': 'https://css.cdn.example.com',
      'fallback': 'https://cdn.example.com'
    }
  }
}
```

### build.serverEntry

<p>

**Tipe:** `string`<br />
**Bawaan:** `'entry.mjs'`
</p>

Menentukan nama file entrypoint server saat membangun ke SSR.
Entrypoint ini biasanya bergantung pada host tempat Anda mendeploy dan
akan diatur oleh adapter Anda.

Perlu dicatat bahwa disarankan file ini berakhiran `.mjs` agar runtime
mendeteksi bahwa file tersebut adalah modul JavaScript.

```js
{
  build: {
    serverEntry: 'main.mjs'
  }
}
```

### build.redirects

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`<br />
<Since v="2.6.0" />
</p>

Menentukan apakah redirect akan dioutput ke HTML saat build.
Opsi ini hanya berlaku untuk mode `output: 'static'`; dalam SSR redirect
diperlakukan sama seperti semua respons.

Opsi ini terutama dimaksudkan untuk adapter yang memiliki file konfigurasi
khusus untuk redirect dan tidak perlu/menginginkan redirect berbasis HTML.

```js
{
  build: {
    redirects: false
  }
}
```

### build.inlineStylesheets

<p>

**Tipe:** `'always' | 'auto' | 'never'`<br />
**Bawaan:** `auto`<br />
<Since v="2.6.0" />
</p>

Kontrol apakah style proyek dikirim ke browser sebagai file CSS terpisah atau di-inline ke dalam tag `<style>`. Pilih salah satu:
 - `'always'` - style proyek di-inline ke `<style>`
 - `'auto'` - hanya stylesheet yang lebih kecil dari `ViteConfig.build.assetsInlineLimit` (bawaan: 4kb) yang di-inline. Selain itu, style proyek dikirim sebagai stylesheet eksternal.
 - `'never'` - style proyek dikirim sebagai stylesheet eksternal

```js
{
	build: {
		inlineStylesheets: `never`,
	},
}
```

### build.concurrency

<p>

**Tipe:** `number`<br />
**Bawaan:** `1`<br />
<Since v="4.16.0" />
</p>

Jumlah halaman yang dibangun secara paralel.

**Dalam sebagian besar kasus, Anda tidak perlu mengubah nilai bawaan `1`.**

Gunakan opsi ini hanya ketika upaya lain untuk mengurangi waktu rendering keseluruhan (misalnya batching atau cache tugas berjalan lama seperti fetch atau akses data) tidak memungkinkan atau tidak cukup.
Jika angka diatur terlalu tinggi, rendering halaman mungkin melambat karena sumber daya memori tidak cukup dan karena JS bersifat single-threaded.

```js
{
  build: {
    concurrency: 2
  }
}
```

 :::caution[Perubahan breaking mungkin terjadi]
 Fitur ini stabil dan tidak dianggap eksperimental. Namun, fitur ini hanya dimaksudkan untuk mengatasi masalah performa yang sulit, dan perubahan breaking dapat terjadi dalam [rilis minor](/id/upgrade-astro/#semantic-versioning) untuk menjaga opsi ini se-performa mungkin. Harap periksa [CHANGELOG Astro](https://github.com/withastro/astro/blob/refs/heads/next/packages/astro/CHANGELOG.md) untuk setiap rilis minor jika Anda menggunakan fitur ini.
 :::

## Opsi Server

Kustomisasi dev server Astro, yang digunakan oleh `astro dev` dan `astro preview`.

```js
{
  server: { port: 1234, host: true}
}
```

Untuk mengatur konfigurasi berbeda berdasarkan perintah yang dijalankan ("dev", "preview") sebuah fungsi juga dapat diteruskan ke opsi konfigurasi ini.

```js
{
  // Contoh: Gunakan sintaks fungsi untuk menyesuaikan berdasarkan perintah
  server: ({ command }) => ({ port: command === 'dev' ? 4321 : 4000 })
}
```

### server.host

<p>

**Tipe:** `string | boolean`<br />
**Bawaan:** `false`<br />
<Since v="0.24.0" />
</p>

Atur alamat IP jaringan mana yang harus didengarkan server (yaitu IP non-localhost).
- `false` - jangan ekspos pada alamat IP jaringan
- `true` - dengarkan semua alamat, termasuk LAN dan alamat publik
- `[custom-address]` - ekspos pada alamat IP jaringan di `[custom-address]` (mis: `192.168.0.1`)

### server.port

<p>

**Tipe:** `number`<br />
**Bawaan:** `4321`
</p>

Atur port yang harus didengarkan oleh server.

Jika port yang diberikan sudah digunakan, Astro akan otomatis mencoba port berikutnya yang tersedia.

```js
{
  server: { port: 8080 }
}
```

### server.allowedHosts

<p>

**Tipe:** `Array<string> | true`<br />
**Bawaan:** `[]`<br />
<Since v="5.4.0" />
</p>

Daftar hostname yang diizinkan untuk direspons oleh Astro. Bila nilainya `true`, hostname apa pun diizinkan.

```js
{
  server: {
  	allowedHosts: ['staging.example.com', 'qa.example.com']
  }
}
```

### server.open

<p>

**Tipe:** `string | boolean`<br />
**Bawaan:** `false`<br />
<Since v="4.1.0" />
</p>

Mengontrol apakah dev server harus membuka jendela browser saat startup.

Teruskan string URL penuh (mis. "http://example.com") atau pathname (mis. "/about") untuk menentukan URL yang dibuka.

```js
{
  server: { open: "/about" }
}
```

### server.headers

<p>

**Tipe:** `OutgoingHttpHeaders`<br />
**Bawaan:** `{}`<br />
<Since v="1.7.0" />
</p>

Atur header respons HTTP kustom yang akan dikirim pada `astro dev` dan `astro preview`.

## Opsi Sesi

<p>

<Since v="5.7.0" />
</p>

Mengonfigurasi penyimpanan sesi untuk proyek Astro Anda. Ini digunakan untuk menyimpan data sesi secara persisten, sehingga dapat diakses di berbagai request.
Beberapa adapter mungkin menyediakan driver sesi default, tetapi Anda dapat menimpanya dengan konfigurasi Anda sendiri.

Lihat [panduan sesi](/id/guides/sessions/) untuk informasi lebih lanjut.

```js title="astro.config.mjs"
  {
    session: {
      // Nama driver Unstorage
      driver: 'redis',
      // Opsi yang diperlukan bergantung pada driver
      options: {
        url: process.env.REDIS_URL,
      },
      ttl: 3600, // 1 jam
    }
  }
```

### session.driver

<p>

**Tipe:** `string | undefined`<br />
<Since v="5.7.0" />
</p>

Driver Unstorage yang digunakan untuk penyimpanan sesi.  Adapter [Node](/id/guides/integrations-guide/node/#sessions),
[Cloudflare](/id/guides/integrations-guide/cloudflare/#sessions), dan
[Netlify](/id/guides/integrations-guide/netlify/#sessions) mengonfigurasi driver default untuk Anda secara otomatis,
tetapi Anda dapat menentukan sendiri jika Anda mau atau jika menggunakan adapter yang tidak menyediakannya.

Nilainya adalah "Driver name" dari [dokumentasi driver Unstorage](https://unstorage.unjs.io/drivers).

```js title="astro.config.mjs" ins={4}
{
  adapter: vercel(),
  session: {
    driver: "redis",
  },
}
```
:::note
Beberapa driver mungkin memerlukan paket tambahan untuk diinstal. Beberapa driver juga mungkin memerlukan variabel lingkungan atau kredensial yang disetel. Lihat [dokumentasi Unstorage](https://unstorage.unjs.io/drivers) untuk informasi lebih lanjut.
:::

### session.options

<p>

**Tipe:** `Record<string, unknown> | undefined`<br />
**Bawaan:** `{}`<br />
<Since v="5.7.0" />
</p>

Opsi khusus driver yang digunakan untuk penyimpanan sesi. Opsi bergantung pada driver yang Anda gunakan. Lihat [dokumentasi Unstorage](https://unstorage.unjs.io/drivers)
untuk informasi selengkapnya mengenai opsi yang tersedia untuk setiap driver.

```js title="astro.config.mjs" ins={4-6}
{
   session: {
     driver: "redis",
     options: {
       url: process.env.REDIS_URL
     },
   }
}
```

### session.cookie

<p>

**Tipe:** `string | AstroCookieSetOptions | undefined`<br />
**Bawaan:** `{ name: "astro-session", sameSite: "lax", httpOnly: true, secure: true }`<br />
<Since v="5.7.0" />
</p>

Konfigurasi cookie sesi. Jika diatur menjadi string, itu akan digunakan sebagai nama cookie.
Sebagai alternatif, Anda dapat meneruskan objek dengan opsi tambahan. Ini akan digabungkan dengan nilai bawaan.

```js title="astro.config.mjs" ins={3-4}
{
 session: {
   // Jika diatur string, digunakan sebagai nama cookie.
   cookie: "my-session-cookie",
 }
}

```

```js title="astro.config.mjs" ins={4-8}
{
 session: {
   // Jika diatur objek, digunakan sebagai opsi cookie.
   cookie: {
     name: "my-session-cookie",
     sameSite: "lax",
     secure: true,
   }
 }
}
```

### session.ttl

<p>

**Tipe:** `number | undefined`<br />
**Bawaan:** {Infinity}<br />
<Since v="5.7.0" />
</p>

Waktu kedaluwarsa (time-to-live) default opsional untuk nilai sesi, dalam detik.

Secara default, nilai sesi bertahan hingga dihapus atau sesi dihancurkan, dan tidak otomatis kedaluwarsa karena waktu tertentu telah berlalu.
Atur `session.ttl` untuk menambahkan periode kedaluwarsa default untuk nilai sesi Anda. Memberikan opsi `ttl` ke [`session.set()`](/id/reference/api-reference/#set) akan menimpa
bawaan global untuk entri individual tersebut.

```js title="astro.config.mjs" ins={3-4}
{
 session: {
   // Atur kedaluwarsa default 1 jam (3600 detik)
   ttl: 3600,
 }
}
```
:::note
Mengatur nilai `ttl` tidak secara otomatis menghapus nilai dari penyimpanan setelah batas waktu berlalu.

Nilai dari penyimpanan hanya akan dihapus saat ada upaya untuk mengaksesnya setelah periode `ttl` berakhir. Pada saat itu, nilai sesi akan undefined dan barulah nilai akan dihapus.

Driver tertentu juga dapat mendukung opsi `ttl` yang akan secara otomatis menghapus sesi setelah waktu yang ditentukan. Lihat dokumentasi driver yang Anda pilih untuk informasi lebih lanjut.
:::

## Opsi Dev Toolbar


### devToolbar.enabled

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`
</p>

Apakah akan mengaktifkan Astro Dev Toolbar. Toolbar ini memungkinkan Anda menginspeksi island halaman, melihat audit performa dan aksesibilitas, dan lainnya.

Opsi ini berlaku untuk seluruh proyek. Untuk menonaktifkan toolbar hanya untuk diri Anda sendiri, jalankan `npm run astro preferences disable devToolbar`. Untuk menonaktifkan toolbar untuk semua proyek Astro Anda, jalankan `npm run astro preferences disable devToolbar --global`.

## Opsi Prefetch

<p>

**Tipe:** `boolean | object`
</p>

Aktifkan prefetch untuk tautan di situs Anda agar transisi halaman lebih cepat.
(Diaktifkan secara default pada halaman yang menggunakan router `<ClientRouter />`. Set `prefetch: false` untuk memilih keluar dari perilaku ini.)

Konfigurasi ini secara otomatis menambahkan skrip prefetch ke setiap halaman di proyek
memberi Anda akses ke atribut `data-astro-prefetch`.
Tambahkan atribut ini ke tautan `<a />` mana pun di halaman Anda untuk mengaktifkan prefetch halaman tersebut.

```html
<a href="/about" data-astro-prefetch>About</a>
```
Sesuaikan lebih lanjut perilaku prefetch default menggunakan opsi [`prefetch.defaultStrategy`](#prefetchdefaultstrategy) dan [`prefetch.prefetchAll`](#prefetchprefetchall).

Lihat [panduan Prefetch](/id/guides/prefetch/) untuk informasi lebih lanjut.

### prefetch.prefetchAll

<p>

**Tipe:** `boolean`
</p>

Aktifkan prefetch untuk semua tautan, termasuk yang tanpa atribut `data-astro-prefetch`.
Nilai ini default ke `true` saat menggunakan router `<ClientRouter />`. Selain itu, nilai bawaannya adalah `false`.

```js
prefetch: {
	prefetchAll: true
}
```

Jika diatur `true`, Anda dapat menonaktifkan prefetch secara individual dengan menyetel `data-astro-prefetch="false"` pada tautan mana pun.

```html
<a href="/about" data-astro-prefetch="false">About</a>
```

### prefetch.defaultStrategy

<p>

**Tipe:** `'tap' | 'hover' | 'viewport' | 'load'`<br />
**Bawaan:** `'hover'`
</p>

Strategi prefetch default yang digunakan saat atribut `data-astro-prefetch` diatur pada tautan tanpa nilai.

- `'tap'`: Prefetch tepat sebelum Anda mengklik tautan.
- `'hover'`: Prefetch saat kursor berada di atas atau fokus pada tautan. (default)
- `'viewport'`: Prefetch saat tautan memasuki viewport.
- `'load'`: Prefetch semua tautan di halaman setelah halaman dimuat.

Anda dapat menimpa nilai default ini dan memilih strategi berbeda untuk tautan mana pun dengan menyetel nilai pada atribut tersebut.

```html
<a href="/about" data-astro-prefetch="viewport">About</a>
```

## Opsi Gambar


### image.endpoint

<p>

**Tipe:** `Object`<br />
**Bawaan:** `{route: '/_image', entrypoint: undefined}`<br />
<Since v="3.1.0" />
</p>

Atur endpoint yang digunakan untuk optimasi gambar di dev dan SSR. Properti `entrypoint` dapat diatur `undefined` untuk menggunakan endpoint gambar default.

```js
{
  image: {
    // Contoh: Gunakan endpoint gambar kustom di `/custom_endpoint`
    endpoint: {
		 	route: '/custom_endpoint',
		 	entrypoint: 'src/my_endpoint.ts',
		},
  },
}
```

### image.service

<p>

**Tipe:** `Object`<br />
**Bawaan:** `{entrypoint: 'astro/assets/services/sharp', config?: {}}`<br />
<Since v="2.1.0" />
</p>

Atur layanan gambar yang digunakan untuk dukungan aset Astro.

Nilai harus berupa objek dengan entrypoint untuk layanan gambar yang digunakan dan opsional, objek config untuk diteruskan ke layanan.

Entrypoint layanan dapat berupa salah satu layanan bawaan, atau paket pihak ketiga.

```js
{
  image: {
    // Contoh: Aktifkan layanan gambar berbasis Sharp dengan konfigurasi kustom
    service: {
			 entrypoint: 'astro/assets/services/sharp',
			 config: {
				 limitInputPixels: false,
      },
			 },
  },
}
```

#### image.service.config.limitInputPixels

<p>

**Tipe:** `number | boolean`<br />
**Bawaan:** `true`<br />
<Since v="4.1.0" />
</p>

Apakah akan membatasi ukuran gambar yang akan diproses oleh layanan gambar Sharp.

Atur `false` untuk melewati batas ukuran gambar default pada layanan Sharp dan memproses gambar berukuran besar.

### image.domains

<p>

**Tipe:** `Array<string>`<br />
**Bawaan:** `[]`<br />
<Since v="2.10.10" />
</p>

Mendefinisikan daftar domain sumber gambar yang diizinkan untuk optimasi gambar jarak jauh. Tidak ada gambar jarak jauh lain yang akan dioptimalkan oleh Astro.

Opsi ini memerlukan array nama domain individu sebagai string. Wildcard tidak diizinkan. Sebagai gantinya, gunakan [`image.remotePatterns`](#imageremotepatterns) untuk menentukan daftar pola URL sumber yang diizinkan.

```js
// astro.config.mjs
{
  image: {
    // Contoh: Izinkan optimasi gambar jarak jauh dari satu domain
    domains: ['astro.build'],
  },
}
```

### image.remotePatterns

<p>

**Tipe:** `Array<RemotePattern>`<br />
**Bawaan:** `[]`<br />
<Since v="2.10.10" />
</p>

Mendefinisikan daftar pola URL sumber gambar yang diizinkan untuk optimasi gambar jarak jauh.

`remotePatterns` dapat dikonfigurasi dengan empat properti:
1. protocol
2. hostname
3. port
4. pathname

```js
{
  image: {
    // Contoh: izinkan pemrosesan semua gambar dari bucket aws s3 Anda
    remotePatterns: [{
      protocol: 'https',
      hostname: '**.amazonaws.com',
    }],
  },
}
```

Anda dapat menggunakan wildcard untuk menentukan nilai `hostname` dan `pathname` yang diizinkan seperti dijelaskan di bawah. Selain itu, hanya nilai persis yang diberikan yang akan dikonfigurasi:
`hostname`:
  - Mulai dengan '**.' untuk mengizinkan semua subdomain ('endsWith').
  - Mulai dengan '*.' untuk mengizinkan hanya satu level subdomain.

`pathname`:
  - Diakhiri dengan '/**' untuk mengizinkan semua sub-route ('startsWith').
  - Diakhiri dengan '/*' untuk mengizinkan hanya satu level sub-route.

### image.responsiveStyles

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `false`<br />
<Since v="5.10.0" />
</p>

Apakah akan menambahkan style global otomatis untuk gambar responsif. Anda sebaiknya mengaktifkan opsi ini kecuali Anda menata gambar sendiri.

Opsi ini hanya digunakan ketika `layout` disetel ke `constrained`, `full-width`, atau `fixed` menggunakan konfigurasi atau prop `layout` pada komponen gambar.

Lihat [dokumentasi gambar](/id/guides/images/#responsive-image-styles) untuk informasi lebih lanjut.

### image.layout

<p>

**Tipe:** `ImageLayout`<br />
**Bawaan:** `undefined`<br />
<Since v="5.10.0" />
</p>

Tipe layout default untuk gambar responsif. Dapat ditimpa oleh prop `layout` pada komponen gambar.
- `constrained` - Gambar akan diskalakan agar sesuai dengan kontainer, mempertahankan rasio aspek, tetapi tidak akan melebihi dimensi yang ditentukan.
- `fixed` - Gambar akan mempertahankan dimensi aslinya.
- `full-width` - Gambar akan diskalakan agar sesuai dengan kontainer, mempertahankan rasio aspek.

Lihat [prop komponen `layout`](/id/reference/modules/astro-assets/#layout) untuk detail selengkapnya.

### image.objectFit

<p>

**Tipe:** `ImageFit`<br />
**Bawaan:** `"cover"`<br />
<Since v="5.10.0" />
</p>

Nilai properti CSS [`object-fit`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) untuk gambar responsif. Dapat ditimpa oleh prop `fit` pada komponen gambar.
Memerlukan nilai `layout` diatur.

Lihat [prop komponen `fit`](/id/reference/modules/astro-assets/#fit) untuk detail selengkapnya.

### image.objectPosition

<p>

**Tipe:** `string`<br />
**Bawaan:** `"center"`<br />
<Since v="5.10.0" />
</p>

Nilai properti CSS [`object-position`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) default untuk gambar responsif. Dapat ditimpa oleh prop `position` pada komponen gambar.
Memerlukan nilai `layout` diatur.

Lihat [prop komponen `position`](/id/reference/modules/astro-assets/#position) untuk detail selengkapnya.

### image.breakpoints

<p>

**Tipe:** `Array<number>`<br />
**Bawaan:** `[640, 750, 828, 1080, 1280, 1668, 2048, 2560] | [640, 750, 828, 960, 1080, 1280, 1668, 1920, 2048, 2560, 3200, 3840, 4480, 5120, 6016]`<br />
<Since v="5.10.0" />
</p>

Breakpoint yang digunakan untuk menghasilkan gambar responsif. Memerlukan nilai `layout` diatur. Daftar penuh biasanya tidak digunakan,
namun difilter sesuai dengan ukuran sumber dan output. Default yang digunakan bergantung pada apakah layanan gambar lokal atau jarak jauh digunakan. Untuk layanan jarak jauh,
daftar yang lebih komprehensif digunakan, karena hanya ukuran yang diperlukan yang dihasilkan. Untuk layanan lokal, daftar lebih pendek untuk mengurangi jumlah gambar yang dihasilkan.

## Opsi Markdown


### markdown.shikiConfig

<p>

**Tipe:** `Partial<ShikiConfig>`
</p>

Shiki adalah penyorot sintaks bawaan kami. Anda dapat mengonfigurasi semua opsi melalui objek `markdown.shikiConfig`:

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    shikiConfig: {
      // Pilih dari tema bawaan Shiki (atau tambahkan sendiri)
      // https://shiki.style/themes
      theme: 'dracula',
      // Atau, sediakan beberapa tema
      // Lihat catatan di bawah untuk menggunakan tema ganda terang/gelap
      themes: {
        light: 'github-light',
        dark: 'github-dark',
      },
      // Nonaktifkan warna default
      // https://shiki.style/guide/dual-themes#without-default-color
      // (Ditambahkan di v4.12.0)
      defaultColor: false,
      // Tambahkan bahasa kustom
      // Catatan: Shiki memiliki banyak bahasa bawaan, termasuk .astro!
      // https://shiki.style/languages
      langs: [],
      // Tambahkan alias kustom untuk bahasa
      // Petakan alias ke ID bahasa Shiki: https://shiki.style/languages#bundled-languages
      // https://shiki.style/guide/load-lang#custom-language-aliases
      langAlias: {
        cjs: "javascript"
      },
      // Aktifkan word wrap untuk mencegah scroll horizontal
      wrap: true,
      // Tambahkan transformer kustom: https://shiki.style/guide/transformers
      // Temukan transformer umum: https://shiki.style/packages/transformers
      transformers: [],
    },
  },
});
```

Lihat [panduan penyorotan kode](/id/guides/syntax-highlighting/) untuk penggunaan dan contoh.

### markdown.syntaxHighlight

<p>

**Tipe:** `SyntaxHighlightConfig | SyntaxHighlightConfigType | false`<br />
**Bawaan:** `{ type: 'shiki', excludeLangs: ['math'] }`
</p>

Penyorot sintaks yang digunakan untuk blok kode Markdown (\`\`\`), jika ada. Ini menentukan kelas CSS yang akan diterapkan Astro pada blok kode Markdown Anda.

- `shiki` - gunakan penyorot [Shiki](https://shiki.style) (tema `github-dark` dikonfigurasi secara default)
- `prism` - gunakan [Prism](https://prismjs.com/) dan [sediakan stylesheet Prism Anda sendiri](/id/guides/syntax-highlighting/#add-a-prism-stylesheet)
- `false` - jangan terapkan penyorotan sintaks.
```js
{
  markdown: {
    // Contoh: Beralih menggunakan prism untuk penyorotan sintaks di Markdown
    syntaxHighlight: 'prism',
  }
}
```

Untuk kontrol lebih atas penyorotan sintaks, Anda bisa menentukan objek konfigurasi dengan properti berikut.

#### markdown.syntaxHighlight.type

<p>

**Tipe:** `'shiki' | 'prism'`<br />
**Bawaan:** `'shiki'`<br />
<Since v="5.5.0" />
</p>

Kelas CSS default yang diterapkan pada blok kode Markdown.
(Jika tidak ada konfigurasi penyorotan sintaks lain yang diperlukan, Anda dapat langsung mengatur `markdown.syntaxHighlight` ke `shiki`, `prism`, atau `false`.)

#### markdown.syntaxHighlight.excludeLangs

<p>

**Tipe:** `Array<string>`<br />
**Bawaan:** `['math']`<br />
<Since v="5.5.0" />
</p>

Array bahasa yang dikecualikan dari penyorotan sintaks default yang ditentukan di `markdown.syntaxHighlight.type`.
Ini berguna saat menggunakan alat yang membuat diagram dari blok kode Markdown, seperti Mermaid.js dan D2.

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    syntaxHighlight: {
      type: 'shiki',
      excludeLangs: ['mermaid', 'math'],
    },
  },
});
```

### markdown.remarkPlugins

<p>

**Tipe:** `RemarkPlugins`
</p>

Teruskan [plugin remark](https://github.com/remarkjs/remark) untuk menyesuaikan cara Markdown Anda dibangun. Anda dapat mengimpor dan menerapkan fungsi plugin (disarankan), atau meneruskan nama plugin sebagai string.

```js
import remarkToc from 'remark-toc';
{
  markdown: {
    remarkPlugins: [ [remarkToc, { heading: "contents"} ] ]
  }
}
```

### markdown.rehypePlugins

<p>

**Tipe:** `RehypePlugins`
</p>

Teruskan [plugin rehype](https://github.com/remarkjs/remark-rehype) untuk menyesuaikan bagaimana HTML output Markdown Anda diproses. Anda dapat mengimpor dan menerapkan fungsi plugin (disarankan), atau meneruskan nama plugin sebagai string.

```js
import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis';
{
  markdown: {
    rehypePlugins: [rehypeAccessibleEmojis]
  }
}
```

### markdown.gfm

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`<br />
<Since v="2.0.0" />
</p>

Astro menggunakan [GitHub-flavored Markdown](https://github.com/remarkjs/remark-gfm) secara default. Untuk menonaktifkan, setel flag `gfm` ke `false`:

```js
{
  markdown: {
    gfm: false,
  }
}
```

### markdown.smartypants

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`<br />
<Since v="2.0.0" />
</p>

Astro menggunakan [formatter SmartyPants](https://daringfireball.net/projects/smartypants/) secara default. Untuk menonaktifkan, setel flag `smartypants` ke `false`:

```js
{
  markdown: {
    smartypants: false,
  }
}
```

### markdown.remarkRehype

<p>

**Tipe:** `RemarkRehype`
</p>

Teruskan opsi ke [remark-rehype](https://github.com/remarkjs/remark-rehype#api).

```js
{
  markdown: {
    // Contoh: Terjemahkan teks catatan kaki ke bahasa lain, berikut nilai default bahasa Inggris
    remarkRehype: { footnoteLabel: "Footnotes", footnoteBackLabel: "Back to reference 1"},
  },
};
```

## i18n

<p>

**Tipe:** `object`<br />
<Since v="3.5.0" />
</p>

Mengonfigurasi routing i18n dan memungkinkan Anda menentukan beberapa opsi kustomisasi.

Lihat panduan kami untuk informasi lebih lanjut tentang [internasionalisasi di Astro](/id/guides/internationalization/)

### i18n.locales

<p>

**Tipe:** `Locales`<br />
<Since v="3.5.0" />
</p>

Daftar semua locale yang didukung situs web. Ini adalah field wajib.

Bahasa dapat dicantumkan sebagai kode individual (mis. `['en', 'es', 'pt-br']`) atau dipetakan ke `path` kode bersama (mis.  `{ path: "english", codes: ["en", "en-US"]}`). Kode-kode ini akan digunakan untuk menentukan struktur URL situs Anda.

Tidak ada format atau sintaks kode bahasa khusus yang dipaksakan, tetapi folder proyek yang berisi file konten Anda harus sama persis dengan item `locales` di daftar. Jika beberapa `codes` mengarah ke awalan path URL kustom, simpan file konten Anda dalam folder dengan nama yang sama seperti `path` yang dikonfigurasi.

### i18n.defaultLocale

<p>

**Tipe:** `string`<br />
<Since v="3.5.0" />
</p>

Locale default situs/aplikasi Anda, yang merupakan salah satu dari `locales` yang ditentukan. Ini adalah field wajib.

Tidak ada format bahasa khusus yang dipaksakan, tetapi kami menyarankan menggunakan huruf kecil dan tanda hubung seperlunya (mis. "es", "pt-br") untuk kompatibilitas terbaik.

### i18n.fallback

<p>

**Tipe:** `Record<string, string>`<br />
<Since v="3.5.0" />
</p>

Strategi fallback saat menavigasi ke halaman yang tidak ada (misalnya halaman terjemahan belum dibuat).

Gunakan objek ini untuk mendeklarasikan rute fallback `locale` untuk setiap bahasa yang Anda dukung. Jika tidak ada fallback yang ditentukan, maka halaman yang tidak tersedia akan mengembalikan 404.

##### Contoh

Contoh berikut mengonfigurasi strategi fallback konten Anda untuk mengarahkan halaman yang tidak tersedia di `/pt-br/` ke versi `es`, dan halaman yang tidak tersedia di `/fr/` ke versi `en`. Halaman `/es/` yang tidak tersedia akan mengembalikan 404.

```js
export default defineConfig({
	i18n: {
		defaultLocale: "en",
		locales: ["en", "fr", "pt-br", "es"],
		fallback: {
			pt: "es",
		  fr: "en"
		}
	}
})
```

### i18n.routing

<p>

**Tipe:** `object | "manual"`<br />
**Bawaan:** `object`<br />
<Since v="3.7.0" />
</p>

Mengontrol strategi routing untuk menentukan URL situs Anda. Atur ini berdasarkan konfigurasi folder/path URL untuk bahasa default Anda.

```js
export default defineConfig({
	i18n: {
		defaultLocale: "en",
		locales: ["en", "fr"],
		routing: {
			prefixDefaultLocale: false,
			redirectToDefaultLocale: true,
			fallbackType: "redirect",
		}
	}
})
```

Sejak 4.6.0, opsi ini juga dapat diatur ke `manual`. Saat strategi routing ini diaktifkan, Astro akan **menonaktifkan** middleware i18n-nya dan tidak ada opsi `routing` lain (mis. `prefixDefaultLocale`) yang dapat dikonfigurasi. Anda bertanggung jawab menulis logika routing sendiri, atau mengeksekusi middleware i18n Astro secara manual bersama logika Anda.

```js
export default defineConfig({
	i18n: {
		defaultLocale: "en",
		locales: ["en", "fr"],
		routing: "manual"
	}
})
```

#### i18n.routing.prefixDefaultLocale

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `false`<br />
<Since v="3.7.0" />
</p>

Jika `false`, hanya bahasa non-default yang akan menampilkan awalan bahasa.
`defaultLocale` tidak akan menampilkan awalan bahasa dan file konten tidak ada di folder yang dilokalkan.
 URL akan berbentuk `example.com/[locale]/content/` untuk semua bahasa non-default, tetapi `example.com/content/` untuk locale default.

Jika `true`, semua URL akan menampilkan awalan bahasa.
URL akan berbentuk `example.com/[locale]/content/` untuk setiap rute, termasuk bahasa default.
Folder terlokalisasi digunakan untuk setiap bahasa, termasuk default.

```js
export default defineConfig({
	i18n: {
		defaultLocale: "en",
		locales: ["en", "fr", "pt-br", "es"],
		routing: {
			prefixDefaultLocale: true,
		}
	}
})
```

#### i18n.routing.redirectToDefaultLocale

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `true`<br />
<Since v="4.2.0" />
</p>

Mengonfigurasi apakah URL home (`/`) yang dihasilkan oleh `src/pages/index.astro`
akan dialihkan ke `/[defaultLocale]` saat `prefixDefaultLocale: true` diatur.

Atur `redirectToDefaultLocale: false` untuk menonaktifkan pengalihan otomatis di root situs Anda:
```js
// astro.config.mjs
export default defineConfig({
  i18n:{
    defaultLocale: "en",
		locales: ["en", "fr"],
    routing: {
      prefixDefaultLocale: true,
      redirectToDefaultLocale: false
    }
  }
})
```

#### i18n.routing.fallbackType

<p>

**Tipe:** `"redirect" | "rewrite"`<br />
**Bawaan:** `"redirect"`<br />
<Since v="4.15.0" />
</p>

Saat [`i18n.fallback`](#i18nfallback) dikonfigurasi untuk menghindari menampilkan halaman 404 untuk rute halaman yang hilang, opsi ini mengontrol apakah akan [mengalihkan](/id/guides/routing/#redirects) ke halaman fallback, atau [menulis ulang](/id/guides/routing/#rewrites) konten halaman fallback di tempat.

Secara default, routing i18n Astro membuat halaman yang mengalihkan pengunjung Anda ke tujuan baru berdasarkan konfigurasi fallback. Browser akan memuat ulang dan menampilkan alamat tujuan di bilah URL.

Saat `i18n.routing.fallback: "rewrite"` dikonfigurasi, Astro akan membuat halaman yang merender konten halaman fallback pada URL yang diminta semula.

Dengan konfigurasi berikut, jika Anda memiliki file `src/pages/id/about.astro` tetapi tidak `src/pages/fr/about.astro`, perintah `astro build` akan menghasilkan `dist/fr/about.html` dengan konten yang sama seperti halaman `dist/id/about.html`.
Pengunjung situs Anda akan melihat versi bahasa Inggris dari halaman di `https://example.com/fr/about/` dan tidak akan dialihkan.

```js
//astro.config.mjs
export default defineConfig({
	 i18n: {
    defaultLocale: "en",
    locales: ["en", "fr"],
    routing: {
    	prefixDefaultLocale: false,
    	fallbackType: "rewrite",
    },
    fallback: {
    	fr: "en",
    }
  },
})
```

### i18n.domains

<p>

**Tipe:** `Record<string, string>`<br />
**Bawaan:** `{}`<br />
<Since v="4.3.0" />
</p>

Mengonfigurasi pola URL dari satu atau beberapa bahasa yang didukung untuk menggunakan domain kustom (atau sub-domain).

Saat locale dipetakan ke domain, awalan path `/[locale]/` tidak akan digunakan.
Namun, folder yang dilokalkan di dalam `src/pages/` tetap diperlukan, termasuk untuk `defaultLocale` yang dikonfigurasi.

Locale lain yang tidak dikonfigurasi akan default ke URL berbasis path terlokalisasi sesuai strategi `prefixDefaultLocale` Anda (mis. `https://example.com/[locale]/blog`).

```js
//astro.config.mjs
export default defineConfig({
	 site: "https://example.com",
	 output: "server", // wajib, tanpa halaman diprerender
	 adapter: node({
	   mode: 'standalone',
	 }),
	 i18n: {
    defaultLocale: "en",
    locales: ["en", "fr", "pt-br", "es"],
    prefixDefaultLocale: false,
    domains: {
      fr: "https://fr.example.com",
      es: "https://example.es"
    }
  },
})
```

Baik rute halaman yang dibangun maupun URL yang dikembalikan oleh fungsi pembantu `astro:i18n` [`getAbsoluteLocaleUrl()`](/id/reference/modules/astro-i18n/#getabsolutelocaleurl) dan [`getAbsoluteLocaleUrlList()`](/id/reference/modules/astro-i18n/#getabsolutelocaleurllist) akan menggunakan opsi yang ditetapkan di `i18n.domains`.

Lihat [Panduan Internasionalisasi](/id/guides/internationalization/#domains) untuk detail selengkapnya, termasuk keterbatasan fitur ini.

## env

<p>

**Tipe:** `object`<br />
**Bawaan:** `{}`<br />
<Since v="5.0.0" />
</p>

Opsi konfigurasi untuk variabel lingkungan yang type-safe.

Lihat panduan kami untuk informasi lebih lanjut tentang [variabel lingkungan di Astro](/id/guides/environment-variables/).

### env.schema

<p>

**Tipe:** `EnvSchema`<br />
**Bawaan:** `{}`<br />
<Since v="5.0.0" />
</p>

Objek yang menggunakan `envField` untuk menentukan tipe data dan properti variabel lingkungan Anda: `context` (client atau server), `access` (public atau secret), nilai `default` yang digunakan, dan apakah variabel lingkungan ini `optional` (default `false`).
```js
// astro.config.mjs
import { defineConfig, envField } from "astro/config"

export default defineConfig({
  env: {
    schema: {
      API_URL: envField.string({ context: "client", access: "public", optional: true }),
      PORT: envField.number({ context: "server", access: "public", default: 4321 }),
      API_SECRET: envField.string({ context: "server", access: "secret" }),
    }
  }
})
```

`envField` mendukung empat tipe data: string, number, enum, dan boolean. `context` dan `access` adalah properti wajib untuk semua tipe data. Berikut daftar lengkap properti yang tersedia untuk setiap tipe data:

```js
import { envField } from "astro/config"

envField.string({
   // context & access
   optional: true,
   default: "foo",
   max: 20,
   min: 1,
   length: 13,
   url: true,
   includes: "oo",
   startsWith: "f",
   endsWith: "o",
})
envField.number({
   // context & access
   optional: true,
   default: 15,
   gt: 2,
   min: 1,
   lt: 3,
   max: 4,
   int: true,
})
envField.boolean({
   // context & access
   optional: true,
   default: true,
})
envField.enum({
   // context & access
   values: ['foo', 'bar', 'baz'], // wajib
   optional: true,
   default: 'baz',
})
```

### env.validateSecrets

<p>

**Tipe:** `boolean`<br />
**Bawaan:** `false`<br />
<Since v="5.0.0" />
</p>

Apakah akan memvalidasi secrets di server saat memulai dev server atau menjalankan build.

Secara default, hanya variabel publik yang divalidasi di server saat memulai dev server atau build, dan variabel privat divalidasi hanya saat runtime. Jika diaktifkan, variabel privat juga akan diperiksa saat start. Ini berguna di beberapa pipeline continuous integration (CI) untuk memastikan semua secret disetel dengan benar sebelum deploy.

```js
// astro.config.mjs
import { defineConfig, envField } from "astro/config"

export default defineConfig({
  env: {
    schema: {
      // ...
    },
    validateSecrets: true
  }
})
```