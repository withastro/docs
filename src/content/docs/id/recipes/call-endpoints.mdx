---
title: Memanggil endpoint dari server
description: Pelajari cara memanggil endpoint dari server di Astro.
i18nReady: true
type: recipe
---
import { Steps } from '@astrojs/starlight/components';

Endpoint dapat digunakan untuk menyajikan berbagai jenis data. Resep ini memanggil endpoint server dari skrip komponen halaman untuk menampilkan sapaan, tanpa memerlukan permintaan fetch tambahan.

## Prasyarat

- Proyek dengan [SSR](/en/guides/on-demand-rendering/) (output: 'server') diaktifkan

## Resep

<Steps>
1. Buat endpoint dalam berkas baru `src/pages/api/hello.ts` yang mengembalikan beberapa data:

    ```ts title="src/pages/api/hello.ts"
    import type { APIRoute } from 'astro'

    export const GET: APIRoute = () => {
      return new Response(
        JSON.stringify({
          greeting: 'Hello',
        }),
      )
    }
    ```

2. Pada halaman Astro mana pun, impor metode `GET()` dari endpoint. Panggil dengan [`global Astro`](/en/reference/api-reference/) untuk memberikan konteks request, lalu gunakan responsnya di halaman:

    ```astro title="src/pages/index.astro"
    ---
    import { GET } from './api/hello.ts'

    let response = await GET(Astro)
    const data = await response.json()
    ---

    <h1>{data.greeting} world!</h1>
    ```
</Steps>