---
title: Menganalisis ukuran bundel
description: Pelajari cara menganalisis bundel yang dihasilkan Astro menggunakan `rollup-plugin-visualizer`.
i18nReady: true
type: recipe
---

import { Steps } from '@astrojs/starlight/components';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';

Memahami apa saja yang menjadi bagian dari bundel Astro penting untuk meningkatkan performa situs. Memvisualisasikan bundel dapat memberi petunjuk di mana perubahan bisa dilakukan untuk mengurangi ukuran bundel.

## Resep

Pustaka [`rollup-plugin-visualizer`](https://github.com/btd/rollup-plugin-visualizer) memungkinkan Anda memvisualisasikan dan menganalisis bundel Rollup untuk melihat modul mana yang memakan ruang.
<Steps>
1. Instal `rollup-plugin-visualizer`:

    <PackageManagerTabs>
        <Fragment slot="npm">
        ```shell
        npm install rollup-plugin-visualizer --save-dev
        ```
        </Fragment>
        <Fragment slot="pnpm">
        ```shell
        pnpm add rollup-plugin-visualizer --save-dev
        ```
        </Fragment>
        <Fragment slot="yarn">
        ```shell
        yarn add rollup-plugin-visualizer --save-dev
        ```
        </Fragment>
    </PackageManagerTabs>

2. Tambahkan plugin ke berkas `astro.config.mjs`:

    ```js
    // @ts-check
    import { defineConfig } from 'astro/config';
    import { visualizer } from "rollup-plugin-visualizer";

    export default defineConfig({
    vite: {
        plugins: [visualizer({
            emitFile: true,
            filename: "stats.html",
        })]
    }
    });
    ```

3. Jalankan perintah build:

    <PackageManagerTabs>
        <Fragment slot="npm">
        ```shell
        npm run build
        ```
        </Fragment>
        <Fragment slot="pnpm">
        ```shell
        pnpm build
        ```
        </Fragment>
        <Fragment slot="yarn">
        ```shell
        yarn build
        ```
        </Fragment>
    </PackageManagerTabs>

4. Temukan berkas `stats.html` untuk proyek Anda.

        Berkas ini berada di root direktori `dist/` untuk situs yang sepenuhnya statis dan akan menampilkan apa saja yang termasuk dalam bundel.

        Jika proyek Astro Anda menggunakan on-demand rendering, akan ada dua berkas `stats.html`. Satu untuk klien, satu lagi untuk server. Masing-masing berada di root `dist/client/` dan `dist/server/`.

        Lihat [dokumentasi Rollup Plugin Visualizer](https://github.com/btd/rollup-plugin-visualizer#how-to-use-generated-files) untuk panduan membaca file ini, atau mengonfigurasi opsi khusus.

</Steps>

:::note
Karena pendekatan unik Astro terhadap hydration, hasil build tidak selalu merepresentasikan bundel yang akan diterima klien.

Visualizer Rollup menampilkan seluruh dependensi yang digunakan di seluruh situs, namun tidak merinci ukuran bundel per halaman.
:::