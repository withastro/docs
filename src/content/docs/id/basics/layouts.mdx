---
title: Layout
description: Pengantar layout di Astro.
i18nReady: true
---

import ReadMore from '~/components/ReadMore.astro'

**Layout** adalah [komponen Astro](/id/basics/astro-components/) yang digunakan untuk menyediakan struktur UI yang dapat digunakan kembali, seperti templat halaman.

Secara konvensi, kita menggunakan istilah "layout" untuk komponen Astro yang menyediakan elemen UI umum yang digunakan lintas halaman seperti header, bilah navigasi, dan footer. Komponen layout Astro yang umum menyediakan [halaman Astro, Markdown, atau MDX](/id/basics/astro-pages/) dengan:
- **kerangka halaman** (tag `<html>`, `<head>`, dan `<body>`)
- sebuah [**`<slot />`**](/id/basics/astro-components/#slots) untuk menentukan di mana konten halaman individual disuntikkan.

Tetapi, tidak ada yang “spesial” tentang komponen layout! Layout dapat [menerima props](/id/basics/astro-components/#component-props) serta [mengimpor dan menggunakan komponen lain](/id/basics/astro-components/#component-structure) seperti komponen Astro lainnya. Layout dapat menyertakan [komponen kerangka UI](/id/guides/framework-components/) dan [skrip sisi klien](/id/guides/client-side-scripts/). Layout bahkan tidak harus menyediakan kerangka halaman penuh, dan bisa saja digunakan sebagai templat UI parsial.

Namun, jika sebuah komponen layout memang berisi kerangka halaman, elemen `<html>`-nya harus menjadi induk dari seluruh elemen lain di komponen tersebut.

Komponen layout umumnya ditempatkan di direktori `src/layouts` dalam proyek Anda demi organisasi, tetapi ini bukan keharusan; Anda bebas menempatkannya di mana saja. Anda bahkan dapat menempatkan layout bersamaan dengan halaman dengan [memberi prefix nama layout dengan `_`](/id/guides/routing/#excluding-pages).

## Contoh Layout

```astro "<slot />" 
---
// src/layouts/MySiteLayout.astro
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
const { title } = Astro.props;
---
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <BaseHead title={title}/>
  </head>
  <body>
    <nav>
      <a href="#">Home</a>
      <a href="#">Posts</a>
      <a href="#">Contact</a>
    </nav>
    <h1>{title}</h1>
    <article>
      <slot /> <!-- konten Anda disuntikkan di sini -->
    </article>
    <Footer />
  </body>
  <style>
    h1 {
      font-size: 2rem;
    }
  </style>
</html>
```

```astro title="src/pages/index.astro"
---
import MySiteLayout from '../layouts/MySiteLayout.astro';
---
<MySiteLayout title="Home Page">
  <p>Konten halaman saya, dibungkus oleh layout!</p>
</MySiteLayout>
```

<ReadMore>Pelajari lebih lanjut tentang [slot](/id/basics/astro-components/#slots).</ReadMore>

## Menggunakan TypeScript dengan layout

Layout Astro apa pun dapat dimodifikasi untuk memperkenalkan *type safety* & autocompletion dengan menyediakan tipe untuk props Anda:

```astro ins={2-7} title="src/components/MyLayout.astro"
---
interface Props { 
  title: string;
  description: string;
  publishDate: string;
  viewCount: number;
}
const { title, description, publishDate, viewCount } = Astro.props;
---
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content={description}>
    <title>{title}</title>
  </head>
  <body>
    <header>
      <p>Diterbitkan pada {publishDate}</p>
      <p>Telah dilihat oleh {viewCount} orang</p>
    </header>
    <main>
      <slot />
    </main>
  </body>
</html>
```

## Layout Markdown

Layout halaman sangat berguna untuk halaman Markdown individual yang sebaliknya tidak memiliki pemformatan halaman.

Astro menyediakan properti frontmatter khusus `layout` yang ditujukan untuk [file `.md` individual di dalam `src/pages/` yang menggunakan file-based routing](/id/guides/markdown-content/#individual-markdown-pages) agar dapat menentukan komponen `.astro` yang dipakai sebagai layout halaman. Komponen ini memungkinkan Anda menyediakan konten `<head>` seperti meta tag (mis. `<meta charset="utf-8">`) dan gaya untuk halaman Markdown. Secara bawaan, komponen yang ditentukan ini dapat mengakses data dari file Markdown.

Properti ini tidak dikenali sebagai properti khusus ketika Anda menggunakan [content collections](/id/guides/content-collections/) untuk melakukan query dan merender konten.

```markdown title="src/pages/page.md" {2} 
---
layout: ../layouts/BlogPostLayout.astro
title: "Hello, World!"
author: "Matthew Phillips"
date: "09 Aug 2022"
---
Semua properti frontmatter tersedia sebagai props untuk komponen layout Astro.

Properti `layout` adalah satu-satunya properti khusus yang disediakan oleh Astro.

Anda dapat menggunakannya pada file Markdown yang berada di dalam `src/pages/`.
```

Layout yang umum untuk halaman Markdown mencakup:

1. Prop `frontmatter` untuk mengakses frontmatter dan data lainnya dari halaman Markdown. 
2. [`<slot />`](/id/basics/astro-components/#slots) default untuk menunjukkan di mana konten Markdown halaman dirender.

```astro title="src/layouts/BlogPostLayout.astro" /(?<!//.*){?frontmatter(?:\.\w+)?}?/ "<slot />"
---
// 1. Prop frontmatter memberikan akses ke frontmatter dan data lainnya
const { frontmatter } = Astro.props;
---
<html>
  <head>
    <!-- Tambahkan elemen Head lain di sini, seperti styles dan meta tag. -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <!-- Tambahkan komponen UI lain di sini, seperti header dan footer umum. -->
    <h1>{frontmatter.title} oleh {frontmatter.author}</h1>
    <!-- 2. HTML yang dirender akan diteruskan ke slot default. -->
    <slot />
    <p>Ditulis pada: {frontmatter.date}</p>
  </body>
</html>
```

Anda dapat menetapkan [`Props` type](/id/guides/typescript/#component-props) sebuah layout dengan helper `MarkdownLayoutProps`:

```astro title="src/layouts/BlogPostLayout.astro" ins={2,4-9}
---
import type { MarkdownLayoutProps } from 'astro';

type Props = MarkdownLayoutProps<{
  // Definisikan properti frontmatter di sini
  title: string;
  author: string;
  date: string;
}>;

// Kini, `frontmatter`, `url`, dan properti layout Markdown lainnya
// dapat diakses dengan type safety
const { frontmatter, url } = Astro.props;
---
<html>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href={new URL(url, Astro.site).pathname}>
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <h1>{frontmatter.title} oleh {frontmatter.author}</h1>
    <slot />
    <p>Ditulis pada: {frontmatter.date}</p>
  </body>
</html>
```

### Props Layout Markdown

Sebuah layout Markdown akan memiliki akses ke informasi berikut melalui `Astro.props`:

- **`file`** - Path absolut file (contoh: `/home/user/projects/.../file.md`).
- **`url`** - URL halaman (contoh: `/id/guides/markdown-content`).
- **`frontmatter`** - Seluruh frontmatter dari dokumen Markdown atau MDX.
  - **`frontmatter.file`** - Sama dengan properti `file` tingkat atas.
  - **`frontmatter.url`** - Sama dengan properti `url` tingkat atas.
- **`headings`** - Daftar heading (`h1 -> h6`) pada dokumen Markdown atau MDX beserta metadata terkait. Tipe daftar ini: `{ depth: number; slug: string; text: string }[]`.
- **`rawContent()`** - Fungsi yang mengembalikan dokumen Markdown mentah sebagai string.
- **`compiledContent()`** - Fungsi async yang mengembalikan dokumen Markdown yang dikompilasi menjadi string HTML.

:::note
Layout Markdown akan memiliki akses ke semua [properti yang tersedia](/id/guides/markdown-content/#available-properties) dari file Markdown melalui `Astro.props` **dengan dua perbedaan kunci:**

* Informasi heading (yaitu elemen `h1 -> h6`) tersedia melalui array `headings`, bukan fungsi `getHeadings()`.

* `file` dan `url` juga tersedia sebagai properti bersarang `frontmatter` (yaitu `frontmatter.url` dan `frontmatter.file`).
:::

### Mengimpor Layout Secara Manual (MDX)

Anda juga dapat menggunakan properti layout Markdown khusus di frontmatter file MDX untuk meneruskan props `frontmatter` dan `headings` langsung ke komponen layout yang ditentukan dengan cara yang sama. 

Untuk meneruskan informasi ke layout MDX Anda yang tidak (atau tidak bisa) ada di frontmatter, Anda bisa mengimpor dan menggunakan komponen `<Layout />`. Ini bekerja seperti komponen Astro lainnya, dan tidak akan menerima props secara otomatis. Teruskan props yang diperlukan secara langsung:

```mdx title="src/pages/posts/first-post.mdx" ins={6} del={2} /</?BaseLayout>/ /</?BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>/
---
layout: ../../layouts/BaseLayout.astro
title: 'Posting MDX pertama saya'
publishDate: '21 September 2022'
---
import BaseLayout from '../../layouts/BaseLayout.astro';

export function fancyJsHelper() {
  return "Coba lakukan itu dengan YAML!";
}

<BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>
  Selamat datang di blog Astro baru saya, menggunakan MDX!
</BaseLayout>
```

Kemudian, nilai-nilai Anda tersedia melalui `Astro.props` di layout Anda, dan konten MDX Anda akan disuntikkan ke halaman di lokasi `<slot />`:

```astro title="src/layouts/BaseLayout.astro" /{?title}?/ "fancyJsHelper" "{fancyJsHelper()}"
---
const { title, fancyJsHelper } = Astro.props;
---
<html>
  <head>
    <!-- -->
    <meta charset="utf-8">
  </head>
  <body>
    <!-- -->
    <h1>{title}</h1>
    <slot /> <!-- konten Anda disuntikkan di sini -->
    <p>{fancyJsHelper()}</p>
    <!-- -->
  </body>
</html>
```

Saat menggunakan layout apa pun (baik melalui properti frontmatter `layout` atau dengan mengimpor layout), Anda harus menyertakan tag `<meta charset="utf-8">` di layout karena Astro tidak lagi menambahkannya secara otomatis ke halaman MDX Anda.

<ReadMore>Pelajari lebih lanjut tentang dukungan Markdown dan MDX Astro di [panduan Markdown](/id/guides/markdown-content/).</ReadMore>

## Menyusun (Nesting) Layout

Komponen layout tidak harus berisi seluruh HTML satu halaman. Anda dapat memecah layout menjadi komponen yang lebih kecil, dan menggabungkannya untuk membuat templat halaman yang lebih fleksibel. Pola ini berguna ketika Anda ingin berbagi sebagian kode antar beberapa layout.

Sebagai contoh, komponen layout `BlogPostLayout.astro` dapat menata judul, tanggal, dan penulis posting. Lalu, layout `BaseLayout.astro` global situs dapat menangani sisanya seperti navigasi, footer, meta SEO, gaya global, dan font. Anda juga bisa meneruskan props yang diterima dari posting ke layout lain, seperti halnya komponen bersarang lainnya.

```astro {3} /</?BaseLayout>/ /</?BaseLayout url={frontmatter.url}>/
---
// src/layouts/BlogPostLayout.astro
import BaseLayout from './BaseLayout.astro';
const { frontmatter } = Astro.props;
---
<BaseLayout url={frontmatter.url}>
  <h1>{frontmatter.title}</h1>
  <h2>Penulis: {frontmatter.author}</h2>
  <slot />
</BaseLayout>
```
