---
title: Deploy situs Astro Anda ke Zerops
description: Cara mendeploy situs Astro Anda ke web menggunakan Zerops.
sidebar:
  label: Zerops
type: deploy
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'
import { Steps } from '@astrojs/starlight/components';

[Zerops](https://zerops.io/) adalah platform cloud untuk developer yang dapat digunakan untuk mendeploy situs Astro (statis maupun SSR).

Panduan ini akan memandu Anda menyiapkan dan mendeploy situs Astro statis maupun SSR di Zerops.


:::tip[Astro x Zerops Quickrun]

Ingin mencoba menjalankan Astro di Zerops tanpa instalasi atau penyiapan apa pun? Dengan repositori [Zerops x Astro - Static](https://github.com/zeropsio/recipe-astro-static) atau [Zerops x Astro - SSR on Node.js](https://github.com/zeropsio/recipe-astro-nodejs) Anda dapat mendeploy contoh situs Astro dengan satu klik.

:::

Menjalankan aplikasi di Zerops memerlukan dua langkah:
1. Membuat proyek
2. Memicu pipeline build & deploy

:::note
Satu proyek Zerops dapat berisi beberapa situs Astro.
:::

## Situs Astro statis di Zerops

### Membuat proyek dan layanan untuk Astro Static
Proyek dan layanan dapat ditambahkan melalui wizard [`Project add`](https://app.zerops.io/dashboard/project-add) atau diimpor menggunakan struktur yaml:

```yaml
# lihat https://docs.zerops.io/references/import untuk referensi lengkap
project:
  name: recipe-astro
services:
  - hostname: app
    type: static
```

Ini akan membuat proyek bernama `recipe-astro` dengan layanan Zerops Static bernama `app`.

### Mendeploy situs Astro Static Anda

Untuk memberi tahu Zerops cara membangun dan menjalankan situs Anda, tambahkan `zerops.yml` ke repositori Anda:

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - npm i
            - npm build
          deployFiles:
            - dist/~
        run:
          base: static
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - pnpm i
            - pnpm build
          deployFiles:
            - dist/~
        run:
          base: static
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - yarn
            - yarn build
          deployFiles:
            - dist/~
        run:
          base: static
    ```
    </Fragment>
  </PackageManagerTabs>

Sekarang Anda dapat [memicu pipeline build & deploy menggunakan Zerops CLI](#trigger-the-pipeline-using-zerops-cli-zcli) atau dengan menghubungkan layanan `app` dengan repositori [GitHub](https://docs.zerops.io/references/github-integration/) / [GitLab](https://docs.zerops.io/references/gitlab-integration) dari dalam detail layanan.


## Situs Astro SSR di Zerops

### Perbarui skrip

Perbarui skrip `start` Anda untuk menjalankan keluaran server dari Node adapter.

```json title="package.json"
"scripts": {
  "start": "node ./dist/server/entry.mjs",
} 
```

### Membuat proyek dan layanan untuk Astro SSR (Node.js)
Proyek dan layanan dapat ditambahkan melalui wizard [`Project add`](https://app.zerops.io/dashboard/project-add) atau diimpor menggunakan struktur yaml:

```yaml
# lihat https://docs.zerops.io/references/import untuk referensi lengkap
project:
  name: recipe-astro
services:
  - hostname: app
    type: nodejs@20
```

Ini akan membuat proyek bernama `recipe-astro` dengan layanan Zerops Node.js bernama `app`.

### Mendeploy situs Astro SSR Anda

Untuk memberi tahu Zerops cara membangun dan menjalankan situs Anda menggunakan [Astro Node.js adapter](/id/guides/integrations-guide/node/) resmi dalam mode `standalone`, tambahkan file `zerops.yml` ke repositori Anda:


  <PackageManagerTabs>
    <Fragment slot="npm">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - npm i
            - npm run build
          deployFiles:
            - dist
            - package.json
            - node_modules
        run:
          base: nodejs@20
          ports:
            - port: 3000
              httpSupport: true
          envVariables:
            PORT: 3000
            HOST: 0.0.0.0
          start: npm start
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - pnpm i
            - pnpm run build
          deployFiles:
            - dist
            - package.json
            - node_modules
        run:
          base: nodejs@20
          ports:
            - port: 3000
              httpSupport: true
          envVariables:
            PORT: 3000
            HOST: 0.0.0.0
          start: pnpm start
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```yaml title="zerops.yml"
    # lihat https://docs.zerops.io/zerops-yml/specification untuk referensi lengkap
    zerops:
      - setup: app
        build:
          base: nodejs@20
          buildCommands:
            - yarn
            - yarn build
          deployFiles:
            - dist
            - package.json
            - node_modules
        run:
          base: nodejs@20
          ports:
            - port: 3000
              httpSupport: true
          envVariables:
            PORT: 3000
            HOST: 0.0.0.0
          start: yarn start
    ```
    </Fragment>
  </PackageManagerTabs>

Sekarang Anda dapat [memicu pipeline build & deploy menggunakan Zerops CLI](#trigger-the-pipeline-using-zerops-cli-zcli) atau dengan menghubungkan layanan `app` dengan repositori [GitHub](https://docs.zerops.io/references/github-integration/) / [GitLab](https://docs.zerops.io/references/gitlab-integration) dari dalam detail layanan.

## Memicu pipeline menggunakan Zerops CLI (zcli)

<Steps>
1. Pasang Zerops CLI.
		```shell
		# Untuk mengunduh binary zcli secara langsung,
		# gunakan https://github.com/zeropsio/zcli/releases
		npm i -g @zerops/zcli
		```

2. Buka [`Settings > Access Token Management`](https://app.zerops.io/settings/token-management) di aplikasi Zerops dan buat access token baru.

3. Masuk menggunakan access token dengan perintah berikut:
		```shell
		zcli login <token>
		```

4. Arahkan ke root aplikasi Anda (tempat `zerops.yml` berada) dan jalankan perintah berikut untuk memicu deploy:
		```shell
		zcli push
		```
</Steps>

## Sumber daya
### Resmi

- [Buat akun Zerops](https://app.zerops.io/registration)
- [Dokumentasi Zerops](https://docs.zerops.io)
- [Resep Astro Zerops](https://app.zerops.io/recipe/astro)

### Komunitas
- [Mendeploy Astro ke Zerops dalam 3 menit](https://medium.com/@arjunaditya/how-to-deploy-astro-to-zerops-4230816a62b4)
- [Mendeploy Astro SSG dengan Node.js di Zerops dengan One Click Deploy](https://youtu.be/-4KTa4VWtBE)
- [Mendeploy Astro SSR dengan Node.js di Zerops dengan One Click Deploy](https://youtu.be/eR6b_JnDH6g)