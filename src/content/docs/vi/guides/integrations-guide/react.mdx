---
type: integration
title: '@astrojs/react'
description: TÃ¬m hiá»ƒu cÃ¡ch sá»­ dá»¥ng tÃ­ch há»£p framework @astrojs/react Ä‘á»ƒ má»Ÿ rá»™ng há»— trá»£ component trong dá»± Ã¡n Astro cá»§a báº¡n.
sidebar:
  label: React
githubIntegrationURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/react/'
category: renderer
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'

**[TÃ­ch há»£p Astro][astro-integration]** nÃ y cho phÃ©p render vÃ  hydration phÃ­a client cho cÃ¡c component [React](https://react.dev/) cá»§a báº¡n.

## CÃ i Ä‘áº·t

Astro bao gá»“m lá»‡nh `astro add` Ä‘á»ƒ tá»± Ä‘á»™ng thiáº¿t láº­p cÃ¡c tÃ­ch há»£p chÃ­nh thá»©c. Náº¿u muá»‘n, báº¡n cÃ³ thá»ƒ [cÃ i Ä‘áº·t tÃ­ch há»£p thá»§ cÃ´ng](#cÃ i-Ä‘áº·t-thá»§-cÃ´ng) thay tháº¿.

Äá»ƒ cÃ i Ä‘áº·t `@astrojs/react`, cháº¡y lá»‡nh sau tá»« thÆ° má»¥c dá»± Ã¡n cá»§a báº¡n vÃ  lÃ m theo hÆ°á»›ng dáº«n:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npx astro add react
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm astro add react
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn astro add react
  ```
  </Fragment>
</PackageManagerTabs>

Náº¿u gáº·p báº¥t ká»³ váº¥n Ä‘á» nÃ o, [hÃ£y bÃ¡o cÃ¡o cho chÃºng tÃ´i trÃªn GitHub](https://github.com/withastro/astro/issues) vÃ  thá»­ cÃ¡c bÆ°á»›c cÃ i Ä‘áº·t thá»§ cÃ´ng bÃªn dÆ°á»›i.

### CÃ i Ä‘áº·t thá»§ cÃ´ng

Äáº§u tiÃªn, cÃ i Ä‘áº·t gÃ³i `@astrojs/react`:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install @astrojs/react
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add @astrojs/react
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add @astrojs/react
  ```
  </Fragment>
</PackageManagerTabs>

Háº§u háº¿t cÃ¡c trÃ¬nh quáº£n lÃ½ gÃ³i cÅ©ng sáº½ cÃ i Ä‘áº·t cÃ¡c dependency Ä‘á»“ng cáº¥p liÃªn quan. Náº¿u báº¡n tháº¥y cáº£nh bÃ¡o `Cannot find package 'react'` (hoáº·c tÆ°Æ¡ng tá»±) khi khá»Ÿi Ä‘á»™ng Astro, báº¡n cáº§n cÃ i Ä‘áº·t `react` vÃ  `react-dom` vá»›i Ä‘á»‹nh nghÄ©a type:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install react react-dom @types/react @types/react-dom
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add react react-dom @types/react @types/react-dom
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add react react-dom @types/react @types/react-dom
  ```
  </Fragment>
</PackageManagerTabs>

Sau Ä‘Ã³, Ã¡p dá»¥ng tÃ­ch há»£p vÃ o file `astro.config.*` cá»§a báº¡n báº±ng thuá»™c tÃ­nh `integrations`:

```js ins="react()" ins={2} title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';

export default defineConfig({
  // ...
  integrations: [react()],
});
```

VÃ  thÃªm code sau vÃ o file `tsconfig.json`.

```json title="tsconfig.json" ins={5-8}
{
  "extends": "astro/tsconfigs/strict",
  "include": [".astro/types.d.ts", "**/*"],
  "exclude": ["dist"],
  "compilerOptions": {
    "jsx": "react-jsx",
    "jsxImportSource": "react"
  }
}
```

## Báº¯t Ä‘áº§u

Äá»ƒ sá»­ dá»¥ng component React Ä‘áº§u tiÃªn trong Astro, hÃ£y xem [tÃ i liá»‡u framework UI][astro-ui-frameworks]. Báº¡n sáº½ khÃ¡m phÃ¡:

* ğŸ“¦ cÃ¡ch cÃ¡c component framework Ä‘Æ°á»£c táº£i,
* ğŸ’§ cÃ¡c tÃ¹y chá»n hydration phÃ­a client, vÃ 
* ğŸ¤ cÆ¡ há»™i káº¿t há»£p vÃ  lá»“ng cÃ¡c framework vá»›i nhau

## TÃ¹y chá»n

### Káº¿t há»£p nhiá»u JSX framework

Khi sá»­ dá»¥ng nhiá»u JSX framework (React, Preact, Solid) trong cÃ¹ng dá»± Ã¡n, Astro cáº§n xÃ¡c Ä‘á»‹nh biáº¿n Ä‘á»•i JSX framework-specific nÃ o sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng cho tá»«ng component. Náº¿u báº¡n chá»‰ thÃªm má»™t tÃ­ch há»£p JSX framework vÃ o dá»± Ã¡n, khÃ´ng cáº§n cáº¥u hÃ¬nh thÃªm.

Sá»­ dá»¥ng tÃ¹y chá»n cáº¥u hÃ¬nh `include` (báº¯t buá»™c) vÃ  `exclude` (tÃ¹y chá»n) Ä‘á»ƒ chá»‰ Ä‘á»‹nh file nÃ o thuá»™c framework nÃ o. Cung cáº¥p máº£ng file vÃ /hoáº·c thÆ° má»¥c cho `include` cho má»—i framework báº¡n sá»­ dá»¥ng. CÃ³ thá»ƒ sá»­ dá»¥ng wildcard Ä‘á»ƒ bao gá»“m nhiá»u Ä‘Æ°á»ng dáº«n file.

ChÃºng tÃ´i khuyÃªn báº¡n nÃªn Ä‘áº·t cÃ¡c component framework chung trong cÃ¹ng thÆ° má»¥c (vÃ­ dá»¥: `/components/react/` vÃ  `/components/solid/`) Ä‘á»ƒ viá»‡c chá»‰ Ä‘á»‹nh include dá»… dÃ ng hÆ¡n, nhÆ°ng Ä‘iá»u nÃ y khÃ´ng báº¯t buá»™c:

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';
import react from '@astrojs/react';
import svelte from '@astrojs/svelte';
import vue from '@astrojs/vue';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // KÃ­ch hoáº¡t nhiá»u framework Ä‘á»ƒ há»— trá»£ táº¥t cáº£ cÃ¡c loáº¡i component khÃ¡c nhau.
  // KhÃ´ng cáº§n `include` náº¿u báº¡n chá»‰ sá»­ dá»¥ng má»™t JSX framework!
  integrations: [
    preact({
      include: ['**/preact/*'],
    }),
    react({
      include: ['**/react/*'],
    }),
    solid({
      include: ['**/solid/*'],
    }),
  ],
});
```

### Children parsing

Children Ä‘Æ°á»£c truyá»n vÃ o component React tá»« component Astro Ä‘Æ°á»£c phÃ¢n tÃ­ch thÃ nh chuá»—i thuáº§n tÃºy, khÃ´ng pháº£i React nodes.

VÃ­ dá»¥, `<ReactComponent />` bÃªn dÆ°á»›i sáº½ chá»‰ nháº­n má»™t pháº§n tá»­ con:

```astro
---
import ReactComponent from './ReactComponent';
---

<ReactComponent>
  <div>one</div>
  <div>two</div>
</ReactComponent>
```

Náº¿u báº¡n Ä‘ang sá»­ dá»¥ng thÆ° viá»‡n *mong Ä‘á»£i* nhiá»u hÆ¡n má»™t pháº§n tá»­ con Ä‘Æ°á»£c truyá»n, vÃ­ dá»¥ Ä‘á»ƒ cÃ³ thá»ƒ Ä‘áº·t cÃ¡c pháº§n tá»­ nháº¥t Ä‘á»‹nh á»Ÿ cÃ¡c vá»‹ trÃ­ khÃ¡c nhau, báº¡n cÃ³ thá»ƒ tháº¥y Ä‘Ã¢y lÃ  má»™t rÃ o cáº£n.

Báº¡n cÃ³ thá»ƒ Ä‘áº·t flag thá»­ nghiá»‡m `experimentalReactChildren` Ä‘á»ƒ yÃªu cáº§u Astro luÃ´n truyá»n children cho React dÆ°á»›i dáº¡ng React virtual DOM nodes. CÃ³ má»™t chi phÃ­ runtime nháº¥t Ä‘á»‹nh cho Ä‘iá»u nÃ y, nhÆ°ng nÃ³ cÃ³ thá»ƒ giÃºp tÆ°Æ¡ng thÃ­ch.

Báº¡n cÃ³ thá»ƒ kÃ­ch hoáº¡t tÃ¹y chá»n nÃ y trong cáº¥u hÃ¬nh cho tÃ­ch há»£p React:

```js title="astro.config.mjs" ins={8}
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';

export default defineConfig({
  // ...
  integrations: [
    react({
      experimentalReactChildren: true,
    }),
  ],
});
```

### Táº¯t streaming (thá»­ nghiá»‡m)

Astro stream output cá»§a React component theo máº·c Ä‘á»‹nh. Tuy nhiÃªn, báº¡n cÃ³ thá»ƒ táº¯t hÃ nh vi nÃ y báº±ng cÃ¡ch kÃ­ch hoáº¡t tÃ¹y chá»n `experimentalDisableStreaming`. Äiá»u nÃ y Ä‘áº·c biá»‡t há»¯u Ã­ch Ä‘á»ƒ há»— trá»£ cÃ¡c thÆ° viá»‡n khÃ´ng hoáº¡t Ä‘á»™ng tá»‘t vá»›i streaming, nhÆ° má»™t sá»‘ giáº£i phÃ¡p CSS-in-JS.

Äá»ƒ táº¯t streaming cho táº¥t cáº£ React component trong dá»± Ã¡n cá»§a báº¡n, cáº¥u hÃ¬nh `@astrojs/react` vá»›i `experimentalDisableStreaming: true`:

```js title="astro.config.mjs" ins={8}
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';

export default defineConfig({
  // ...
  integrations: [
    react({
      experimentalDisableStreaming: true,
    }),
  ],
});
```

[astro-integration]: /en/guides/integrations-guide/

[astro-ui-frameworks]: /en/guides/framework-components/#using-framework-components