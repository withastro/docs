---
title: Di chuy·ªÉn t·ª´ NuxtJS
description: C√°c m·∫πo ƒë·ªÉ di chuy·ªÉn d·ª± √°n NuxtJS hi·ªán t·∫°i sang Astro
sidebar:
  label: NuxtJS
type: migration
stub: false
framework: NuxtJS
i18nReady: true
---
import { Steps, LinkCard, CardGrid } from '@astrojs/starlight/components';
import AstroVueTabs from '~/components/tabs/AstroVueTabs.astro';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import { FileTree } from '@astrojs/starlight/components';

D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë kh√°i ni·ªám ch√≠nh v√† chi·∫øn l∆∞·ª£c di chuy·ªÉn ƒë·ªÉ gi√∫p b·∫°n b·∫Øt ƒë·∫ßu. S·ª≠ d·ª•ng ph·∫ßn c√≤n l·∫°i c·ªßa t√†i li·ªáu v√† [c·ªông ƒë·ªìng Discord](https://astro.build/chat) ƒë·ªÉ ti·∫øp t·ª•c!

> H∆∞·ªõng d·∫´n n√†y ƒë·ªÅ c·∫≠p ƒë·∫øn [Nuxt 2](https://nuxtjs.org/), kh√¥ng ph·∫£i Nuxt 3 m·ªõi h∆°n. M·∫∑c d√π m·ªôt s·ªë kh√°i ni·ªám t∆∞∆°ng t·ª±, Nuxt 3 l√† phi√™n b·∫£n m·ªõi h∆°n c·ªßa framework v√† c√≥ th·ªÉ c·∫ßn c√°c chi·∫øn l∆∞·ª£c kh√°c nhau cho c√°c ph·∫ßn di chuy·ªÉn c·ªßa b·∫°n.

## Nh·ªØng ƒëi·ªÉm t∆∞∆°ng ƒë·ªìng ch√≠nh gi·ªØa Nuxt v√† Astro

Nuxt v√† Astro chia s·∫ª m·ªôt s·ªë ƒëi·ªÉm t∆∞∆°ng ƒë·ªìng s·∫Ω gi√∫p b·∫°n di chuy·ªÉn d·ª± √°n:

- C√°c d·ª± √°n Astro c≈©ng c√≥ th·ªÉ l√† SSG ho·∫∑c [SSR v·ªõi prerendering c·∫•p trang](/vi/guides/on-demand-rendering/).
- Astro s·ª≠ d·ª•ng routing d·ª±a tr√™n file, v√† [cho ph√©p c√°c trang c√≥ t√™n ƒë·∫∑c bi·ªát t·∫°o routes ƒë·ªông](/vi/guides/routing/#dynamic-routes).
- Astro [d·ª±a tr√™n component](/vi/basics/astro-components/), v√† c·∫•u tr√∫c markup c·ªßa b·∫°n s·∫Ω t∆∞∆°ng t·ª± tr∆∞·ªõc v√† sau khi di chuy·ªÉn.
- Astro c√≥ [t√≠ch h·ª£p ch√≠nh th·ª©c ƒë·ªÉ s·ª≠ d·ª•ng c√°c component Vue](/vi/guides/integrations-guide/vue/).
- Astro h·ªó tr·ª£ [c√†i ƒë·∫∑t c√°c package NPM](/vi/guides/imports/#npm-packages), bao g·ªìm c√°c th∆∞ vi·ªán Vue. B·∫°n c√≥ th·ªÉ gi·ªØ m·ªôt s·ªë ho·∫∑c t·∫•t c·∫£ c√°c component Vue v√† dependencies hi·ªán t·∫°i.

## Nh·ªØng kh√°c bi·ªát ch√≠nh gi·ªØa Nuxt v√† Astro

Khi b·∫°n x√¢y d·ª±ng l·∫°i trang Nuxt trong Astro, b·∫°n s·∫Ω nh·∫≠n th·∫•y m·ªôt s·ªë kh√°c bi·ªát quan tr·ªçng:

- Nuxt l√† SPA (single-page application) d·ª±a tr√™n Vue. Trang Astro l√† ·ª©ng d·ª•ng nhi·ªÅu trang ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng c√°c component `.astro`, nh∆∞ng c≈©ng c√≥ th·ªÉ h·ªó tr·ª£ React, Preact, Vue.js, Svelte, SolidJS, AlpineJS, v√† templating HTML th√¥.

- [Page Routing](/vi/basics/astro-pages/#file-based-routing): Nuxt s·ª≠ d·ª•ng `vue-router` cho SPA routing, v√† `vue-meta` ƒë·ªÉ qu·∫£n l√Ω `<head>`. Trong Astro, b·∫°n s·∫Ω t·∫°o c√°c route trang HTML ri√™ng bi·ªát v√† ki·ªÉm so√°t `<head>` c·ªßa trang tr·ª±c ti·∫øp, ho·∫∑c trong component layout.

- [content-driven](/vi/concepts/why-astro/#content-driven): Astro ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ showcase n·ªôi dung c·ªßa b·∫°n v√† cho ph√©p b·∫°n ch·ªçn t∆∞∆°ng t√°c ch·ªâ khi c·∫ßn thi·∫øt. ·ª®ng d·ª•ng Nuxt hi·ªán t·∫°i c√≥ th·ªÉ ƒë∆∞·ª£c x√¢y d·ª±ng cho t∆∞∆°ng t√°c client-side cao. Astro c√≥ kh·∫£ nƒÉng t√≠ch h·ª£p ƒë·ªÉ l√†m vi·ªác v·ªõi n·ªôi dung c·ªßa b·∫°n, ch·∫≥ng h·∫°n nh∆∞ t·∫°o trang, nh∆∞ng c√≥ th·ªÉ c·∫ßn c√°c k·ªπ thu·∫≠t Astro n√¢ng cao ƒë·ªÉ bao g·ªìm c√°c m·ª•c kh√≥ sao ch√©p h∆°n b·∫±ng c√°c component `.astro`, ch·∫≥ng h·∫°n nh∆∞ dashboards.

## Chuy·ªÉn ƒë·ªïi d·ª± √°n NuxtJS c·ªßa b·∫°n

M·ªói qu√° tr√¨nh di chuy·ªÉn d·ª± √°n s·∫Ω kh√°c nhau, nh∆∞ng c√≥ m·ªôt s·ªë h√†nh ƒë·ªông ph·ªï bi·∫øn b·∫°n s·∫Ω th·ª±c hi·ªán khi chuy·ªÉn ƒë·ªïi t·ª´ Nuxt sang Astro.

### T·∫°o d·ª± √°n Astro m·ªõi
S·ª≠ d·ª•ng l·ªánh `create astro` cho package manager c·ªßa b·∫°n ƒë·ªÉ kh·ªüi ch·∫°y CLI wizard c·ªßa Astro ho·∫∑c ch·ªçn theme c·ªông ƒë·ªìng t·ª´ [Astro Theme Showcase](https://astro.build/themes).

B·∫°n c√≥ th·ªÉ truy·ªÅn ƒë·ªëi s·ªë `--template` cho l·ªánh `create astro` ƒë·ªÉ b·∫Øt ƒë·∫ßu d·ª± √°n Astro m·ªõi v·ªõi m·ªôt trong nh·ªØng starter ch√≠nh th·ª©c c·ªßa ch√∫ng t√¥i (v√≠ d·ª•: `docs`, `blog`, `portfolio`). Ho·∫∑c, b·∫°n c√≥ th·ªÉ [b·∫Øt ƒë·∫ßu d·ª± √°n m·ªõi t·ª´ b·∫•t k·ª≥ repository Astro hi·ªán c√≥ n√†o tr√™n GitHub](/vi/install-and-setup/#install-from-the-cli-wizard).

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```shell
    # kh·ªüi ch·∫°y Astro CLI Wizard 
    npm create astro@latest

    # t·∫°o d·ª± √°n m·ªõi v·ªõi v√≠ d·ª• ch√≠nh th·ª©c
    npm create astro@latest -- --template <example-name>
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```shell
    # kh·ªüi ch·∫°y Astro CLI Wizard 
    pnpm create astro@latest

    # t·∫°o d·ª± √°n m·ªõi v·ªõi v√≠ d·ª• ch√≠nh th·ª©c
    pnpm create astro@latest --template <example-name>
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```shell
    # kh·ªüi ch·∫°y Astro CLI Wizard 
    yarn create astro@latest

    # t·∫°o d·ª± √°n m·ªõi v·ªõi v√≠ d·ª• ch√≠nh th·ª©c
    yarn create astro@latest --template <example-name>
    ```
    </Fragment>
  </PackageManagerTabs>

Sau ƒë√≥, sao ch√©p c√°c file d·ª± √°n Nuxt hi·ªán t·∫°i c·ªßa b·∫°n v√†o d·ª± √°n Astro m·ªõi trong m·ªôt th∆∞ m·ª•c ri√™ng b√™n ngo√†i `src`.

:::tip
Truy c·∫≠p https://astro.new ƒë·ªÉ xem danh s√°ch ƒë·∫ßy ƒë·ªß c√°c template starter ch√≠nh th·ª©c, v√† li√™n k·∫øt ƒë·ªÉ m·ªü d·ª± √°n m·ªõi trong IDX, StackBlitz, CodeSandbox, ho·∫∑c Gitpod.
:::

### C√†i ƒë·∫∑t integrations (t√πy ch·ªçn)

B·∫°n c√≥ th·ªÉ th·∫•y h·ªØu √≠ch khi c√†i ƒë·∫∑t m·ªôt s·ªë [integrations t√πy ch·ªçn c·ªßa Astro](/vi/guides/integrations-guide/) ƒë·ªÉ s·ª≠ d·ª•ng khi chuy·ªÉn ƒë·ªïi d·ª± √°n Nuxt sang Astro:

- **@astrojs/vue**: ƒë·ªÉ t√°i s·ª≠ d·ª•ng m·ªôt s·ªë component Vue UI hi·ªán t·∫°i trong trang Astro m·ªõi c·ªßa b·∫°n, ho·∫∑c ti·∫øp t·ª•c vi·∫øt v·ªõi c√°c component Vue.

- **@astrojs/mdx**: ƒë·ªÉ mang c√°c file MDX hi·ªán t·∫°i t·ª´ d·ª± √°n Nuxt c·ªßa b·∫°n, ho·∫∑c s·ª≠ d·ª•ng MDX trong trang Astro m·ªõi c·ªßa b·∫°n.

### ƒê·∫∑t source code v√†o `src`

<Steps>
1. **Di chuy·ªÉn** n·ªôi dung c·ªßa th∆∞ m·ª•c `static/` c·ªßa Nuxt v√†o `public/`.
   
    Astro s·ª≠ d·ª•ng th∆∞ m·ª•c `public/` cho static assets, t∆∞∆°ng t·ª± nh∆∞ th∆∞ m·ª•c `static/` c·ªßa Nuxt.

2. **Sao ch√©p ho·∫∑c Di chuy·ªÉn** c√°c file v√† th∆∞ m·ª•c kh√°c c·ªßa Nuxt (v√≠ d·ª•: `pages`, `layouts` v.v.) v√†o th∆∞ m·ª•c `src/` c·ªßa Astro.

    Gi·ªëng nh∆∞ Nuxt, th∆∞ m·ª•c `src/pages/` c·ªßa Astro l√† th∆∞ m·ª•c ƒë·∫∑c bi·ªát ƒë∆∞·ª£c s·ª≠ d·ª•ng cho file-based routing. T·∫•t c·∫£ c√°c th∆∞ m·ª•c kh√°c l√† t√πy ch·ªçn, v√† b·∫°n c√≥ th·ªÉ t·ªï ch·ª©c n·ªôi dung c·ªßa th∆∞ m·ª•c `src/` theo c√°ch b·∫°n th√≠ch. C√°c th∆∞ m·ª•c ph·ªï bi·∫øn kh√°c trong d·ª± √°n Astro bao g·ªìm `src/layouts/`, `src/components`, `src/styles`, `src/scripts`.
</Steps>

### Chuy·ªÉn ƒë·ªïi trang Vue SFC th√†nh file `.astro`

D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë m·∫πo ƒë·ªÉ chuy·ªÉn ƒë·ªïi component `.vue` c·ªßa Nuxt th√†nh component `.astro`:

1. S·ª≠ d·ª•ng `<template>` c·ªßa h√†m component NuxtJS hi·ªán t·∫°i l√†m c∆° s·ªü cho template HTML c·ªßa b·∫°n.

2. Thay ƒë·ªïi b·∫•t k·ª≥ [c√∫ ph√°p Nuxt ho·∫∑c Vue n√†o th√†nh Astro](#reference-convert-nuxtjs-syntax-to-astro) ho·∫∑c th√†nh ti√™u chu·∫©n web HTML. ƒêi·ªÅu n√†y bao g·ªìm `<NuxtLink>`, `:class`, `{{variable}}`, v√† `v-if`, ch·∫≥ng h·∫°n.

3. Di chuy·ªÉn JavaScript `<script>`, v√†o "code fence" (`---`). Chuy·ªÉn ƒë·ªïi c√°c thu·ªôc t√≠nh data-fetching c·ªßa component c·ªßa b·∫°n th√†nh JavaScript ph√≠a server - xem [Nuxt data fetching to Astro](#nuxt-data-fetching-to-astro).

4. S·ª≠ d·ª•ng `Astro.props` ƒë·ªÉ truy c·∫≠p b·∫•t k·ª≥ props b·ªï sung n√†o tr∆∞·ªõc ƒë√¢y ƒë∆∞·ª£c truy·ªÅn cho component Vue c·ªßa b·∫°n.

5. Quy·∫øt ƒë·ªãnh xem c√≥ c·∫ßn chuy·ªÉn ƒë·ªïi component ƒë∆∞·ª£c import n√†o th√†nh Astro kh√¥ng. V·ªõi integration ch√≠nh th·ª©c ƒë∆∞·ª£c c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ [s·ª≠ d·ª•ng c√°c component Vue hi·ªán t·∫°i trong file Astro c·ªßa b·∫°n](/vi/guides/integrations-guide/vue/). Nh∆∞ng, b·∫°n c√≥ th·ªÉ mu·ªën chuy·ªÉn ƒë·ªïi ch√∫ng th√†nh Astro, ƒë·∫∑c bi·ªát n·∫øu ch√∫ng kh√¥ng c·∫ßn t∆∞∆°ng t√°c!

Xem [v√≠ d·ª• t·ª´ ·ª©ng d·ª•ng Nuxt ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi t·ª´ng b∆∞·ªõc](#guided-example-see-the-steps).

#### So s√°nh: Vue vs Astro

So s√°nh component Nuxt sau v√† component Astro t∆∞∆°ng ·ª©ng:

<AstroVueTabs>
  <Fragment slot="vue">
    ```vue title="Page.vue"
    <template>
      <div>
        <p v-if="message === 'Not found'">
          The repository you're looking up doesn't exist
        </p>
        <div v-else>
          <Header/>
          <p class="banner">Astro c√≥ {{stars}} üßë‚ÄçüöÄ</p>
          <Footer />
        </div>
      </div>
    </template>

    <script>
    import Vue from 'vue'
    
    export default Vue.extend({
      name: 'IndexPage',
      async asyncData() {
        const res = await fetch('https://api.github.com/repos/withastro/astro')
        const json = await res.json();
        return {
          message: json.message,
          stars: json.stargazers_count || 0,
        };
      }
    });
    </script>
    
    <style scoped>
    .banner {
      background-color: #f4f4f4;
      padding: 1em 1.5em;
      text-align: center;
      margin-bottom: 1em;
    }
    <style>
    ```
  </Fragment>
  <Fragment slot="astro">
    ```astro title="Page.astro"
    ---
    import Header from "./header";
    import Footer from './footer';
    import "./layout.css";

    const res = await fetch('https://api.github.com/repos/withastro/astro')
    const json = await res.json()
    const message = json.message;
    const stars = json.stargazers_count || 0;
    ---
    
    {message === "Not Found" ? 
          <p>The repository you're looking up doesn't exist</p> :
          <>
                <Header />
                <p class="banner">Astro c√≥ {stars} üßë‚ÄçüöÄ</p>
                <Footer />
            </> 
    }
    
    <style>
      .banner {
        background-color: #f4f4f4; 
        padding: 1em 1.5em;
        text-align: center;
        margin-bottom: 1em;
      }
    <style>
    ```
  </Fragment>
</AstroVueTabs>

### Di chuy·ªÉn Layout Files

B·∫°n c√≥ th·ªÉ th·∫•y h·ªØu √≠ch khi b·∫Øt ƒë·∫ßu b·∫±ng c√°ch chuy·ªÉn ƒë·ªïi layouts v√† templates c·ªßa Nuxt th√†nh [component layout Astro](/vi/basics/layouts/).

M·ªói trang Astro y√™u c·∫ßu r√µ r√†ng c√°c th·∫ª `<html>`, `<head>`, v√† `<body>` ph·∫£i c√≥ m·∫∑t. `layout.vue` v√† templates c·ªßa Nuxt s·∫Ω kh√¥ng bao g·ªìm nh·ªØng th·∫ª n√†y.

L∆∞u √Ω templating HTML ti√™u chu·∫©n, v√† truy c·∫≠p tr·ª±c ti·∫øp v√†o `<head>`:

```astro title="src/layouts/Layout.astro"
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Astro</title>
  </head>
  <body>
    <!-- B·ªçc element slot v·ªõi templating layout hi·ªán t·∫°i c·ªßa b·∫°n -->
    <slot />
  </body>
</html>
```

B·∫°n c≈©ng c√≥ th·ªÉ mu·ªën t√°i s·ª≠ d·ª•ng code t·ª´ [thu·ªôc t√≠nh `head` c·ªßa trang Nuxt](https://nuxtjs.org/docs/configuration-glossary/configuration-head/#the-head-property) ƒë·ªÉ bao g·ªìm metadata trang b·ªï sung. L∆∞u √Ω r·∫±ng Astro kh√¥ng s·ª≠ d·ª•ng `vue-meta` c≈©ng kh√¥ng s·ª≠ d·ª•ng thu·ªôc t√≠nh `head` c·ªßa component m√† thay v√†o ƒë√≥ t·∫°o `<head>` tr·ª±c ti·∫øp. B·∫°n c√≥ th·ªÉ import v√† s·ª≠ d·ª•ng components, ngay c·∫£ trong `<head>`, ƒë·ªÉ ph√¢n t√°ch v√† t·ªï ch·ª©c n·ªôi dung trang c·ªßa b·∫°n.

### Di chuy·ªÉn Pages v√† Posts

Trong NuxtJS, [trang](/vi/basics/astro-pages/) c·ªßa b·∫°n n·∫±m trong `/pages`. Trong Astro, t·∫•t c·∫£ n·ªôi dung trang c·ªßa b·∫°n ph·∫£i n·∫±m trong `src/` tr·ª´ khi b·∫°n ƒëang s·ª≠ d·ª•ng [content collections](/vi/guides/content-collections/).

#### Trang Vue

C√°c trang Nuxt Vue (`.vue`) hi·ªán t·∫°i c·ªßa b·∫°n s·∫Ω c·∫ßn ƒë∆∞·ª£c [chuy·ªÉn ƒë·ªïi t·ª´ file Vue th√†nh trang `.astro`](#convert-vue-sfc-pages-to-astro-files). B·∫°n kh√¥ng th·ªÉ s·ª≠ d·ª•ng file trang Vue hi·ªán t·∫°i trong Astro.

C√°c [trang `.astro`](/vi/basics/astro-pages/) n√†y ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t trong `src/pages/` v√† s·∫Ω c√≥ c√°c routes trang ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông d·ª±a tr√™n ƒë∆∞·ªùng d·∫´n file c·ªßa ch√∫ng.

##### ƒê·∫∑t t√™n Dynamic File Path

Trong Nuxt, c√°c trang ƒë·ªông c·ªßa b·∫°n s·ª≠ d·ª•ng d·∫•u g·∫°ch d∆∞·ªõi ƒë·ªÉ ƒë·∫°i di·ªán cho thu·ªôc t√≠nh trang ƒë·ªông sau ƒë√≥ ƒë∆∞·ª£c truy·ªÅn cho t·∫°o trang:

<FileTree>
- pages/
  - pokemon/
    - _name.vue
  - index.vue
- nuxt.config.js
</FileTree>

ƒê·ªÉ chuy·ªÉn ƒë·ªïi sang Astro, thay ƒë·ªïi thu·ªôc t√≠nh ƒë∆∞·ªùng d·∫´n ƒë·ªông c√≥ d·∫•u g·∫°ch d∆∞·ªõi n√†y (v√≠ d·ª•: `_name.vue`) ƒë·ªÉ ƒë∆∞·ª£c b·ªçc trong m·ªôt c·∫∑p d·∫•u ngo·∫∑c vu√¥ng (v√≠ d·ª•: `[name].astro`):

<FileTree>
- src/
  - pages/
    - pokemon/
      - [name].astro
    - index.astro
- astro.config.mjs
</FileTree>

#### Trang Markdown v√† MDX

Astro c√≥ h·ªó tr·ª£ t√≠ch h·ª£p cho Markdown v√† integration t√πy ch·ªçn cho file MDX. B·∫°n c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng b·∫•t k·ª≥ trang Markdown v√† MDX hi·ªán t·∫°i n√†o, nh∆∞ng ch√∫ng c√≥ th·ªÉ c·∫ßn m·ªôt s·ªë ƒëi·ªÅu ch·ªânh cho frontmatter c·ªßa ch√∫ng, ch·∫≥ng h·∫°n nh∆∞ th√™m [thu·ªôc t√≠nh frontmatter `layout` ƒë·∫∑c bi·ªát c·ªßa Astro](/vi/basics/layouts/#markdown-layouts).

B·∫°n s·∫Ω kh√¥ng c√≤n c·∫ßn t·∫°o trang th·ªß c√¥ng cho m·ªói route ƒë∆∞·ª£c t·∫°o t·ª´ Markdown ho·∫∑c s·ª≠ d·ª•ng package b√™n ngo√†i nh∆∞ `@nuxt/content`. C√°c file n√†y c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·∫∑t trong `src/pages/` ƒë·ªÉ t·∫≠n d·ª•ng file-based routing t·ª± ƒë·ªông.

Khi l√† m·ªôt ph·∫ßn c·ªßa [content collection](/vi/guides/content-collections/), b·∫°n s·∫Ω [t·∫°o trang ƒë·ªông](/vi/guides/content-collections/#generating-routes-from-content) t·ª´ c√°c m·ª•c n·ªôi dung c·ªßa b·∫°n.

### Di chuy·ªÉn Tests

V√¨ Astro xu·∫•t HTML th√¥, c√≥ th·ªÉ vi·∫øt end-to-end tests s·ª≠ d·ª•ng output c·ªßa build step. B·∫•t k·ª≥ end-to-end tests n√†o ƒë∆∞·ª£c vi·∫øt tr∆∞·ªõc ƒë√≥ c√≥ th·ªÉ ho·∫°t ƒë·ªông ngay l·∫≠p t·ª©c, n·∫øu b·∫°n c√≥ th·ªÉ kh·ªõp markup c·ªßa trang Nuxt. C√°c th∆∞ vi·ªán testing nh∆∞ Jest v√† Vue Testing Library c√≥ th·ªÉ ƒë∆∞·ª£c import v√† s·ª≠ d·ª•ng trong Astro ƒë·ªÉ test c√°c component Vue c·ªßa b·∫°n.

Xem [h∆∞·ªõng d·∫´n testing c·ªßa Astro](/vi/guides/testing/) ƒë·ªÉ bi·∫øt th√™m.

## Tham kh·∫£o: Chuy·ªÉn ƒë·ªïi c√∫ ph√°p NuxtJS sang Astro

### Bi·∫øn c·ª•c b·ªô Nuxt sang Astro

ƒê·ªÉ s·ª≠ d·ª•ng bi·∫øn c·ª•c b·ªô trong HTML c·ªßa component Astro, thay ƒë·ªïi b·ªô hai d·∫•u ngo·∫∑c nh·ªçn th√†nh m·ªôt b·ªô d·∫•u ngo·∫∑c nh·ªçn:

```astro title="src/components/Component.astro" del={4} add={5}
---
const message = "Hello!"
---
<p>{{message}}</p>
<p>{message}</p>
```

### Truy·ªÅn Property Nuxt sang Astro

ƒê·ªÉ bind m·ªôt attribute ho·∫∑c component property trong component Astro, thay ƒë·ªïi c√∫ ph√°p n√†y th√†nh nh∆∞ sau:

```astro title="src/components/Component.astro" del={3-7} ins={9-11}
---
---
<p v-bind:aria-label="message">...</p>
<!-- Ho·∫∑c -->
<p :aria-label="message">...</p>
<!-- C≈©ng h·ªó tr·ª£ component props -->
<Header title="Page"/>

<p aria-label={message}>...</p>
<!-- C≈©ng h·ªó tr·ª£ component props -->
<Header title={"Page"}/>
```

### Link Nuxt sang Astro

Chuy·ªÉn ƒë·ªïi b·∫•t k·ª≥ component `<NuxtLink to="">` c·ªßa Nuxt th√†nh th·∫ª HTML `<a href="">`.

```astro del={1} ins={2}
<NuxtLink to="/blog">Blog</Link>
<a href="/blog">Blog</a>
```

Astro kh√¥ng s·ª≠ d·ª•ng component ƒë·∫∑c bi·ªát n√†o cho links, m·∫∑c d√π b·∫°n c√≥ th·ªÉ t·ª± do x√¢y d·ª±ng c√°c component link t√πy ch·ªânh. Sau ƒë√≥ b·∫°n c√≥ th·ªÉ import v√† s·ª≠ d·ª•ng `<Link>` n√†y gi·ªëng nh∆∞ b·∫•t k·ª≥ component n√†o kh√°c.

```astro title="src/components/Link.astro"
---
const { to } = Astro.props
---
<a href={to}><slot /></a>
```

### Imports Nuxt sang Astro

N·∫øu c·∫ßn thi·∫øt, c·∫≠p nh·∫≠t b·∫•t k·ª≥ [file imports](/vi/guides/imports/) n√†o ƒë·ªÉ tham chi·∫øu ƒë∆∞·ªùng d·∫´n file t∆∞∆°ng ƒë·ªëi ch√≠nh x√°c. ƒêi·ªÅu n√†y c√≥ th·ªÉ ƒë∆∞·ª£c th·ª±c hi·ªán b·∫±ng c√°ch s·ª≠ d·ª•ng [import aliases](/vi/guides/typescript/#import-aliases), ho·∫∑c b·∫±ng c√°ch vi·∫øt ra ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi ƒë·∫ßy ƒë·ªß.

L∆∞u √Ω r·∫±ng `.astro` v√† m·ªôt s·ªë lo·∫°i file kh√°c ph·∫£i ƒë∆∞·ª£c import v·ªõi ph·∫ßn m·ªü r·ªông file ƒë·∫ßy ƒë·ªß c·ªßa ch√∫ng.

```astro title="src/pages/authors/Fred.astro" ".astro"
---
import Card from `../../components/Card.astro`;
---
<Card />
```

### T·∫°o trang ƒë·ªông Nuxt sang Astro

Trong Nuxt, ƒë·ªÉ t·∫°o trang ƒë·ªông b·∫°n ph·∫£i:

- S·ª≠ d·ª•ng SSR.
- [S·ª≠ d·ª•ng h√†m `generate` trong `nuxt.config.js`](https://nuxtjs.org/docs/configuration-glossary/configuration-generate/) ƒë·ªÉ ƒë·ªãnh nghƒ©a t·∫•t c·∫£ c√°c static routes c√≥ th·ªÉ.

Trong Astro, b·∫°n t∆∞∆°ng t·ª± c√≥ hai l·ª±a ch·ªçn:
- [S·ª≠ d·ª•ng SSR](/vi/guides/on-demand-rendering/).
- Export h√†m `getStaticPaths()` trong frontmatter c·ªßa trang Astro ƒë·ªÉ b√°o cho framework bi·∫øt [static routes ƒë·ªÉ t·∫°o ƒë·ªông](/vi/guides/routing/#dynamic-routes).

#### Chuy·ªÉn ƒë·ªïi h√†m `generate` trong Nuxt th√†nh h√†m `getStaticPaths` trong Astro.

ƒê·ªÉ t·∫°o nhi·ªÅu trang, thay th·∫ø h√†m t·∫°o routes trong `nuxt.config.js` c·ªßa b·∫°n b·∫±ng `getStaticPaths()` tr·ª±c ti·∫øp b√™n trong trang routing ƒë·ªông:

```javascript title="nuxt.config.js"
{
	// ...
    generate: {
        async routes() {
          // Axios ƒë∆∞·ª£c y√™u c·∫ßu ·ªü ƒë√¢y tr·ª´ khi b·∫°n ƒëang s·ª≠ d·ª•ng Node 18
          const res = await axios.get("https://pokeapi.co/api/v2/pokemon?limit=151")
          const pokemons = res.data.results;
          return pokemons.map(pokemon => {
            return '/pokemon/' + pokemon.name
          })
        }
      }
}
```

```astro title="src/pages/pokemon/[name].astro"
---
export const getStaticPaths = async () => {
  const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
  const resJson = await res.json();
  const pokemons = resJson.results;
  return pokemons.map(({ name }) => ({
      params: { name },
    }))
}
// ...
---
<!-- Template c·ªßa b·∫°n ·ªü ƒë√¢y -->
```

### Data Fetching Nuxt sang Astro

Nuxt c√≥ hai ph∆∞∆°ng th·ª©c fetch d·ªØ li·ªáu server-side:

- [`asyncData` options API](https://nuxtjs.org/docs/features/data-fetching/#async-data)
- [`fetch` hook](https://nuxtjs.org/docs/features/data-fetching/#the-fetch-hook)

Trong Astro, fetch d·ªØ li·ªáu b√™n trong code fence c·ªßa trang.

Di chuy·ªÉn nh∆∞ sau:

```vue title="pages/index.vue"
{
  // ...
  async asyncData() {
    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
    const resJson = await res.json();
    const pokemons = resJson.results;
    return {
      pokemons,
    }
  },
}
```

Th√†nh code fence kh√¥ng c√≥ wrapper function:

```astro title="src/pages/index.astro"
---
const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
const resJson = await res.json();
const pokemons = resJson.results;
---

<!-- Template c·ªßa b·∫°n ·ªü ƒë√¢y -->
```

### Styling Nuxt sang Astro

Nuxt s·ª≠ d·ª•ng component styling c·ªßa Vue ƒë·ªÉ t·∫°o style cho trang.

```vue title="pages/index.vue"
<template>
	<!-- Template c·ªßa b·∫°n ·ªü ƒë√¢y -->
</template>

<script>
	// Server logic c·ªßa b·∫°n ·ªü ƒë√¢y
</script>

<style scoped>
    .class {
        color: red;
    }
</style>
```

T∆∞∆°ng t·ª±, trong Astro b·∫°n c√≥ th·ªÉ th·∫£ element `<style>` v√†o template trang c·ªßa b·∫°n ƒë·ªÉ cung c·∫•p scoped styles cho component.

```astro title="src/pages/index.vue"
---
// Server logic c·ªßa b·∫°n ·ªü ƒë√¢y
---

<style>
    .class {
        color: red;
    }
</style>
```

#### Global Styling

Th·∫ª `<style>` ƒë∆∞·ª£c `scoped` m·∫∑c ƒë·ªãnh trong Astro. ƒê·ªÉ l√†m cho th·∫ª `<style>` global, ƒë√°nh d·∫•u n√≥ v·ªõi attribute `is:global`:

```astro title="src/pages/index.vue"
<style is:global> 
	p {
		color: red;
	}
</style>
```

#### H·ªó tr·ª£ Pre-processor

[Astro h·ªó tr·ª£ c√°c CSS preprocessors ph·ªï bi·∫øn nh·∫•t](/vi/guides/styling/#css-preprocessors) b·∫±ng c√°ch c√†i ƒë·∫∑t ch√∫ng nh∆∞ dev dependency. V√≠ d·ª•, ƒë·ªÉ s·ª≠ d·ª•ng SCSS:

```shell
npm install -D sass
```

Sau khi l√†m ƒëi·ªÅu ƒë√≥, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng style `.scss` ho·∫∑c `.sass` m√† kh√¥ng c·∫ßn s·ª≠a ƒë·ªïi t·ª´ c√°c component Vue c·ªßa b·∫°n.

```astro title="src/layouts/Layout.astro"
<p>Hello, world</p>
<style lang="scss">
p {
   color: black;
   
   &:hover {
       color: red;
   }
}
</style>
```

Xem th√™m v·ªÅ [Styling trong Astro](/vi/guides/styling/).

### Plugin Image Nuxt sang Astro

Chuy·ªÉn ƒë·ªïi b·∫•t k·ª≥ [component `<nuxt-img/>` ho·∫∑c `<nuxt-picture/>` c·ªßa Nuxt](https://image.nuxtjs.org/components/nuxt-img) th√†nh [component image ri√™ng c·ªßa Astro](/vi/guides/images/) trong file `.astro` ho·∫∑c `.mdx`, ho·∫∑c th√†nh [th·∫ª HTML `<img>`](/vi/guides/images/#images-in-ui-framework-components) ho·∫∑c `<picture>` ti√™u chu·∫©n t√πy theo trong c√°c component Vue c·ªßa b·∫°n.

Component `<Image />` c·ªßa Astro ch·ªâ ho·∫°t ƒë·ªông trong file `.astro` v√† `.mdx`. Xem [danh s√°ch ƒë·∫ßy ƒë·ªß c√°c thu·ªôc t√≠nh component](/vi/reference/modules/astro-assets/#image-properties) v√† l∆∞u √Ω r·∫±ng m·ªôt s·ªë s·∫Ω kh√°c v·ªõi c√°c thu·ªôc t√≠nh c·ªßa Nuxt.

```astro title="src/pages/index.astro"
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';
---
<Image src={rocket} alt="A rocketship in space." />
<img src={rocket.src} alt="A rocketship in space.">
```

Trong c√°c component Vue (`.vue`) trong ·ª©ng d·ª•ng Astro c·ªßa b·∫°n, s·ª≠ d·ª•ng c√∫ ph√°p image JSX ti√™u chu·∫©n (`<img />`). Astro s·∫Ω kh√¥ng t·ªëi ∆∞u h√≥a nh·ªØng h√¨nh ·∫£nh n√†y, nh∆∞ng b·∫°n c√≥ th·ªÉ c√†i ƒë·∫∑t v√† s·ª≠ d·ª•ng c√°c package NPM ƒë·ªÉ c√≥ t√≠nh linh ho·∫°t h∆°n.

B·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu th√™m v·ªÅ [s·ª≠ d·ª•ng images trong Astro](/vi/guides/images/) trong Images Guide.

## V√≠ d·ª• h∆∞·ªõng d·∫´n: Xem c√°c b∆∞·ªõc!

ƒê√¢y l√† v√≠ d·ª• v·ªÅ data fetch Pok√©dex c·ªßa Nuxt ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi sang Astro.

`pages/index.vue` fetch v√† hi·ªÉn th·ªã danh s√°ch 151 Pok√©mon ƒë·∫ßu ti√™n s·ª≠ d·ª•ng [REST Pok√©API](https://pokeapi.co/).

ƒê√¢y l√† c√°ch t√°i t·∫°o ƒëi·ªÅu ƒë√≥ trong `src/pages/index.astro`, thay th·∫ø `asyncData()` b·∫±ng `fetch()`.

<Steps>
1. X√°c ƒë·ªãnh `<template>` v√† `<style>` trong Vue SFC.

    ```jsx title="pages/index.vue" {2-13,47-55}
    <template>
      <ul class="plain-list pokeList">
                <li v-for="pokemon of pokemons" class="pokemonListItem" :key="pokemon.name">
                    <NuxtLink class="pokemonContainer" :to="`/pokemon/${pokemon.name}`">
                        <p class="pokemonId">No. {{pokemon.id}}</p>
                        <img
                          class="pokemonImage"
                          :src="`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`" 
                          :alt="`${pokemon.name} picture`"/>
                        <h2 class="pokemonName">{{pokemon.name}}</h2>
                    </NuxtLink>
                </li>
        </ul>
    </template>

    <script>
    import Vue from 'vue'
    export default Vue.extend({
      name: 'IndexPage',
      layout: 'default',
      async asyncData() {
        const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
        const resJson = await res.json();
        const pokemons = resJson.results.map(pokemon => {
            const name = pokemon.name;
            // https://pokeapi.co/api/v2/pokemon/1/
            const url = pokemon.url;
            const id = url.split("/")[url.split("/").length - 2];
            return {
                name,
                url,
                id
            }
        });
        return {
          pokemons,
        }
      },
      head() {
        return {
          title: "Pokedex: Generation 1"
        }
      }
    });
    </script>

    <style scoped>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```

2. T·∫°o `src/pages/index.astro`

    S·ª≠ d·ª•ng th·∫ª `<template>` v√† `<style>` c·ªßa Nuxt SFC. Chuy·ªÉn ƒë·ªïi b·∫•t k·ª≥ c√∫ ph√°p Nuxt ho·∫∑c Vue n√†o sang Astro.

    L∆∞u √Ω r·∫±ng:

    - `<template>` ƒë∆∞·ª£c lo·∫°i b·ªè

    - `<style>` c√≥ thu·ªôc t√≠nh `scoped` ƒë∆∞·ª£c lo·∫°i b·ªè

    - `v-for` tr·ªü th√†nh `.map`.

    - `:attr="val"` tr·ªü th√†nh `attr={val}`

    - `<NuxtLink>` tr·ªü th√†nh `<a>`.

    - Fragment `<> </>` kh√¥ng c·∫ßn thi·∫øt trong templating Astro.

    ```astro title="src/pages/index.astro" ".map" "</a>" "<a" "key={" "}>" "href={" " {pokemon.id}" "} alt={" "src={" "}/>" ">{pokemon.name}<"
    ---
    ---
    <ul class="plain-list pokeList">
        {pokemons.map((pokemon) => (
            <li class="pokemonListItem" key={pokemon.name}>
                <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                    <p class="pokemonId">No. {pokemon.id}</p>
                    <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                    <h2 class="pokemonName">{pokemon.name}</h2>
                </a>
            </li>
        ))}
    </ul>

    <style>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```

3. Th√™m imports, props v√† JavaScript c·∫ßn thi·∫øt

    L∆∞u √Ω r·∫±ng:

    - H√†m `asyncData` kh√¥ng c√≤n c·∫ßn thi·∫øt. D·ªØ li·ªáu t·ª´ API ƒë∆∞·ª£c fetch tr·ª±c ti·∫øp trong code fence.
    - Component `<Layout>` ƒë∆∞·ª£c import, v√† b·ªçc page templating.
      - Ph∆∞∆°ng th·ª©c `head()` c·ªßa Nuxt ƒë∆∞·ª£c truy·ªÅn cho component `<Layout>`, ƒë∆∞·ª£c truy·ªÅn cho element `<title>` nh∆∞ m·ªôt property.

    ```astro ins={2,4-16,19,31} title="src/pages/index.astro"
    ---
    import Layout from '../layouts/layout.astro';

    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151");
    const resJson = await res.json();
    const pokemons = resJson.results.map(pokemon => {
        const name = pokemon.name;
        // https://pokeapi.co/api/v2/pokemon/1/
        const url = pokemon.url;
        const id = url.split("/")[url.split("/").length - 2];
        return {
            name,
            url,
            id
        }
    });
    ---

    <Layout title="Pokedex: Generation 1">
      <ul class="plain-list pokeList">
          {pokemons.map((pokemon) => (
              <li class="pokemonListItem" key={pokemon.name}>
                  <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                      <p class="pokemonId">No. {pokemon.id}</p>
                      <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                      <h2 class="pokemonName">{pokemon.name}</h2>
                  </a>
              </li>
          ))}
      </ul>
    </Layout>

    <style>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```
</Steps>

## T√†i nguy√™n c·ªông ƒë·ªìng

<CardGrid>

  <LinkCard title="T·ª´ Nuxt sang Astro - x√¢y d·ª±ng l·∫°i v·ªõi Astro" href="https://dev.to/lindsaykwardell/from-nuxt-to-astro-rebuilding-with-astro-5ann"/>

  <LinkCard title="Chuy·ªÉn ƒë·ªïi n·ªÅn t·∫£ng Nuxt 2 sang Astro 3 ‚Äì t·ª´ Thi·∫øt l·∫≠p ƒë·∫øn Production" href="https://stevenwoodson.com/blog/replatforming-from-nuxtjs-2-to-astro/"/>

</CardGrid>

:::note[C√≥ t√†i nguy√™n ƒë·ªÉ chia s·∫ª?]
N·∫øu b·∫°n t√¨m th·∫•y (ho·∫∑c t·∫°o!) video ho·∫∑c b√†i blog h·ªØu √≠ch v·ªÅ vi·ªác chuy·ªÉn ƒë·ªïi trang Nuxt sang Astro, [th√™m n√≥ v√†o danh s√°ch n√†y](https://github.com/withastro/docs/edit/main/src/content/docs/vi/guides/migrate-to-astro/from-nuxtjs.mdx)!
:::