---
title: å¸ƒå±€
description: å¸ƒå±€ç®€ä»‹â€”â€”ä¸€ç§åœ¨é¡µé¢ä¸­å…±äº«å¸¸ç”¨å¸ƒå±€çš„ Astro ç»„ä»¶ã€‚
---

**å¸ƒå±€**æ˜¯ç‰¹æ®Šçš„ [Astro ç»„ä»¶](/zh-cn/core-concepts/astro-components/)ï¼Œå¯ç”¨äºåˆ›å»ºå¯é‡ç”¨çš„é¡µé¢æ¨¡æ¿ã€‚

æˆ‘ä»¬é€šå¸¸å°†â€œå¸ƒå±€â€ç”¨äºæä¾›å…±äº«é¡µé¢çš„å¸¸ç”¨ UI å…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ã€å¯¼èˆªæ å’Œé¡µè„šï¼‰çš„ Astro ç»„ä»¶ã€‚å…¸å‹çš„ Astro å¸ƒå±€ç»„ä»¶ä¸º [Astroã€Markdown æˆ– MDX é¡µé¢](/zh-cn/core-concepts/astro-pages/)æä¾›ï¼š
- ä¸€ä¸ª **é¡µé¢å¤–å£³**ï¼ˆ`<html>`ã€`<head>` å’Œ `<body>` æ ‡ç­¾ï¼‰
- ä¸€ä¸ª [**`<slot />`**](/zh-cn/core-concepts/astro-components/#æ’æ§½) æ¥æŒ‡å®šå•ä¸ªé¡µé¢å†…å®¹åº”è¯¥è¢«æ³¨å…¥çš„ä½ç½®ã€‚

ä½†æ˜¯ï¼Œå¸ƒå±€ç»„ä»¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼å®ƒä»¬å¯ä»¥åƒä»»ä½•å…¶ä»– Astro ç»„ä»¶ä¸€æ ·[æ¥å— props](/zh-cn/core-concepts/astro-components/#ç»„ä»¶å‚æ•°)å’Œ[å¯¼å…¥å’Œä½¿ç”¨å…¶ä»–ç»„ä»¶](/zh-cn/core-concepts/astro-components/#ç»„ä»¶æ¦‚è¿°)ã€‚å®ƒä»¬å¯ä»¥åŒ…å«[UI æ¡†æ¶ç»„ä»¶](/zh-cn/core-concepts/framework-components/)å’Œ[å®¢æˆ·ç«¯è„šæœ¬](/zh-cn/guides/client-side-scripts/)ã€‚å®ƒä»¬ç”šè‡³ä¸å¿…æä¾›å®Œæ•´çš„é¡µé¢å¤–å£³ï¼Œè€Œæ˜¯å¯ä»¥ç”¨ä½œéƒ¨åˆ† UI æ¨¡æ¿ã€‚

å¸ƒå±€ç»„ä»¶é€šå¸¸æ”¾ç½®åœ¨é¡¹ç›®ä¸­çš„ `src/layouts` ç›®å½•ä¸­ï¼Œä½†è¿™ä¸æ˜¯å¿…é¡»çš„ã€‚ä½ å¯ä»¥é€‰æ‹©å°†å®ƒä»¬æ”¾ç½®åœ¨é¡¹ç›®ä¸­çš„ä»»ä½•ä½ç½®ã€‚ä½ ç”šè‡³å¯ä»¥é€šè¿‡[åœ¨å¸ƒå±€ç»„ä»¶åç§°å‰é¢åŠ ä¸Šâ€œ_â€](/zh-cn/core-concepts/routing/#æ’é™¤é¡µé¢)å°†å¸ƒå±€ç»„ä»¶ä¸é¡µé¢æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚

## ç¤ºä¾‹å¸ƒå±€

```astro "<slot />" 
// src/layouts/MySiteLayout.astro
---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
const { title } = Astro.props
---
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <BaseHead title={title}/>
  </head>
  <body>
    <nav>
      <a href="#">ä¸»é¡µ</a>
      <a href="#">æ–‡ç« </a>
      <a href="#">è”ç³»</a>
    </nav>
    <h1>{title}</h1>
    <article>
      <slot /> <!-- ä½ çš„å†…å®¹ä¼šè¢«æ’å…¥åˆ°è¿™é‡Œ -->
    </article>
    <Footer />
  </body>
</html>
```

```astro {3} /</?MySiteLayout>/
// src/pages/index.astro
---
import MySiteLayout from '../layouts/MySiteLayout.astro';
---
<MySiteLayout title="Home Page">
  <p>æˆ‘çš„é¡µé¢å†…å®¹ï¼Œè¢«åŒ…è£¹åœ¨ä¸€ä¸ªå¸ƒå±€ä¸­ï¼</p>
</MySiteLayout>
```

ğŸ“š è¯¦ç»†äº†è§£[æ’æ§½](/zh-cn/core-concepts/astro-components/#æ’æ§½)ã€‚

## Markdown/MDX å¸ƒå±€

é¡µé¢å¸ƒå±€å¯¹äºæ²¡æœ‰ä»»ä½•é¡µé¢æ ¼å¼çš„ [Markdown å’Œ MDX é¡µé¢](/zh-cn/guides/markdown-content/#markdown-å’Œ-mdx-é¡µé¢)ç‰¹åˆ«æœ‰ç”¨ã€‚

Astro æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„ `layout` frontmatter å±æ€§ï¼Œç”¨äºæŒ‡å®šå“ªä¸ª `.astro` ç»„ä»¶ç”¨ä½œé¡µé¢å¸ƒå±€ã€‚

```markdown title="src/pages/page.md" {2} 
---
layout: ../layouts/BaseLayout.astro
title: "Hello, World!"
author: "Matthew Phillips"
date: "09 Aug 2022"
---
æ‰€æœ‰çš„ frontmatter å±æ€§éƒ½å¯ä»¥ä½œä¸º Astro å¸ƒå±€ç»„ä»¶çš„ propsã€‚

`layout` å±æ€§æ˜¯ Astro æä¾›çš„å”¯ä¸€ä¸€ä¸ªç‰¹æ®Šå±æ€§ã€‚

ä½ å¯ä»¥åœ¨ `src/pages/` ç›®å½•ä¸‹çš„ Markdown å’Œ MDX æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒã€‚
```

ä¸€ä¸ªå…¸å‹çš„ Markdown æˆ– MDX é¡µé¢å¸ƒå±€åŒ…æ‹¬ï¼š
1. ä¸€ä¸ª `frontmatter` propï¼Œç”¨äºè®¿é—® Markdown æˆ– MDX é¡µé¢çš„ frontmatter å’Œå…¶ä»–æ•°æ®ã€‚
2. ä¸€ä¸ªé»˜è®¤çš„ [`<slot />`](/zh-cn/core-concepts/astro-components/#æ’æ§½)ï¼Œç”¨äºæŒ‡å®šé¡µé¢çš„ Markdown/MDX å†…å®¹åº”è¯¥è¢«æ¸²æŸ“çš„ä½ç½®ã€‚


```astro /(?<!//.*){?frontmatter(?:\\.\w+)?}?/ "<slot />"
---
// src/layouts/BaseLayout.astro
// 1. `frontmatter` prop æä¾›äº†è®¿é—® frontmatter å’Œå…¶ä»–æ•°æ®çš„èƒ½åŠ›
const { frontmatter } = Astro.props;
---
<html>
  <head>
    <!-- æ·»åŠ å…¶ä»– Head å…ƒç´ ï¼Œä¾‹å¦‚æ ·å¼å’Œ meta æ ‡ç­¾ã€‚ -->
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <!-- æ·»åŠ å…¶ä»– UI ç»„ä»¶ï¼Œä¾‹å¦‚é€šç”¨çš„å¤´éƒ¨å’Œé¡µè„šã€‚ -->
    <h1>{frontmatter.title} by {frontmatter.author}</h1>
    <!-- 2. æ¸²æŸ“çš„ HTML å°†è¢«ä¼ å…¥é»˜è®¤æ’æ§½ã€‚ -->
    <slot />
    <p>å†™äº: {frontmatter.date}</p>
  </body>
</html>
```

ä½ å¯ä»¥ä½¿ç”¨ `MarkdownLayoutProps` æˆ– `MDXLayoutProps` å¸®åŠ©ç¨‹åºè®¾ç½®å¸ƒå±€çš„ [`Props` ç±»å‹](/zh-cn/guides/typescript/#ç»„ä»¶å‚æ•°)ï¼š

```astro title="src/layouts/BaseLayout.astro" ins={2,4-9}
---
import type { MarkdownLayoutProps } from 'astro';

type Props = MarkdownLayoutProps<{
  // åœ¨è¿™é‡Œå®šä¹‰ frontmatter å±æ€§
  title: string;
  author: string;
  date: string;
}>;

// ç°åœ¨ï¼Œ`frontmatter`ã€`url` å’Œå…¶ä»– Markdown å¸ƒå±€å±æ€§
// å¯ä»¥é€šè¿‡ TypeScript ç±»å‹å®‰å…¨åœ°è®¿é—®
const { frontmatter, url } = Astro.props;
---
<html>
  <head>
    <link rel="canonical" href={new URL(url, Astro.site).pathname}>
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <h1>{frontmatter.title} by {frontmatter.author}</h1>
    <slot />
    <p>å†™äº: {frontmatter.date}</p>
  </body>
</html>
```

### Markdown å¸ƒå±€çš„ Props

ä¸€ä¸ª Markdown/MDX å¸ƒå±€å°†é€šè¿‡ `Astro.props` è®¿é—®ä»¥ä¸‹ä¿¡æ¯ï¼š
- **`file`** - æ­¤æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ `/home/user/projects/.../file.md`ï¼‰ã€‚
- **`url`** - å¦‚æœæ˜¯é¡µé¢ï¼Œåˆ™ä¸ºé¡µé¢çš„ URLï¼ˆä¾‹å¦‚ `/en/guides/markdown-content`ï¼‰ã€‚
- **`frontmatter`** - Markdown æˆ– MDX æ–‡æ¡£ä¸­çš„æ‰€æœ‰ frontmatterã€‚
  - **`frontmatter.file`** - ä¸é¡¶çº§ `file` å±æ€§ç›¸åŒã€‚
  - **`frontmatter.url`** - ä¸é¡¶çº§ `url` å±æ€§ç›¸åŒã€‚
- **`headings`** - Markdown æˆ– MDX æ–‡æ¡£ä¸­çš„æ ‡é¢˜ï¼ˆ`h1 -> h6`ï¼‰åˆ—è¡¨åŠå…¶ç›¸å…³å…ƒæ•°æ®ã€‚æ­¤åˆ—è¡¨éµå¾ªç±»å‹ï¼š`{ depth: number; slug: string; text: string }[]`ã€‚
- **(Markdown only) `rawContent()`** - è¿”å›åŸå§‹ Markdown æ–‡æ¡£çš„å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚
- **(Markdown only) `compiledContent()`** - è¿”å› Markdown æ–‡æ¡£ç¼–è¯‘ä¸º HTML å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚

ç¤ºä¾‹ Markdown åšå®¢æ–‡ç« å¯èƒ½ä¼šå°†ä»¥ä¸‹ `Astro.props` å¯¹è±¡ä¼ é€’ç»™å…¶å¸ƒå±€ï¼š

```js
Astro.props = {
  file: "/home/user/projects/.../file.md",
  url: "/en/guides/markdown-content/",
  frontmatter: {
    /** ä»åšå®¢æ–‡ç« ä¸­è·å–çš„ Frontmatter */
    title: "Astro 0.18 Release",
    date: "Tuesday, July 27 2021",
    author: "Matthew Phillips",
    description: "Astro 0.18 is our biggest release since Astro launch.",
    /** ç”Ÿæˆçš„å€¼ */
    file: "/home/user/projects/.../file.md",
    url: "/en/guides/markdown-content/"
  },
  headings: [
    {
      "depth": 1,
      "text": "Astro 0.18 Release",
      "slug": "astro-018-release"
    },
    {
      "depth": 2,
      "text": "Responsive partial hydration",
      "slug": "responsive-partial-hydration"
    }
    /* ... */
  ],

  /** ä»…åœ¨ Markdown ä¸­å¯ç”¨ */
  rawContent: () => "# Astro 0.18 Release\nA little over a month ago, the first public beta [...]",
  compiledContent: () => "<h1>Astro 0.18 Release</h1>\n<p>A little over a month ago, the first public beta [...]</p>",
}
```
:::note
Markdown/MDX å¸ƒå±€å°†é€šè¿‡ `Astro.props` è®¿é—®å…¶æ–‡ä»¶çš„æ‰€æœ‰ [å¯¼å‡ºå±æ€§](/zh-cn/guides/markdown-content/#å¯¼å‡ºçš„å±æ€§)ï¼Œ**ä½†æœ‰ä¸€äº›å…³é”®åŒºåˆ«ï¼š**
*   æ ‡é¢˜ä¿¡æ¯ï¼ˆå³ `h1 -> h6` å…ƒç´ ï¼‰å¯é€šè¿‡ `headings` æ•°ç»„è®¿é—®ï¼Œè€Œä¸æ˜¯ `getHeadings()` å‡½æ•°ã€‚
*  `file` å’Œ `url` ä¹Ÿä½œä¸ºåµŒå¥—çš„ `frontmatter` å±æ€§ï¼ˆå³ `frontmatter.url` å’Œ `frontmatter.file`ï¼‰å¯ç”¨ã€‚
*  åœ¨ frontmatter ä¹‹å¤–å®šä¹‰çš„å€¼ï¼ˆä¾‹å¦‚ MDX ä¸­çš„ `export` è¯­å¥ï¼‰ä¸å¯ç”¨ã€‚è¯·è€ƒè™‘ [æ‰‹åŠ¨å¯¼å…¥å¸ƒå±€](#æ‰‹åŠ¨å¯¼å…¥å¸ƒå±€mdx)ã€‚
:::

### æ‰‹åŠ¨å¯¼å…¥å¸ƒå±€ï¼ˆMDXï¼‰

ä½ å¯èƒ½éœ€è¦å°†ä¿¡æ¯ä¼ é€’ç»™ä½ çš„ MDX å¸ƒå±€ï¼Œè€Œè¯¥ä¿¡æ¯ä¸å­˜åœ¨äºï¼ˆæˆ–æ— æ³•å­˜åœ¨äºï¼‰ä½ çš„ frontmatter ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å¯¼å…¥å¹¶ä½¿ç”¨ä¸€ä¸ª [`<Layout />` ç»„ä»¶](/zh-cn/core-concepts/layouts/)ï¼Œå¹¶åƒå…¶ä»–ç»„ä»¶ä¸€æ ·ä¼ é€’å®ƒçš„ propsï¼š

```mdx title="src/pages/posts/first-post.mdx" ins={6} del={2} /</?BaseLayout>/ /</?BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>/
---
layout: ../../layouts/BaseLayout.astro
title: 'My first MDX post'
publishDate: '21 September 2022'
---
import BaseLayout from '../../layouts/BaseLayout.astro';

function fancyJsHelper() {
  return "å°è¯•ä½¿ç”¨ YAML åšåˆ°è¿™ä¸€ç‚¹ï¼";
}

<BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>
  æ¬¢è¿æ¥åˆ°æˆ‘çš„æ–° Astro åšå®¢ï¼Œä½¿ç”¨ MDXï¼
</BaseLayout>
```
ç„¶åï¼Œä½ å¯ä»¥é€šè¿‡å¸ƒå±€ä¸­çš„ `Astro.props` è®¿é—®ä½ çš„å€¼ï¼Œè€Œä½ çš„ MDX å†…å®¹å°†è¢«æ³¨å…¥åˆ°ä½ çš„ `<slot />` ç»„ä»¶æ‰€åœ¨çš„é¡µé¢ä¸­ï¼š

```astro /{?title}?/ "fancyJsHelper" "{fancyJsHelper()}"
---
// src/layouts/BaseLayout.astro
const { title, fancyJsHelper } = Astro.props;
---
<!-- -->
<h1>{title}</h1>
<slot /> <!-- ä½ çš„å†…å®¹ä¼šè¢«æ’å…¥åˆ°è¿™é‡Œ -->
<p>{fancyJsHelper()}</p>
<!-- -->
```

ğŸ“š äº†è§£æ›´å¤šå…³äº Astro çš„ Markdown å’Œ MDX æ”¯æŒï¼Œè¯·å‚é˜… [Markdown/MDX æŒ‡å—](/zh-cn/guides/markdown-content/)ã€‚

## å¯¹ `.md`, `.mdx`, å’Œ `.astro` ä½¿ç”¨ä¸€ä¸ªå¸ƒå±€

ä¸€ä¸ª Astro å¸ƒå±€å¯ä»¥ç¼–å†™ä»¥æ¥æ”¶ `.md` å’Œ `.mdx` æ–‡ä»¶ä¸­çš„ `frontmatter` å¯¹è±¡ï¼Œä»¥åŠä» `.astro` æ–‡ä»¶ä¼ é€’çš„ä»»ä½•å‘½å propsã€‚

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¸ƒå±€å°†ä» frontmatter YAML `title` å±æ€§æˆ– Astro ç»„ä»¶ä¼ é€’çš„ `title` å±æ€§ä¸­æ˜¾ç¤ºé¡µé¢æ ‡é¢˜ï¼š

```astro /{?title}?/ /Astro.props[.a-z]*/
---
// src/components/MyLayout.astro
const { title } = Astro.props.frontmatter || Astro.props;
---
<html>
  <head></head>
  <body>
    <h1>{title}</h1>
    <slot />
  </body>
</html>
```

## åµŒå¥—å¸ƒå±€

å¸ƒå±€ç»„ä»¶æ— éœ€åŒ…å«æ•´ä¸ªé¡µé¢çš„ HTMLã€‚ä½ å¯ä»¥å°†å¸ƒå±€åˆ†è§£ä¸ºæ›´å°çš„ç»„ä»¶ï¼Œç„¶åé‡ç”¨è¿™äº›ç»„ä»¶ä»¥åˆ›å»ºæ›´çµæ´»ã€æ›´å¼ºå¤§çš„å¸ƒå±€ã€‚

ä¾‹å¦‚ï¼Œ`BlogPostLayout.astro` å¸ƒå±€ç»„ä»¶å¯ä»¥å¯¹æ–‡ç« çš„æ ‡é¢˜ã€æ—¥æœŸå’Œä½œè€…è¿›è¡Œæ ·å¼åŒ–ã€‚ç„¶åï¼Œ`BaseLayout.astro` å¯ä»¥å¤„ç†é¡µé¢æ¨¡æ¿çš„å…¶ä½™éƒ¨åˆ†ï¼Œä¾‹å¦‚å¯¼èˆªå’Œé¡µè„šã€‚ä½ è¿˜å¯ä»¥å°†ä»æ–‡ç« æ¥æ”¶çš„ props ä¼ é€’ç»™å¦ä¸€ä¸ªå¸ƒå±€ï¼Œå°±åƒä»»ä½•å…¶ä»–åµŒå¥—ç»„ä»¶ä¸€æ ·ã€‚

```astro {3} /</?BaseLayout>/ /</?BaseLayout url={frontmatter.url}>/
// src/layouts/BlogPostLayout.astro
---
import BaseLayout from './BaseLayout.astro'
const {frontmatter} = Astro.props;
---
<BaseLayout url={frontmatter.url}>
  <h1>{frontmatter.title}</h1>
  <h2>æ–‡ç« ä½œè€…: {frontmatter.author}</h2>
  <slot />
</BaseLayout>
````
