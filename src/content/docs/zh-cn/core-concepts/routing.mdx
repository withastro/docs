---
title: è·¯ç”±
description: å…³äº Astro è·¯ç”±çš„ä»‹ç»ã€‚
---
import FileTree from '~/components/FileTree.astro'
import RecipeLinks from "~/components/RecipeLinks.astro"
import Since from '~/components/Since.astro'

Astro ä½¿ç”¨**åŸºäºæ–‡ä»¶çš„è·¯ç”±**ï¼Œå®ƒæ ¹æ®é¡¹ç›® `src/pages` ç›®å½•ä¸­çš„æ–‡ä»¶ç»“æ„æ¥ç”Ÿæˆä½ çš„æ„å»ºé“¾æ¥ã€‚

## é¡µé¢ä¹‹é—´çš„å¯¼èˆª

Astro ä½¿ç”¨æ ‡å‡† HTML [`<a>` å…ƒç´ ](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a) åœ¨è·¯ç”±ä¹‹é—´å¯¼èˆªã€‚ æ²¡æœ‰æä¾›ç‰¹å®šæ¡†æ¶çš„ `<Link>` ç»„ä»¶ã€‚

```astro title="src/pages/index.astro"
<p>Read more <a href="/about/">about</a> Astro!</p>
```

## é™æ€è·¯ç”±

`src/pages` ç›®å½•ä¸­çš„ [`.astro` é¡µé¢ç»„ä»¶](/zh-cn/core-concepts/astro-pages/)ä»¥åŠ Markdown å’Œ MDX æ–‡ä»¶ï¼ˆ`.md`ï¼Œ`.mdx`ï¼‰å°†**è‡ªåŠ¨ä½œä¸ºç½‘ç«™é¡µé¢**ã€‚æ¯ä¸ªé¡µé¢çš„è·¯ç”±å¯¹åº”äºå®ƒåœ¨ `src/pages/` ç›®å½•ä¸­çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚

```diff
# ç¤ºä¾‹ï¼šé™æ€è·¯ç”±
src/pages/index.astro        -> mysite.com/
src/pages/about.astro        -> mysite.com/about
src/pages/about/index.astro  -> mysite.com/about
src/pages/about/me.astro     -> mysite.com/about/me
src/pages/posts/1.md         -> mysite.com/posts/1
```

:::tip
Astro é¡¹ç›®æ²¡æœ‰å•ç‹¬çš„è·¯ç”±é…ç½®ï¼å½“ä½ åœ¨ `/src/pages` ç›®å½•æ–°å¢æ–‡ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„è·¯ç”±ã€‚åœ¨é™æ€ç”Ÿæˆä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ [`build.format`](/zh-cn/reference/configuration-reference/#buildformat) é…ç½®é¡¹è‡ªå®šä¹‰æ–‡ä»¶è¾“å‡ºæ ¼å¼ã€‚
:::

## åŠ¨æ€è·¯ç”±

Astro é¡µé¢æ–‡ä»¶å¯ä»¥åœ¨å…¶æ–‡ä»¶åä¸­æŒ‡å®šåŠ¨æ€è·¯ç”±å‚æ•°ä»¥ç”Ÿæˆå¤šä¸ªåŒ¹é…é¡µé¢ã€‚

ä¾‹å¦‚ï¼Œ`src/pages/authors/[author].astro` å¯ä»¥ä¸ºä½ åšå®¢ä¸Šçš„æ¯ä¸€ä½ä½œè€…ç”Ÿæˆä¸€ä¸ªç®€ä»‹é¡µé¢ï¼Œè€Œ `author` å°†ä½œä¸ºä¸€ä¸ªä½ å¯ä»¥ä»é¡µé¢å†…éƒ¨è®¿é—®çš„ _å‚æ•°_ ã€‚

åœ¨ Astro é»˜è®¤çš„é™æ€è¾“å‡ºæ¨¡å¼ä¸­ï¼Œè¿™äº›é¡µé¢æ˜¯åœ¨æ„å»ºæ—¶ç”Ÿæˆçš„ï¼Œå› æ­¤ä½ å¿…é¡»é¢„è®¾å¯¹åº”æ–‡ä»¶çš„ `author` åˆ—è¡¨ã€‚è€Œåœ¨ SSR æ¨¡å¼ä¸‹ï¼Œå°†æ ¹æ®è¯·æ±‚ä¸ºä»»ä½•åŒ¹é…çš„è·¯ç”±ç”Ÿæˆä¸€ä¸ªé¡µé¢ã€‚

### é™æ€ ï¼ˆSSGï¼‰ æ¨¡å¼

å› ä¸ºå¿…é¡»åœ¨æ„å»ºæ—¶ç¡®å®šæ‰€æœ‰è·¯ç”±ï¼Œæ‰€ä»¥åŠ¨æ€è·¯ç”±å¿…é¡»å¯¼å‡ºä¸€ä¸ª `getStaticPaths()` ï¼Œå®ƒè¿”å›ä¸€ä¸ªå…·æœ‰ `params` å±æ€§çš„å¯¹è±¡æ•°ç»„ã€‚æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šç”Ÿæˆç›¸åº”çš„è·¯ç”±ã€‚

`[dog].astro` åœ¨å…¶æ–‡ä»¶åä¸­å®šä¹‰ä¸€ä¸ª `dog` å‚æ•°ï¼Œåˆ™ `getStaticPaths()` è¿”å›çš„è¿™äº›å¯¹è±¡çš„ `params` ä¸­å¿…é¡»åŒ…å« `dog` ã€‚ 
ç„¶åé¡µé¢å¯ä»¥ä½¿ç”¨ `Astro.params` è®¿é—®è¯¥å‚æ•°ã€‚

```astro title="src/pages/dogs/[dog].astro"
---
export function getStaticPaths() {
  return [
    {params: {dog: 'clifford'}},
    {params: {dog: 'rover'}},
    {params: {dog: 'spot'}},
  ];
}

const { dog } = Astro.params;
---
<div>Good dog, {dog}!</div>
```

è¿™å°†ç”Ÿæˆä¸‰ä¸ªé¡µé¢ï¼š `/dogs/clifford`ã€`/dogs/rover` å’Œ `/dogs/spot` ï¼Œæ¯ä¸ªé¡µé¢æ˜¾ç¤ºç›¸åº”çš„ç‹—åã€‚

æ–‡ä»¶åå¯ä»¥åŒ…å«å¤šä¸ªå‚æ•°ï¼Œè¿™äº›å‚æ•°å¿…é¡»éƒ½åŒ…å«åœ¨ `getStaticPaths()` çš„ `params` å¯¹è±¡ä¸­ï¼š


```astro title="src/pages/[lang]-[version]/info.astro"
---
export function getStaticPaths () {
 return [
    {params: {lang: 'en', version: 'v1'}},
    {params: {lang: 'fr', version: 'v2'}},
  ];
}

const { lang, version } = Astro.params;
---
...
```

è¿™å°†ç”Ÿæˆ `/en-v1/info` å’Œ `/fr-v2/info` è·¯ç”±ã€‚

å‚æ•°ä¹Ÿå¯ä»¥åŒ…å«åœ¨è·¯å¾„çš„å•ç‹¬éƒ¨åˆ†ä¸­ã€‚ä¾‹å¦‚ï¼Œ `src/pages/[lang]/[version]/info.astro` æ–‡ä»¶ä¸ä¸Šé¢ç›¸åŒçš„ `getStaticPaths()` å°†ç”Ÿæˆè·¯ç”± `/en/v1/info` å’Œ `/fr/v2/info`ã€‚

ğŸ“š äº†è§£æ›´å¤šå…³äº [`getStaticPaths()`](/zh-cn/reference/api-reference/#getstaticpaths) ã€‚

<RecipeLinks slugs={["zh-cn/recipes/i18n"]} />

#### å‰©ä½™å‚æ•°

å¦‚æœä½ çš„URLè·¯ç”±éœ€è¦æ›´åŠ çµæ´»ï¼Œä½ å¯ä»¥åœ¨ `.astro` æ–‡ä»¶åä¸­ä½¿ç”¨ä¸€ä¸ª [å‰©ä½™å‚æ•°](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters)ï¼ˆ`[...path]`ï¼‰ï¼Œå»åŒ¹é…ä»»ä½•æ·±åº¦çš„æ–‡ä»¶è·¯å¾„ã€‚

```astro title="src/pages/sequences/[...path].astro"
---
export function getStaticPaths() {
  return [
    {params: {path: 'one/two/three'}},
    {params: {path: 'four'}},
    {params: {path: undefined }}
  ]
}

const { path } = Astro.params;
---
...
```

è¿™å°†ç”Ÿæˆ `/sequences/one/two/three` ã€ `/sequences/four` å’Œ `/sequences` ã€‚ï¼ˆå°†å‰©ä½™å‚æ•°è®¾ç½®ä¸º `undefined` å…è®¸å®ƒåŒ¹é…é¡¶çº§é¡µé¢ã€‚ï¼‰

å‰©ä½™å‚æ•°å¯ä»¥ä¸ **å…¶ä»–å‘½åå‚æ•°** ä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ GitHub çš„æ–‡ä»¶æŸ¥çœ‹å™¨å¯ä»¥ç”¨ä»¥ä¸‹åŠ¨æ€è·¯ç”±è¡¨ç¤ºï¼š

```
/[org]/[repo]/tree/[branch]/[...file]
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå¯¹ `/withastro/astro/tree/main/docs/public/favicon.svg` çš„è¯·æ±‚å°†æ‹†åˆ†ä¸ºä»¥ä¸‹å‘½åå‚æ•°ï¼š

```js
{
	org: 'withastro',
	repo: 'astro',
	branch: 'main',
	file: 'docs/public/favicon.svg'
}
```

#### ç¤ºä¾‹ï¼šå¤šçº§åŠ¨æ€é¡µé¢

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ å‰©ä½™å‚æ•°ï¼ˆ`[...slug]`ï¼‰å’Œ `getStaticPaths()` çš„ [`props`](/zh-cn/reference/api-reference/#é€šè¿‡-props-ä¼ é€’æ•°æ®) ä¸ºä¸åŒæ·±åº¦çš„ slug ç”Ÿæˆé¡µé¢ã€‚

```astro title="src/pages/[...slug].astro"
---
export async function getStaticPaths() {
  const pages = [
    {
      slug: undefined,
      title: "Astro Store",
      text: "Welcome to the Astro store!",
    },
    {
      slug: "products",
      title: "Astro products",
      text: "We have lots of products for you",
    },
    {
      slug: "products/astro-handbook",
      title: "The ultimate Astro handbook",
      text: "If you want to learn Astro, you must read this book.",
    },
  ];
  return pages.map(({ slug, title, text }) => {
    return {
      params: { slug },
      props: { title, text },
    };
  });
}

const { title, text } = Astro.props;
---
<html>
  <head>
    <title>{title}</title>
  </head>
  <body>
    <h1>{title}</h1>
    <p>{text}</p>
  </body>
</html>
```
### æœåŠ¡å™¨ï¼ˆSSRï¼‰æ¨¡å¼

åœ¨ [SSR](/zh-cn/guides/server-side-rendering/) æ¨¡å¼ä¸‹ï¼ŒåŠ¨æ€è·¯ç”±ä»¥ç›¸åŒçš„æ–¹å¼å®šä¹‰ï¼šåœ¨æ–‡ä»¶åä¸­åŒ…å« `[param]` æˆ– `[...path]` ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²æˆ–è·¯å¾„ã€‚ä½†æ˜¯ç”±äºä¸å†æå‰æ„å»ºè·¯ç”±ï¼Œé¡µé¢å°†æä¾›ç»™ä»»ä½•åŒ¹é…çš„è·¯ç”±ã€‚ç”±äºè¿™äº›è·¯ç”±ä¸æ˜¯â€œé™æ€â€çš„ï¼Œå› æ­¤ä¸åº”ä½¿ç”¨ `getStaticPaths`ã€‚

```astro title="src/pages/resources/[resource]/[id].astro"
---
const { resource, id } = Astro.params;
---
<h1>{resource}: {id}</h1>
```

è¯¥é¡µé¢å°†ä¸ºä»»æ„çš„ `resource` å’Œ `id` æä¾›æœåŠ¡ï¼š `resources/users/1`ã€ `resources/colors/blue` ç­‰ã€‚

#### ä¿®æ”¹ `[...slug]` ç¤ºä¾‹ç”¨äºSSR

ç”±äº SSR é¡µé¢æ— æ³•ä½¿ç”¨ `getStaticPaths()`ï¼Œå› æ­¤æ— æ³•æ¥æ”¶ propsã€‚å¯ä»¥é€šè¿‡åœ¨å¯¹è±¡ä¸­æŸ¥æ‰¾ `slug` å‚æ•°çš„å€¼ï¼Œå°† [å‰é¢çš„ç¤ºä¾‹](#ç¤ºä¾‹å¤šçº§åŠ¨æ€é¡µé¢) è°ƒæ•´ä¸º SSR æ¨¡å¼ã€‚å¦‚æœè·¯ç”±ä½äºæ ¹ç›®å½•ï¼ˆâ€œ/â€ï¼‰ï¼Œåˆ™ slug å‚æ•°ä¸º `undefined`ã€‚å¦‚æœå¯¹è±¡ä¸­ä¸å­˜åœ¨è¯¥å€¼ï¼Œå°†é‡å®šå‘åˆ° 404 é¡µé¢ã€‚

```astro title="src/pages/[...slug].astro"
---
const pages = [
	{
		slug: undefined,
		title: 'Astro Store',
		text: 'Welcome to the Astro store!',
	},
	{
		slug: 'products',
		title: 'Astro products',
		text: 'We have lots of products for you',
	},
	{
		slug: 'products/astro-handbook',
		title: 'The ultimate Astro handbook',
		text: 'If you want to learn Astro, you must read this book.',
	}
];

const { slug } = Astro.params;
const page = pages.find((page) => page.slug === slug);
if (!page) return Astro.redirect("/404");
const { title, text } = page;
---
<html>
<head>
  <title>{title}</title>
</head>
<body>
  <h1>{title}</h1>
  <p>{text}</p>
</body>
</html>
```

## é‡å®šå‘

æœ‰æ—¶ä½ éœ€è¦ä¸ºä½ çš„è¯»è€…é‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œå¯èƒ½ç”±äºä½ çš„ç½‘ç«™ç»“æ„å‘ç”Ÿäº†æ°¸ä¹…æ€§çš„å˜åŠ¨ï¼Œåˆæˆ–è€…æ˜¯ä½œä¸ºå“åº”åŠ¨ä½œï¼ˆæ¯”å¦‚ä»ç™»å½•åˆ°èº«ä»½éªŒè¯çš„è¿‡ç¨‹ï¼‰ã€‚

ä½ å¯ä»¥åœ¨ä½ çš„ Astro é…ç½®ä¸­å®šä¹‰è§„åˆ™æ¥å°†ç”¨æˆ· [æ°¸ä¹…é‡å®šå‘åˆ°å·²ç§»åŠ¨çš„é¡µé¢](#é…ç½®é‡å®šå‘)ã€‚æˆ–è€…ï¼Œæ ¹æ®ç”¨æˆ·çš„ä½¿ç”¨æƒ…å†µï¼Œ[åŠ¨æ€åœ°å°†ç”¨æˆ·é‡å®šå‘](#åŠ¨æ€é‡å®šå‘)ã€‚

### é…ç½®é‡å®šå‘

<Since v="2.9.0" />

åœ¨ä½ çš„ Astro é…ç½®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ `redirects` å€¼æ¥æŒ‡å®šæ°¸ä¹…é‡å®šå‘çš„æ˜ å°„å…³ç³»ã€‚å¯¹äºå¤§å¤šæ•°é‡å®šå‘è€Œè¨€ï¼Œé€šå¸¸æ˜¯å°†æ—§è·¯ç”±æ˜ å°„åˆ°æ–°è·¯ç”±ï¼š

```js title="astro.config.mjs" {4-6}
import { defineConfig } from 'astro/config';

export default defineConfig({
  redirects: {
    '/old-page': '/new-page'
  }
});
```

è¿™äº›é‡å®šå‘éµå¾ªä¸åŸºäºæ–‡ä»¶è·¯ç”±ç›¸åŒçš„è§„åˆ™ã€‚åªè¦æ–°æ—§è·¯ç”±éƒ½åŒ…å«ç›¸åŒçš„å‚æ•°ï¼Œå°±å¯ä»¥ä½¿ç”¨åŠ¨æ€è·¯ç”±ï¼Œä¾‹å¦‚ï¼š

```js
{
  "/blog/[...slug]": "/articles/[...slug]"
}
```

ä½¿ç”¨ SSRï¼ˆæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼‰æˆ–è€…é™æ€é€‚é…å™¨ï¼Œä½ è¿˜å¯ä»¥å°†å¯¹è±¡ä½œä¸ºå€¼æä¾›ï¼Œé™¤äº†æ–°çš„ `destination` ç«¯ç‚¹æŒ‡å‘ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®š `status` çŠ¶æ€ç ï¼š

```js title="astro.config.mjs" {5-8}
import { defineConfig } from 'astro/config';

export default defineConfig({
  redirects: {
    '/old-page': {
      status: 302,
      destination: '/new-page'
    }
  }
});
```

åœ¨è¿è¡Œ `astro build` æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒAstro å°†è¾“å‡ºå¸¦æœ‰ [meta refresh](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta#examples) æ ‡ç­¾çš„ HTML æ–‡ä»¶ã€‚æ”¯æŒçš„é€‚é…å™¨å°†ä¼šä½¿ç”¨æ‰˜ç®¡æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶å†™å…¥é‡å®šå‘ä¿¡æ¯ã€‚

çŠ¶æ€ç é»˜è®¤ä¸º `301`ã€‚å¦‚æœæ„å»ºä¸º HTML æ–‡ä»¶ï¼Œåˆ™æœåŠ¡å™¨ä¸ä¼šä½¿ç”¨çŠ¶æ€ç ã€‚

### åŠ¨æ€é‡å®šå‘

åœ¨å…¨å±€çš„ `Astro` å¯¹è±¡ä¸Šï¼Œ`Astro.redirect` æ–¹æ³•å…è®¸ä½ åŠ¨æ€åœ°é‡å®šå‘åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼ˆé€šè¿‡ä» Cookie ä¸­è·å–å…¶ä¼šè¯ï¼‰ä¹‹åæ‰§è¡Œæ­¤æ“ä½œã€‚

```astro title="src/pages/account.astro" {8}
---
import { isLoggedIn } from '../utils';

const cookie = Astro.request.headers.get('cookie');

// å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œå°†å…¶é‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚
if (!isLoggedIn(cookie)) {
  return Astro.redirect('/login');
}
---
<html>
  <!-- Page here... -->
</html>
```

## è·¯ç”±ä¼˜å…ˆçº§é¡ºåº

å¤šä¸ªè·¯ç”±å¯ä»¥åŒ¹é…ç›¸åŒçš„ URL è·¯å¾„ã€‚ä¾‹å¦‚ä¸‹é¢çš„æ¯ä¸ªè·¯ç”±éƒ½ä¼šåŒ¹é… `/posts/create`ã€‚

<FileTree>
- src/pages/
  - posts/
    - create.astro
    - [pid].astro
    - [...slug].astro
</FileTree>

Astro éœ€è¦çŸ¥é“å“ªä¸ªè·¯ç”±åº”è¯¥è¢«ç”¨æ¥å»ºç«‹é¡µé¢ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒæ ¹æ®ä»¥ä¸‹è§„åˆ™å¯¹å®ƒä»¬è¿›è¡Œæ’åºã€‚

- æ²¡æœ‰è·¯å¾„å‚æ•°çš„é™æ€è·¯ç”±å°†ä¼˜å…ˆäºæ‰€æœ‰å…¶ä»–è·¯ç”±
- ä½¿ç”¨å‘½åå‚æ•°çš„åŠ¨æ€è·¯ç”±ä¼˜å…ˆäºä½¿ç”¨å‰©ä½™å‚æ•°çš„åŠ¨æ€è·¯ç”±
- å‰©ä½™å‚æ•°çš„ä¼˜å…ˆçº§æœ€ä½
- ä»¥ä¸Šè§„åˆ™ä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™æŒ‰å­—æ¯é¡ºåºæ’åº

é‰´äºä¸Šé¢çš„ç¤ºä¾‹ï¼Œä¸‹é¢ç”¨å‡ ä¸ªä¾‹å­ï¼Œè¯´æ˜è¿™äº›è§„åˆ™å¦‚ä½•åŒ¹é…è¯·æ±‚çš„URLä¸ç”¨äºå»ºç«‹HTMLçš„è·¯ç”±ã€‚

- `pages/posts/create.astro` - å°†æ„å»º `/posts/create`
- `pages/posts/[pid].astro` - å°†æ„å»º `/posts/1`ã€`/posts/abc` ç­‰ï¼Œä½†ä¸åŒ…æ‹¬ `/posts/create`
- `pages/posts/[...slug].astro` - å°†æ„å»º `/posts/1/2`ã€`/posts/a/b/c` ç­‰ï¼Œä½†ä¸åŒ…æ‹¬ `/posts/create`ã€`/posts/1`ã€`/posts/abc`

## åˆ†é¡µ

Astro æ”¯æŒå†…ç½®åˆ†é¡µï¼Œç”¨äºéœ€è¦åˆ†å‰²æˆå¤šä¸ªé¡µé¢çš„å¤§é‡æ•°æ®ã€‚Astro ä¼šç”Ÿæˆå¸¸è§çš„åˆ†é¡µå±æ€§ï¼ŒåŒ…æ‹¬ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µé“¾æ¥ã€æ€»é¡µæ•°ç­‰ã€‚

åˆ†é¡µçš„è·¯ç”±ååº”è¯¥ä½¿ç”¨ä¸æ ‡å‡†åŠ¨æ€è·¯ç”±ä¸€æ ·çš„ `[bracket]` è¯­æ³•ã€‚ä¾‹å¦‚ï¼Œæ–‡ä»¶å `/astronauts/[page].astro` å°†ç”Ÿæˆ `/astronauts/1`ã€`/astronauts/2` ç­‰è·¯ç”±ï¼Œå…¶ä¸­ `[page]` æ˜¯ç”Ÿæˆçš„é¡µç ã€‚

ä½ å¯ä»¥ç”¨ `paginate()` å‡½æ•°æ ¹æ®æ•°ç»„å€¼ç”Ÿæˆè¿™äº›é¡µé¢ï¼š

```astro /{ (paginate) }/ /paginate\\(.*\\)/ /(?<=const.*)(page)/ /page\\.[a-zA-Z]+/
---
// ç¤ºä¾‹ï¼š/src/pages/astronauts/[page].astro
export async function getStaticPaths({ paginate }) {
  const astronautPages = [{
    astronaut: 'Neil Armstrong',
  }, {
    astronaut: 'Buzz Aldrin',
  }, {
    astronaut: 'Sally Ride',
  }, {
    astronaut: 'John Glenn',
  }];
  // æ ¹æ®å®‡èˆªå‘˜æ•°ç»„ç”Ÿæˆé¡µé¢ï¼Œæ¯é¡µ2é¡¹
  return paginate(astronautPages, { pageSize: 2 });
}
// æ‰€æœ‰åˆ†é¡µæ•°æ®éƒ½åœ¨ "page" å‚æ•°ä¸­ä¼ é€’
const { page } = Astro.props;
---

<!-- æ˜¾ç¤ºå½“å‰é¡µé¢ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ Astro.params.pageï¼-->
<h1>Page {page.currentPage}</h1>
<ul>
  <!-- åˆ—å‡ºå®‡èˆªå‘˜ä¿¡æ¯æ•°ç»„ -->
  {page.data.map(({ astronaut }) => <li>{astronaut}</li>)}
</ul>
```

å°†ç”Ÿæˆä»¥ä¸‹ä¸¤ä¸ªé¡µé¢ï¼Œæ¯é¡µ 2 é¡¹ï¼š

- `/astronauts/1` - ç¬¬ä¸€é¡µæ˜¾ç¤ºâ€œNeil Armstrongâ€å’Œâ€œBuzz Aldrinâ€
- `/astronauts/2` - ç¬¬äºŒé¡µæ˜¾ç¤ºâ€œSally Rideâ€å’Œâ€œJohn Glennâ€

### `page` å±æ€§

å½“ä½ ä½¿ç”¨ `paginate()` å‡½æ•°æ—¶ï¼Œæ¯ä¸ªé¡µé¢å°†é€šè¿‡ `page` ä¼ é€’æ•°æ®ã€‚`page` æœ‰å¾ˆå¤šæœ‰ç”¨çš„å±æ€§ï¼Œä¸‹é¢åˆ—å‡ºæœ€ä¸ºé‡è¦çš„ï¼š

- **page.data** - æ•°ç»„ï¼ŒåŒ…å«ä½ ä¼ é€’ç»™ `paginate()` å‡½æ•°çš„é¡µé¢æ•°æ®ç‰‡æ®µ
- **page.url.next** - ä¸‹ä¸€ä¸ªé¡µé¢çš„é“¾æ¥
- **page.url.prev** - ä¸Šä¸€ä¸ªé¡µé¢çš„é“¾æ¥

```astro /(?<=const.*)(page)/ /page\\.[a-zA-Z]+(?:\\.(?:prev|next))?/
---
// ç¤ºä¾‹ï¼š/src/pages/astronauts/[page].astro
// å°†ä¸ä¸Šä¸€ä¸ªç¤ºä¾‹ç›¸åŒçš„ { astronaut } å¯¹è±¡è¿›è¡Œåˆ†é¡µ
export async function getStaticPaths({ paginate }) { /* ... */ }
const { page } = Astro.props;
---
<h1>Page {page.currentPage}</h1>
<ul>
  {page.data.map(({ astronaut }) => <li>{astronaut}</li>)}
</ul>
{page.url.prev ? <a href={page.url.prev}>Previous</a> : null}
{page.url.next ? <a href={page.url.next}>Next</a> : null}
```

#### å®Œæ•´çš„ API å‚è€ƒ

```ts
interface Page<T = any> {
	/** ç»“æœ */
	data: T[];
	/** å…ƒæ•°æ® */
	/** é¡µé¢ç¬¬ä¸€é¡¹çš„è®¡æ•°ï¼Œä» 0 å¼€å§‹ã€‚ */
	start: number;
	/** é¡µé¢æœ€åä¸€é¡¹çš„è®¡æ•°ï¼Œä» 0 å¼€å§‹ */
	end: number;
	/** ç»“æœæ€»è®¡æ•° */
	total: number;
	/** å½“å‰é¡µç , ä» 1 å¼€å§‹ */
	currentPage: number;
	/** æ¯ä¸ªé¡µé¢çš„é¡¹æ•°ï¼ˆé»˜è®¤ä¸º 25) */
	size: number;
	/** æœ€åä¸€é¡µçš„åºå· */
	lastPage: number;
	url: {
		/** å½“å‰é¡µé¢é“¾æ¥ */
		current: string;
		/** å‰ä¸€é¡µçš„é“¾æ¥ï¼ˆå¦‚æœæœ‰ï¼‰ */
		prev: string | undefined;
		/** ä¸‹ä¸€é¡µçš„é“¾æ¥ï¼ˆå¦‚æœæœ‰ï¼‰ */
		next: string | undefined;
	};
}
```

### åµŒå¥—åˆ†é¡µ

åˆ†é¡µçš„ä¸€ä¸ªæ›´é«˜çº§çš„ç”¨ä¾‹æ˜¯**åµŒå¥—åˆ†é¡µ**ã€‚å½“åˆ†é¡µä¸å…¶ä»–åŠ¨æ€è·¯ç”±å‚æ•°ç›¸ç»“åˆæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨åµŒå¥—å¼åˆ†é¡µå’Œä¸€äº›å±æ€§æˆ–æ ‡ç­¾æ¥å°†åˆ†é¡µè¿›è¡Œåˆ†ç±»ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ä¸€äº›æ ‡ç­¾æ¥åˆ†ç»„ä½ çš„åˆ†é¡µçš„ Markdown å¸–å­ï¼Œä½ å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ª `/src/pages/[tag]/[page].astro` çš„é¡µé¢æ¥ä½¿ç”¨åµŒå¥—åˆ†é¡µï¼Œè¯¥é¡µé¢å°†åŒ¹é…ä»¥ä¸‹é“¾æ¥ã€‚

- `/red/1` (tag=red)
- `/red/2` (tag=red)
- `/blue/1` (tag=blue)
- `/green/1` (tag=green)

åµŒå¥—åˆ†é¡µçš„å·¥ä½œåŸç†æ˜¯ä½¿ç”¨ `getStaticPaths()` è¿”å›æ¯ä¸ªåˆ†ç»„çš„ `paginate()` ç»“æœæ•°ç»„ã€‚

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†å®ç°åµŒå¥—åˆ†é¡µæ¥å»ºç«‹ä¸Šé¢åˆ—å‡ºçš„URLã€‚

```astro /(?:[(]|=== )(tag)/ "params: { tag }" /const [{ ]*(page|params)/
---
// ç¤ºä¾‹ï¼š/src/pages/[tag]/[page].astro
export async function getStaticPaths({paginate}) {
  const allTags = ['red', 'blue', 'green'];
  const allPosts = await Astro.glob('../../posts/*.md');
  // æ¯ä¸ªæ ‡ç­¾éƒ½ä¼šè¿”å› paginate() ç»“æœã€‚
  // ç¡®ä¿å°† `{params: {tag}}` ä¼ é€’ç»™ `paginate()`
  // è¿™æ · Astro æ‰çŸ¥é“æ€ä¹ˆæŠŠè¿™äº›ç»“æœè¿›è¡Œåˆ†ç»„
  return allTags.map((tag) => {
    const filteredPosts = allPosts.filter((post) => post.frontmatter.tag === tag);
    return paginate(filteredPosts, {
      params: { tag },
      pageSize: 10
    });
  });
}
const { page } = Astro.props;
const params = Astro.params;
```

## æ’é™¤é¡µé¢

ä½ å¯ä»¥é€šè¿‡åœ¨æ–‡ä»¶åå‰åŠ ä¸Šä¸‹åˆ’çº¿ï¼ˆ`_`ï¼‰æ¥æ’é™¤é¡µé¢æˆ–ç›®å½•çš„æ„å»ºã€‚å¸¦æœ‰ `_` å‰ç¼€çš„æ–‡ä»¶ä¸ä¼šè¢«è·¯ç”±è¯†åˆ«ï¼Œä¹Ÿä¸ä¼šè¢«æ”¾å…¥ `dist/` ç›®å½•ã€‚

ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æš‚æ—¶ç¦ç”¨é¡µé¢ï¼Œå¹¶å°†æµ‹è¯•ã€å·¥å…·å‡½æ•°å’Œç»„ä»¶æ”¾åœ¨ä¸å…¶ç›¸å…³é¡µé¢åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªæœ‰ `src/pages/index.astro` å’Œ `src/pages/posts/post1.md` å°†è¢«æ„å»ºä¸ºé¡µé¢è·¯ç”±å’Œ HTML æ–‡ä»¶ã€‚

<FileTree>
- src/pages/
  - _hidden-directory/
    - page1.md
    - page2.md
  - _hidden-page.astro
  - **index.astro**
  - posts/
    - _SomeComponent.astro
    - _utils.js
    - **post1.md**
</FileTree>
