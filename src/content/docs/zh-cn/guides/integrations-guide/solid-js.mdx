---
type: integration
title: '@astrojs/solid-js'
description: äº†è§£å¦‚ä½•ä½¿ç”¨ @astrojs/solid-js æ¡†æ¶æ¥æ‹“å±• Astro é¡¹ç›®ä¸­çš„ç»„ä»¶æ”¯æŒã€‚
sidebar:
  label: SolidJS
githubIntegrationURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/solid/'
category: renderer
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import Since from '~/components/Since.astro';

æ­¤ **[Astro é›†æˆ][astro-integration]** ä¸ºä½ çš„ [SolidJS](https://www.solidjs.com/) ç»„ä»¶å¯ç”¨æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ°´åˆã€‚

## å®‰è£…

Astro åŒ…å«äº†ä¸€ä¸ª `astro add` å‘½ä»¤ï¼Œç”¨äºè‡ªåŠ¨è®¾ç½®å®˜æ–¹é›†æˆã€‚å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥æ”¹ä¸º[æ‰‹åŠ¨å®‰è£…é›†æˆ](#æ‰‹åŠ¨å®‰è£…)ã€‚

è¦å®‰è£… `@astrojs/solid-js`ï¼Œéœ€è¦åœ¨ä½ çš„é¡¹ç›®å·¥ç¨‹ä¸­ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npx astro add solid
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm astro add solid
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn astro add solid
  ```
  </Fragment>
</PackageManagerTabs>

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œ[æ¬¢è¿éšæ—¶åœ¨ GitHub ä¸Šå¼€ä¸ª issue æ¥å‘æˆ‘ä»¬æŠ¥å‘Š](https://github.com/withastro/astro/issues) ç„¶åå°è¯•æ‰§è¡Œä»¥ä¸‹çš„æ‰‹åŠ¨å®‰è£…æ­¥éª¤ã€‚

### æ‰‹åŠ¨å®‰è£…

é¦–å…ˆï¼Œå®‰è£… `@astrojs/solid-js` åŒ…:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install @astrojs/solid-js
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add @astrojs/solid-js
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add @astrojs/solid-js
  ```
  </Fragment>
</PackageManagerTabs>

å¤§å¤šæ•°åŒ…ç®¡ç†å™¨ä¹Ÿä¼šå®‰è£…ç›¸å…³çš„å¯¹ç­‰ä¾èµ–é¡¹ã€‚å¦‚æœåœ¨å¯åŠ¨ Astro æ—¶çœ‹åˆ° `Cannot find package 'solid-js'` (æˆ–ç±»ä¼¼çš„)è­¦å‘Šï¼Œåˆ™éœ€è¦å®‰è£… SolidJSï¼š

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install solid-js
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add solid-js
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add solid-js
  ```
  </Fragment>
</PackageManagerTabs>

ç„¶åï¼Œä½¿ç”¨ `integrations` å±æ€§å°†é›†æˆåº”ç”¨åˆ°ä½ çš„ `astro.config.*` æ–‡ä»¶ä¸­ï¼š

```js title="astro.config.mjs" ins={2} ins="solidJs()"
import { defineConfig } from 'astro/config';
import solidJs from '@astrojs/solid-js';
export default defineConfig({
  // ...
  integrations: [solidJs()],
});
```

ç„¶åæ·»åŠ ä¸‹é¢çš„ä»£ç åˆ° `tsconfig.json` æ–‡ä»¶ä¸­ã€‚


```json title="tsconfig.json" ins={5-8}
{
  "extends": "astro/tsconfigs/strict",
  "include": [".astro/types.d.ts", "**/*"],
  "exclude": ["dist"],
  "compilerOptions": {
    "jsx": "preserve",
    "jsxImportSource": "solid-js"
  }
}
```

## å…¥é—¨

è¦åœ¨ Astro ä½¿ç”¨ä½ çš„ SolidJS ç»„ä»¶ï¼Œä½ å¯ä»¥ç§»æ­¥æˆ‘ä»¬çš„ [UI æ¡†æ¶æ–‡æ¡£][astro-ui-frameworks]. ä½ å°†ä¼šäº†è§£åˆ°ï¼š

* ğŸ“¦ å¦‚ä½•åŠ è½½æ¡†æ¶ç»„ä»¶
* ğŸ’§ å®¢æˆ·ç«¯æ°´åˆé€‰é¡¹
* ğŸ¤ å°†æ¡†æ¶æ··åˆå’ŒåµŒå¥—åœ¨ä¸€èµ·çš„æ—¶æœº

## é…ç½®

### å¼€å‘è€…å·¥å…·

<p><Since pkg="@astrojs/solid-js" v="4.2.0" /></p>

åœ¨å¼€å‘ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡å‘ä½ çš„ `solid()` é›†æˆé…ç½®ä¼ é€’ä¸€ä¸ªåŒ…å« `devtools: true` çš„å¯¹è±¡ï¼Œå¹¶å°† `solid-devtools` æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¾èµ–ä¸­ï¼Œæ¥å¯ç”¨ [Solid å¼€å‘è€…å·¥å…·](https://github.com/thetarnav/solid-devtools)ï¼š

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install solid-devtools
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add solid-devtools
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add solid-devtools
  ```
  </Fragment>
</PackageManagerTabs>

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // ...
  integrations: [solid({ devtools: true })],
});
```

## é€‰é¡¹

### ç»„åˆå¤šä¸ª JSX æ¡†æ¶

å½“ä½ åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å¤šä¸ª JSX æ¡†æ¶ï¼ˆReactã€Preactã€Solidï¼‰æ—¶ï¼ŒAstro éœ€è¦ç¡®å®šæ¯ä¸ªç»„ä»¶åº”è¯¥ä½¿ç”¨å“ªä¸ª JSX æ¡†æ¶çš„è½¬æ¢å™¨ï¼ˆtransformationï¼‰ã€‚å¦‚æœä½ åªå‘ä½ çš„é¡¹ç›®ä¸­æ·»åŠ äº†ä¸€ä¸ª JSX æ¡†æ¶é›†æˆï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚

ä½¿ç”¨ `include`ï¼ˆå¿…å¡«ï¼‰å’Œ `exclude`ï¼ˆå¯é€‰ï¼‰é…ç½®é€‰é¡¹æ¥æŒ‡å®šå“ªäº›æ–‡ä»¶å±äºå“ªä¸ªæ¡†æ¶ã€‚ä¸ºä½ ä½¿ç”¨çš„æ¯ä¸ªæ¡†æ¶æä¾›ä¸€ä¸ªæ–‡ä»¶æˆ–/å’Œæ–‡ä»¶å¤¹æ•°ç»„ã€‚é€šé…ç¬¦å¯ç”¨äºåŒ…å«å¤šä¸ªæ–‡ä»¶è·¯å¾„ã€‚

æˆ‘ä»¬å»ºè®®å°†æ¯ä¸ªæ¡†æ¶çš„ç»„ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ˆä¾‹å¦‚ `/components/react/` å’Œ `/components/solid/`ï¼‰ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°æŒ‡å®šä½ çš„åŒ…å«å†…å®¹ï¼Œä½†è¿™ä¸æ˜¯å¿…éœ€çš„ï¼š

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';
import react from '@astrojs/react';
import svelte from '@astrojs/svelte';
import vue from '@astrojs/vue';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // å¯ç”¨å¤šä¸ªæ¡†æ¶æ¥æ”¯æŒæ‰€æœ‰ä¸åŒç±»å‹çš„ç»„ä»¶ã€‚
  // å¦‚æœä½ åªä½¿ç”¨ä¸€ä¸ª JSX æ¡†æ¶ï¼Œåˆ™ä¸éœ€è¦ `include`ï¼
  integrations: [
    preact({
      include: ['**/preact/*'],
    }),
    react({
      include: ['**/react/*'],
    }),
    solid({
      include: ['**/solid/*', '**/node_modules/@suid/material/**'],
    }),
  ],
});
```

## ä½¿ç”¨
åƒä½¿ç”¨ä»»ä½• [UI æ¡†æ¶ç»„ä»¶](/zh-cn/guides/framework-components/) ä¸€æ ·ä½¿ç”¨ SolidJS ç»„ä»¶ã€‚
### Suspense è¾¹ç•Œ
ä¸ºäº†æ”¯æŒ Solid èµ„æºå’Œæ‡’åŠ è½½ç»„ä»¶è€Œæ— éœ€è¿‡å¤šé…ç½®ï¼ŒæœåŠ¡å™¨ç«¯å’Œæ°´åˆç»„ä»¶ä¼šè‡ªåŠ¨åŒ…è£…åœ¨é¡¶çº§ Suspense è¾¹ç•Œå†…ï¼Œå¹¶ä½¿ç”¨ [`renderToStringAsync`][solid-render-to-string-async] å‡½æ•°åœ¨æœåŠ¡å™¨ä¸Šæ¸²æŸ“ã€‚å› æ­¤ï¼Œä½ ä¸éœ€è¦åœ¨å¼‚æ­¥ç»„ä»¶å‘¨å›´æ·»åŠ é¡¶çº§ Suspense è¾¹ç•Œã€‚
ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ Solid çš„ [`createResource`][solid-create-resource] åœ¨æœåŠ¡å™¨ä¸Šè·å–å¼‚æ­¥è¿œç¨‹æ•°æ®ã€‚è¿œç¨‹æ•°æ®å°†åŒ…å«åœ¨ Astro çš„åˆå§‹æœåŠ¡å™¨æ¸²æŸ“çš„ HTML ä¸­ï¼š

```tsx
// CharacterName.tsx
function CharacterName() {
  const [name] = createResource(() =>
    fetch('https://swapi.dev/api/people/1')
      .then((result) => result.json())
      .then((data) => data.name)
  );
  return (
    <>
      <h2>Name:</h2>
      {/* Luke Skywalker */}
      <div>{name()}</div>
    </>
  );
}
```

åŒæ ·ï¼ŒSolid çš„ [æ‡’åŠ è½½ç»„ä»¶][solid-lazy-components] ä¹Ÿä¼šè¢«è§£æï¼Œå®ƒä»¬çš„ HTML ä¼šè¢«åŒ…å«åœ¨åˆå§‹çš„æœåŠ¡å™¨æ¸²æŸ“é¡µé¢ä¸­ã€‚
ä¸è¿›è¡Œæ°´åˆçš„ [`client:only` ç»„ä»¶][astro-client-only] ä¸ä¼šè‡ªåŠ¨è¢«åŒ…è£¹åœ¨ Suspense è¾¹ç•Œå†…ã€‚
ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ·»åŠ é¢å¤–çš„ Suspense è¾¹ç•Œã€‚

[astro-integration]: /zh-cn/guides/integrations-guide/

[astro-ui-frameworks]: /zh-cn/guides/framework-components/#ä½¿ç”¨æ¡†æ¶ç»„ä»¶

[astro-client-only]: /zh-cn/reference/directives-reference/#clientonly

[solid-render-to-string-async]: https://www.solidjs.com/docs/latest/api#rendertostringasync

[solid-create-resource]: https://www.solidjs.com/docs/latest/api#createresource

[solid-lazy-components]: https://www.solidjs.com/docs/latest/api#lazy
