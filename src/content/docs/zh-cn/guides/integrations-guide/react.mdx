---
type: integration
title: '@astrojs/react'
description: äº†è§£å¦‚ä½•ä½¿ç”¨ @astrojs/react æ¡†æ¶é›†æˆæ¥æ‰©å±• Astro é¡¹ç›®ä¸­çš„ç»„ä»¶æ”¯æŒã€‚
githubURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/react/'
hasREADME: true
category: renderer
i18nReady: true
---

**[Astro é›†æˆ][astro-integration]** ä¸ºä½ çš„ [React](https://react.dev/) ç»„ä»¶å®ç°æœåŠ¡å™¨ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ°´åˆã€‚

## å®‰è£…

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸­æ·»åŠ é›†æˆï¼Œè®©æˆ‘ä»¬å…ˆè¯•è¯•æœ€æ–¹ä¾¿çš„æ–¹æ³•ï¼

### `astro add` å‘½ä»¤

Astro åŒ…æ‹¬ä¸€ä¸ª CLI å·¥å…·ç”¨äºæ·»åŠ ç¬¬ä¸€æ–¹çš„é›†æˆï¼š `astro add` ï¼Œè¿™ä¸ªå‘½ä»¤æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

1. ï¼ˆå¯é€‰ï¼‰å®‰è£…æ‰€æœ‰å¿…è¦çš„ä¾èµ–å’ŒåŒè¡Œä¾èµ–
2. ï¼ˆä¹Ÿæ˜¯å¯é€‰ï¼‰æ›´æ–°ä½ çš„`astro.config.*`æ–‡ä»¶ï¼Œä»¥å¯ç”¨è¿™ä¸ªé›†æˆã€‚

è¦å®‰è£… `@astrojs/react`ï¼Œè¯·åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¹¶æ ¹æ®æç¤ºæ“ä½œï¼š

```sh
# ä½¿ç”¨ NPM
npx astro add react
# ä½¿ç”¨ Yarn
yarn astro add react
# ä½¿ç”¨ PNPM
pnpm astro add react
```

å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œ[è¯·éšæ—¶åœ¨ GitHub ä¸Šå‘æˆ‘ä»¬æŠ¥å‘Š](https://github.com/withastro/astro/issues)å¹¶å°è¯•ä¸‹é¢çš„æ‰‹åŠ¨å®‰è£…æ­¥éª¤ã€‚

### æ‰‹åŠ¨å®‰è£…ä¾èµ–

é¦–å…ˆï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… `@astrojs/react` é›†æˆï¼š

```sh
npm install @astrojs/react
```

å¤§å¤šæ•°è½¯ä»¶åŒ…ç®¡ç†å™¨ä¹Ÿä¼šå®‰è£…ç›¸å…³çš„åŒè¡Œä¾èµ–ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœä½ åœ¨å¯åŠ¨ Astro æ—¶çœ‹åˆ°"Cannot find package 'react'"ï¼ˆæˆ–ç±»ä¼¼çš„ï¼‰è­¦å‘Šï¼Œä½ éœ€è¦å®‰è£… `react` å’Œ `react-dom`ï¼š

```sh
npm install react react-dom
```

åœ¨ `astro.config.*` æ–‡ä»¶ä¸­æ·»åŠ  `integrations` å±æ€§æ¥åº”ç”¨é›†æˆï¼š

```diff lang="js" "react()"
  // astro.config.mjs
  import { defineConfig } from 'astro/config';
+ import react from '@astrojs/react';

  export default defineConfig({
    // ...
    integrations: [react()],
    //             ^^^^^^^
  });
```

## å…¥é—¨æŒ‡å—

è¦åœ¨ Astro ä¸­ä½¿ç”¨ä½ çš„ç¬¬ä¸€ä¸ª React ç»„ä»¶ï¼Œè¯·å‰å¾€æˆ‘ä»¬çš„[UI æ¡†æ¶æ–‡æ¡£][astro-ui-frameworks]ã€‚ä½ å°†äº†è§£ï¼š

*   ğŸ“¦ æ¡†æ¶ç»„ä»¶å¦‚ä½•è¢«åŠ è½½ï¼Œ
*   ğŸ’§ å®¢æˆ·ç«¯æ°´åˆé€‰é¡¹ï¼Œä»¥åŠ
*   ğŸ¤ æœ‰æœºä¼šå°†ä¸åŒçš„æ¡†æ¶æ··åˆå’ŒåµŒå¥—

## é€‰é¡¹

### è§£æå­å…ƒç´ 

ä» Astro ç»„ä»¶ä¼ é€’ç»™ React ç»„ä»¶çš„å­å…ƒç´ å°†è¢«è§£æä¸ºæ™®é€šå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ React èŠ‚ç‚¹ã€‚

ä¾‹å¦‚ï¼Œä¸‹é¢çš„ `<ReactComponent />` åªä¼šæ¥æ”¶ä¸€ä¸ªå­å…ƒç´ ï¼š

```astro
---
import ReactComponent from './ReactComponent';
---
<ReactComponent>
  <div>one</div>
  <div>two</div>
</ReactComponent>
```

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ª*æœŸæœ›*èƒ½ä¼ é€’å¤šä¸ªå­å…ƒç´ çš„åº“ï¼Œä¾‹å¦‚å°†æŸäº›å…ƒç´ æ”¾ç½®åœ¨ä¸åŒçš„ä½ç½®ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚

ä½ å¯ä»¥è®¾ç½®å®éªŒæ€§æ ‡å¿— `experimentalReactChildren`ï¼Œå‘Šè¯‰ Astro å°†å­å…ƒç´ å§‹ç»ˆä½œä¸º React vnodes ä¼ é€’ç»™ Reactã€‚è™½ç„¶è¿™æ ·åšä¼šæœ‰ä¸€äº›è¿è¡Œæ—¶æˆæœ¬ï¼Œä½†æœ‰åŠ©äºä¿æŒå…¼å®¹æ€§ã€‚

ä½ å¯ä»¥åœ¨ React é›†æˆçš„é…ç½®ä¸­å¯ç”¨æ­¤é€‰é¡¹ï¼š

```js
// astro.config.mjs
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';

export default defineConfig({
  // ...
  integrations: [
    react({
      experimentalReactChildren: true,
    }),
  ],
});
```

### ç»„åˆå¤šä¸ª JSX æ¡†æ¶

å½“ä½ åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å¤šä¸ª JSX æ¡†æ¶ï¼ˆReactã€Preactã€Solidï¼‰æ—¶ï¼ŒAstro éœ€è¦ç¡®å®šæ¯ä¸ªç»„ä»¶åº”è¯¥ä½¿ç”¨å“ªä¸ª JSX æ¡†æ¶çš„è½¬æ¢å™¨ï¼ˆtransformationï¼‰ã€‚å¦‚æœä½ åªå‘ä½ çš„é¡¹ç›®ä¸­æ·»åŠ äº†ä¸€ä¸ª JSX æ¡†æ¶é›†æˆï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚

ä½¿ç”¨ `include`ï¼ˆå¿…å¡«ï¼‰å’Œ `exclude`ï¼ˆå¯é€‰ï¼‰é…ç½®é€‰é¡¹æ¥æŒ‡å®šå“ªäº›æ–‡ä»¶å±äºå“ªä¸ªæ¡†æ¶ã€‚ä¸ºä½ ä½¿ç”¨çš„æ¯ä¸ªæ¡†æ¶æä¾›ä¸€ä¸ªæ–‡ä»¶æˆ–/å’Œæ–‡ä»¶å¤¹æ•°ç»„ã€‚é€šé…ç¬¦å¯ç”¨äºåŒ…å«å¤šä¸ªæ–‡ä»¶è·¯å¾„ã€‚

æˆ‘ä»¬å»ºè®®å°†æ¯ä¸ªæ¡†æ¶çš„ç»„ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ˆä¾‹å¦‚ `/components/react/` å’Œ `/components/solid/`ï¼‰ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°æŒ‡å®šä½ çš„åŒ…å«å†…å®¹ï¼Œä½†è¿™ä¸æ˜¯å¿…éœ€çš„ï¼š

```js
// astro.config.mjs
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';
import react from '@astrojs/react';
import svelte from '@astrojs/svelte';
import vue from '@astrojs/vue';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // å¯ç”¨å¤šä¸ªæ¡†æ¶æ¥æ”¯æŒæ‰€æœ‰ä¸åŒç±»å‹çš„ç»„ä»¶ã€‚
  // å¦‚æœä½ åªä½¿ç”¨ä¸€ä¸ª JSX æ¡†æ¶ï¼Œåˆ™ä¸éœ€è¦ `include`ï¼
  integrations: [
    preact({
      include: ['**/preact/*'],
    }),
    react({
      include: ['**/react/*'],
    }),
    solid({
      include: ['**/solid/*'],
    }),
  ],
});
```

## æ•…éšœæ’é™¤

å¦‚éœ€å¸®åŠ©ï¼Œè¯·æŸ¥çœ‹[Discord](https://astro.build/chat)ä¸Šçš„ `#support` é¢‘é“ã€‚æˆ‘ä»¬å‹å¥½çš„æ”¯æŒå°ç»„æˆå‘˜å°†åœ¨è¿™é‡Œæä¾›å¸®åŠ©ï¼

ä½ ä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ‘ä»¬çš„[Astro é›†æˆæ–‡æ¡£][astro-integration]ï¼Œäº†è§£æ›´å¤šå…³äºé›†æˆçš„ä¿¡æ¯ã€‚

## è´¡çŒ®

è¿™ä¸ªåŒ…ç”± Astro çš„æ ¸å¿ƒå›¢é˜Ÿç»´æŠ¤ï¼Œæ¬¢è¿ä½ æäº¤ issue æˆ– PRï¼

[astro-integration]: /zh-cn/guides/integrations-guide/

[astro-ui-frameworks]: /zh-cn/core-concepts/framework-components/#ä½¿ç”¨æ¡†æ¶ç»„ä»¶
