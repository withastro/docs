---
title: æ ·å¼ & CSS
description: >-
  å­¦ä¹ å¦‚ä½•åœ¨ Astro ä¸­ä½¿ç”¨ä½œç”¨åŸŸæ ·å¼ã€å¤–éƒ¨ CSS ä»¥åŠç±»ä¼¼ Sass å’Œ PostCSS çš„å·¥å…·æ¥ä¸ºç»„ä»¶æ·»åŠ æ ·å¼ã€‚
---
import Since from '~/components/Since.astro';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'

Astro çš„è®¾è®¡ä¸ºäº†ä½¿è®¾è®¡å’Œç¼–å†™ CSS å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚ç›´æ¥åœ¨ Astro ç»„ä»¶ä¸­ç¼–å†™ä½ è‡ªå·±çš„ CSSï¼Œæˆ–è€…å¯¼å…¥ä½ æœ€å–œæ¬¢çš„ CSS åº“ï¼Œå¦‚ [Tailwind][tailwind] å¤–ã€‚ä¹Ÿæ”¯æŒé«˜çº§æ ·å¼è®¾è®¡è¯­è¨€ï¼Œå¦‚ [Sass][sass] å’Œ [Less][less]ã€‚

## åœ¨ Astro è¿›è¡Œè®¾è®¡

ä¸º Astro ç»„ä»¶è®¾è®¡æ ·å¼ï¼Œå°±åƒåœ¨ä½ çš„ç»„ä»¶æˆ–é¡µé¢æ¨¡æ¿ä¸Šæ·»åŠ  `<style>` æ ‡ç­¾ä¸€æ ·å®¹æ˜“ã€‚å½“ä½ åœ¨ Astro ç»„ä»¶å†…ç½®äº† `<style>` æ ‡ç­¾æ—¶ï¼ŒAstro å°±ä¼šè‡ªåŠ¨æ£€æµ‹ CSS å¹¶å¼€å§‹ä¸ºä½ å¤„ç†æ ·å¼ã€‚

```astro title="src/components/MyComponent.astro"
<style>
  h1 { color: red; }
</style>
```

### ä½œç”¨åŸŸæ ·å¼

Astro `<style>` æ ‡ç­¾å†…çš„ CSS è§„åˆ™**é»˜è®¤è‡ªåŠ¨é™å®šèŒƒå›´**ã€‚ä½œç”¨åŸŸæ ·å¼åœ¨å¹•åç¼–è¯‘ï¼Œåªé€‚ç”¨äºå†™åœ¨åŒä¸€ç»„ä»¶å†…çš„ HTMLã€‚ä½ åœ¨ Astro ç»„ä»¶ä¸­ç¼–å†™çš„ CSS ä¼šè‡ªåŠ¨å°è£…åœ¨è¯¥ç»„ä»¶ä¸­ã€‚

ç°æœ‰ CSSï¼š
```astro title="index.astro"
<style>
  h1 { 
    color: red; 
  }

  .text { 
    color: blue; 
  }
</style>
```

ç¼–è¯‘ä¸ºï¼š
```astro
<style>
  h1[data-astro-cid-hhnqfkh6] {
     color: red;
  }

  .text[data-astro-cid-hhnqfkh6] {
    color: blue;
  }
</style>
```

ä½œç”¨åŸŸæ ·å¼ä¸ä¼šæ³„æ¼ï¼Œä¹Ÿä¸ä¼šå½±å“ä½ ç½‘ç«™çš„å…¶ä»–éƒ¨åˆ†ã€‚åœ¨ Astro ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åƒ `h1 {}` æˆ– `p {}` è¿™æ ·çš„ä½ç‰¹å®šæ€§é€‰æ‹©å™¨ï¼Œå› ä¸ºåœ¨æœ€ç»ˆè¾“å‡ºä¸­å®ƒä»¬ä¸ä½œç”¨åŸŸä¸€èµ·è¢«ç¼–è¯‘ã€‚

ä½œç”¨åŸŸæ ·å¼ä¹Ÿä¸é€‚ç”¨äºæ¨¡æ¿å†…çš„å…¶ä»– Astro ç»„ä»¶ã€‚å¦‚æœä½ éœ€è¦ä¿®æ”¹å­ç»„ä»¶çš„æ ·å¼ï¼Œå¯ä»¥è€ƒè™‘å°†è¯¥ç»„ä»¶åŒ…è£¹åœ¨ `<div>`ï¼ˆæˆ–å…¶ä»–å…ƒç´ ï¼‰ä¸­ï¼Œç„¶åä½ å°±å¯ä»¥å¯¹å…¶ç¼–å†™æ ·å¼äº†ã€‚

ä½œç”¨åŸŸæ ·å¼çš„ç‰¹å®šæ€§è¢«ä¿ç•™ï¼Œå…è®¸å®ƒä»¬ä¸å…¶ä»– CSS æ–‡ä»¶æˆ– CSS åº“ä¸€èµ·å·¥ä½œï¼ŒåŒæ—¶ä»ç„¶ä¿ç•™é˜²æ­¢æ ·å¼åº”ç”¨äºç»„ä»¶ä¹‹å¤–çš„ç‹¬ç‰¹è¾¹ç•Œã€‚

### å…¨å±€æ ·å¼

è™½ç„¶æˆ‘ä»¬æ¨èå¤§å¤šæ•°ç»„ä»¶ä½¿ç”¨èŒƒå›´åŒ–çš„æ ·å¼ï¼Œä½†æœ‰æ—¶ä½ å¯èƒ½æœ‰å¿…è¦ä½¿ç”¨å…¨å±€çš„ã€éé™å®šèŒƒå›´çš„ CSSã€‚ä½ å¯ä»¥é€šè¿‡ `<style is:global>` å±æ€§é€‰æ‹©ä¸è‡ªåŠ¨é™å®š CSS èŒƒå›´ã€‚

```astro title="src/components/GlobalStyles.astro" "is:global"
<style is:global>
  /* æ— ä½œç”¨åŸŸï¼Œç›´æ¥ä¼ é€’ç»™æµè§ˆå™¨ã€‚
     é€‚ç”¨äºç½‘ç«™ä¸Šçš„æ‰€æœ‰ <h1> æ ‡ç­¾ã€‚ */
  h1 { color: red; }
</style>
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `:global()` é€‰æ‹©å™¨åœ¨åŒä¸€ä¸ª `<style>` æ ‡ç­¾ä¸­æ··åˆå…¨å±€å’Œä½œç”¨åŸŸ CSS è§„åˆ™ã€‚è¿™å¯ä»¥å°† CSS æ ·å¼åº”ç”¨äºå­ç»„ä»¶ã€‚

```astro title="src/components/MixedStyles.astro" ":global(h1)"
<style>
  /* ä»…é™äºæ­¤ç»„ä»¶ã€‚ */
  h1 { color: red; }
  /* æ··åˆï¼šä»…é™äºå­ç»„ä»¶çš„ <h1> æ ‡ç­¾ã€‚ */
  article :global(h1) {
    color: blue;
  }
</style>
<h1>Title</h1>
<article><slot /></article>
```

å®ƒé€‚åˆç”¨äºåƒåšå®¢æ–‡ç« ï¼Œæˆ–ç”± CMS é©±åŠ¨çš„å†…å®¹æ–‡æ¡£ï¼Œè¿™äº›å†…å®¹åœ¨ Astro ä¹‹å¤–çš„æ ·å¼ã€‚ä½†è¦æ³¨æ„ä¼šå› ä¸ºæŸä¸ªçˆ¶çº§ç»„ä»¶æœ‰æ— è€Œå¯¼è‡´æ ·å¼ä¸åŒä¼šä½¿å¾—å¾ˆéš¾è¿›è¡Œé”™è¯¯æ’æŸ¥ã€‚

åº”å°½å¯èƒ½å¤šçš„ä½¿ç”¨ä½œç”¨åŸŸæ ·å¼ï¼Œè€Œä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨å…¨å±€æ ·å¼ã€‚

### ç”¨ `class:list` ç»„åˆç±»å

å¦‚æœä½ éœ€è¦åœ¨å…ƒç´ ä¸ŠåŠ¨æ€ç»„åˆç±»åï¼Œä½ å¯ä»¥åœ¨ `.astro` æ–‡ä»¶ä¸­ä½¿ç”¨ `class:list` å·¥å…·å±æ€§ã€‚

```astro title="src/components/ClassList.astro" /class:list={.*}/
---
const { isRed } = Astro.props;
---
<!-- å¦‚æœ `isRed` æ˜¯çœŸå€¼ï¼Œclass å°†æ˜¯ "box red"ã€‚ -->
<!-- å¦‚æœ `isRed` æ˜¯å‡å€¼ï¼Œclass å°†æ˜¯ "box"ã€‚ -->
<div class:list={['box', { red: isRed }]}><slot /></div>

<style>
  .box { border: 1px solid blue; }
  .red { border-color: red; }
</style>
```

ğŸ“š å‚è§[æŒ‡ä»¤å‚è€ƒ](/zh-cn/reference/directives-reference/#classlist)é¡µé¢ï¼Œäº†è§£æ›´å¤šå…³äº `class:list` çš„ä¿¡æ¯ã€‚

### CSS å˜é‡

<Since v="0.21.0" />

Astro `<style>` å¯ä»¥å¼•ç”¨é¡µé¢ä¸Šä»»ä½•å¯ç”¨çš„ CSS å˜é‡ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ç»„ä»¶çš„ frontmatter ä¸­ç›´æ¥ä½¿ç”¨ `define:vars` æŒ‡ä»¤æ¥ä¼ é€’ CSS å˜é‡ã€‚

```astro title="src/components/DefineVars.astro" /define:vars={{.*}}/ /var\\(.*\\)/
---
const foregroundColor = "rgb(221 243 228)";
const backgroundColor = "rgb(24 121 78)";
---
<style define:vars={{ foregroundColor, backgroundColor }}>
  h1 {
    background-color: var(--backgroundColor);
    color: var(--foregroundColor);
  }
</style>
<h1>Hello</h1>
```

ğŸ“š å‚è§[æŒ‡ä»¤å‚è€ƒ](/zh-cn/reference/directives-reference/#definevars)é¡µé¢ï¼Œäº†è§£æ›´å¤šå…³äº `define:vars` çš„ä¿¡æ¯ã€‚

### ä¼ é€’ `class` ç»™å­ç»„ä»¶

åœ¨ Astro ä¸­ï¼Œåƒ `class` è¿™æ ·çš„ HTML å±æ€§ä¸ä¼šè‡ªåŠ¨ä¼ é€’ç»™å­ç»„ä»¶ã€‚

ç›¸åï¼Œä½ éœ€è¦åœ¨å­ç»„ä»¶ä¸­æ¥å—ä¸€ä¸ª `class` å±æ€§ï¼Œå¹¶å°†å…¶åº”ç”¨åˆ°æ ¹å…ƒç´ ä¸Šã€‚åœ¨è§£æ„æ—¶ï¼Œä½ å¿…é¡»é‡å‘½åå®ƒï¼Œå› ä¸º `class` æ˜¯ JavaScript ä¸­çš„[ä¿ç•™å­—](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Lexical_grammar#reserved_words)ã€‚

```astro title="src/components/MyComponent.astro" {2,4}
---
const { class: className } = Astro.props;
---
<div class={className}>
  <slot/>
</div>
```

```astro title="src/pages/index.astro"
---
import MyComponent from "../components/MyComponent.astro"
---
<style>
  .red {
    color: red;
  }
</style>
<MyComponent class="red">è¿™å°†æ˜¯çº¢è‰²ï¼</MyComponent>
```

è¿™ç§æ¨¡å¼å¯ä»¥è®©ä½ ç›´æ¥ç»™å­ç»„ä»¶æ·»åŠ æ ·å¼ã€‚Astro ä¼šè‡ªåŠ¨å°†çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸç±»åï¼ˆä¾‹å¦‚ `astro-hhnqfkh6`ï¼‰é€šè¿‡ `class` å±æ€§ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä½¿å¾—å­ç»„ä»¶ä¹Ÿåœ¨çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸä¸­ã€‚
æ³¨æ„ï¼Œè¿™ç§æ¨¡å¼ä»…åœ¨ä½ çš„ [`scopedStyleStrategy` é€‰é¡¹](/zh-cn/reference/configuration-reference/#scopedstylestrategy) ä¸º `'where'` æˆ– `'class'` æ—¶æ‰æœ‰æ•ˆã€‚

:::note[çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸç±»å]
ç”±äº `class` å±æ€§åŒ…å«äº†å­ç»„ä»¶åœ¨çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤çˆ¶ç»„ä»¶çš„æ ·å¼å¯ä»¥ä¼ é€’åˆ°å­ç»„ä»¶ä¸­ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œç¡®ä¿åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨å”¯ä¸€çš„ç±»åã€‚
:::

### å†…è”æ ·å¼

ä½ å¯ä»¥ä½¿ç”¨ `style` å±æ€§å°† HTML å…ƒç´ è®¾ç½®ä¸ºå†…è”æ ·å¼ã€‚è¿™å¯ä»¥æ˜¯ CSS å­—ç¬¦ä¸²æˆ– CSS å±æ€§çš„å¯¹è±¡ï¼š

```astro title="src/pages/index.astro"
// è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ï¼š
<p style={{ color: "brown", textDecoration: "underline" }}>My text</p>
<p style="color: brown; text-decoration: underline;">My text</p>
```

## å¤–éƒ¨æ ·å¼

æœ‰ä¸¤ç§ä½¿ç”¨å¤–éƒ¨å…¨å±€æ ·å¼è¡¨çš„æ–¹æ³•ï¼šé¡¹ç›®æºæ–‡ä»¶ä¸­ä½¿ç”¨ ESM å¯¼å…¥ï¼›ä½¿ç”¨ç»å¯¹é“¾æ¥å¼•ç”¨ `public/` ç›®å½•ä¸­çš„æ–‡ä»¶æˆ–æ‰˜ç®¡äºåˆ«å¤„çš„æ–‡ä»¶ã€‚

ğŸ“š é˜…è¯»æ›´å¤šå…³äºä½¿ç”¨ä½äº `public/` æˆ– `src/` çš„[é™æ€èµ„æº](/zh-cn/guides/imports/)ã€‚

### å¯¼å…¥æœ¬åœ°æ ·å¼è¡¨

:::caution[ä½¿ç”¨ npm åŒ…ï¼Ÿ]
æƒ³è¦å¯¼å…¥ npm åŒ…ï¼Œä½ å¯èƒ½éœ€è¦æ›´æ–° `astro.config` æ–‡ä»¶ã€‚å‚è§ä¸‹é¢çš„[â€œä» npm åŒ…ä¸­å¯¼å…¥æ ·å¼è¡¨â€éƒ¨åˆ†](#ä»-npm-åŒ…ä¸­å¯¼å…¥æ ·å¼è¡¨)ã€‚
:::

ä½ å¯ä»¥åœ¨ Astro ç»„ä»¶ä¸­ä½¿ç”¨ ESM å¯¼å…¥è¯­æ³•æ˜¾å¼å¯¼å…¥æ ·å¼è¡¨ã€‚CSS å¯¼å…¥æ–¹å¼ä¸ [Astro ç»„ä»¶ä¸­çš„å…¶ä»– ESM å¯¼å…¥](/zh-cn/core-concepts/astro-components/#ç»„ä»¶è„šæœ¬)ä¸€æ ·ï¼Œå®ƒåº”è¯¥**åŸºäºç»„ä»¶**è¿›è¡Œå¼•ç”¨ï¼Œå¹¶ä¸”ä¸å…¶ä»–å¯¼å…¥ä¸€æ ·å¿…é¡»ä½äºç»„ä»¶è„šæœ¬**é¡¶å±‚**ï¼š

```astro title="src/pages/index.astro" {4}
---
// Astro ä¼šè‡ªåŠ¨ä¸ºä½ æ†ç»‘å’Œä¼˜åŒ–è¿™äº›CSSã€‚
// è¿™ä¹Ÿé€‚ç”¨äºé¢„å¤„ç†å™¨æ–‡ä»¶ï¼Œå¦‚ .scssã€.styl ç­‰ã€‚
import '../styles/utils.css';
---
<html><!-- ä½ çš„é¡µé¢åœ¨è¿™ --></html>
```

ä»»ä½• JavaScript æ–‡ä»¶éƒ½æ”¯æŒé€šè¿‡ ESM `import`å¯¼å…¥  CSSï¼ŒåŒ…æ‹¬åƒ React å’Œ Preact è¿™æ ·çš„ JSX ç»„ä»¶ã€‚è¿™æœ‰åŠ©äºä¸º React ç»„ä»¶ç¼–å†™ç»†åŒ–çš„ï¼Œå…·æœ‰é’ˆå¯¹æ€§çš„æ ·å¼

### ä» npm åŒ…ä¸­å¯¼å…¥æ ·å¼è¡¨

ä½ ä¹Ÿå¯èƒ½éœ€è¦ä»å¤–éƒ¨ npm åŒ…ä¸­åŠ è½½æ ·å¼è¡¨ã€‚å®ƒå¸¸ç”¨äºåƒå¯¼å…¥ [Open Props](https://open-props.style/) è¿™æ ·çš„å·¥å…·ç±»ã€‚å¦‚æœä½ çš„åŒ…**å»ºè®®ä½¿ç”¨æ–‡ä»¶æ‰©å±•å**ï¼ˆå³ `package-name/styles.css` è€Œä¸æ˜¯ `package-name/styles`ï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„è¡Œä¸ºåº”è¯¥ä¸æœ¬åœ°æ ·å¼è¡¨ä¸€è‡´ï¼š

```astro {3}
---
// src/pages/random-page.astro
import 'package-name/styles.css';
---
<html><!-- ä½ çš„é¡µé¢åœ¨è¿™ --></html>
```

å¦‚æœä½ æ‰€ç”¨çš„åŒ…**ä¸å»ºè®®ä½¿ç”¨æ–‡ä»¶æ‰©å±•å**ï¼ˆå³ `åŒ…å/æ ·å¼`ï¼‰ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å…ˆæ›´æ–° Astro é…ç½® 

å‡è®¾ä½ ä» `package-name` å¯¼å…¥åä¸º `normalize` çš„ CSS æ–‡ä»¶ï¼ˆçœç•¥æ–‡ä»¶æ‰©å±•åï¼‰ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬èƒ½æ­£ç¡®åœ°é¢„æ¸²æŸ“ä½ çš„é¡µé¢ï¼Œéœ€è¦æŠŠ`package-name` æ·»åŠ åˆ° [`vite.ssr.noExternal` æ•°ç»„](https://vitejs.dev/config/ssr-options.html#ssr-noexternal)ä¸­ã€‚

```js ins={7}
// astro.config.mjs
import { defineConfig } from 'astro/config';

export default defineConfig({
  vite: {
    ssr: {
      noExternal: ['package-name'],
    }
  }
})
```

:::note
è¿™æ˜¯[é’ˆå¯¹ Vite çš„è®¾ç½®](https://cn.vitejs.dev/config/#ssr-noexternal) ä¸ [Astro SSR](/zh-cn/guides/server-side-rendering/) æ— å…³ã€‚
:::

ç°åœ¨ï¼Œä½ å¯ä»¥å¯¼å…¥ `package-name/normalize` äº†ã€‚Astro å°†å¯¹å…¶è¿›è¡Œæ†ç»‘å’Œä¼˜åŒ–ï¼Œå°±åƒä»»ä½•å…¶ä»–æœ¬åœ°æ ·å¼è¡¨ä¸€æ ·ã€‚


```astro {3}
---
// src/pages/random-page.astro
import 'package-name/normalize';
---
<html><!-- ä½ çš„é¡µé¢åœ¨è¿™ --></html>
```

### é€šè¿‡ `link` æ ‡ç­¾åŠ è½½é™æ€æ ·å¼è¡¨

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `<link>` å…ƒç´ åœ¨é¡µé¢ä¸ŠåŠ è½½æ ·å¼è¡¨ã€‚å®ƒæ˜¯åº”è¯¥ä½äº `/public` ç›®å½•ä¸‹çš„ CSS æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…æ˜¯å¤–éƒ¨ç½‘ç«™çš„é“¾æ¥ã€‚ä¸æ”¯æŒä½¿ç”¨ç›¸å¯¹è·¯å¾„çš„ `<link>` href å€¼ã€‚

```astro title="src/pages/index.astro" {3,5}
<head>
  <!-- æœ¬åœ°ï¼š/public/styles/global.css -->
  <link rel="stylesheet" href="/styles/global.css" />
  <!-- å¤–éƒ¨ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/themes/prism-tomorrow.css">
</head>
```

å› ä¸ºè¿™ç§æ–¹æ³•ä½¿ç”¨ `public/` ç›®å½•ï¼Œå®ƒè·³è¿‡äº† Astro æä¾›çš„ CSS å¤„ç†ã€æ†ç»‘å’Œå‹ç¼©ã€‚å¦‚æœä½ éœ€è¦è¿™äº›è½¬æ¢ï¼Œè¯·ä½¿ç”¨ä¸Šé¢çš„[å¯¼å…¥æ ·å¼è¡¨](#å¯¼å…¥æœ¬åœ°æ ·å¼è¡¨)æ–¹æ³•ã€‚

## çº§è”é¡ºåº

Astro ç»„ä»¶æœ‰æ—¶éœ€è¦è¯„ä¼°å¤šä¸ª CSS æºã€‚ä¾‹å¦‚ï¼Œä½ çš„ç»„ä»¶å¯èƒ½ä¼šå¯¼å…¥ CSS æ ·å¼è¡¨ï¼ŒåŒ…å«è‡ªå·±çš„ `<style>` æ ‡ç­¾ï¼Œ*å¹¶ä¸”*è¢«æ¸²æŸ“åœ¨å¯¼å…¥ CSS çš„å¸ƒå±€ä¸­ã€‚

å½“å†²çªçš„ CSS è§„åˆ™åº”ç”¨äºåŒä¸€å…ƒç´ æ—¶ï¼Œæµè§ˆå™¨é¦–å…ˆä½¿ç”¨ _ç‰¹å¼‚æ€§_ å’Œ _å‡ºç°é¡ºåº_ æ¥ç¡®å®šè¦æ˜¾ç¤ºå“ªä¸ªå€¼ã€‚

å¦‚æœä¸€ä¸ªè§„åˆ™æ¯”å¦ä¸€ä¸ªè§„åˆ™æ›´å…· _ç‰¹å¼‚æ€§_ï¼Œæ— è®º CSS è§„åˆ™å‡ºç°åœ¨å“ªé‡Œï¼Œå®ƒçš„å€¼éƒ½å°†å…·æœ‰ä¼˜å…ˆæƒï¼š

```astro title="MyComponent.astro"
<style>
  h1 { color: red }
  div > h1 {
    color: purple
  }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯ç´«è‰²çš„ï¼
  </h1>
</div>
```

å¦‚æœä¸¤ä¸ªè§„åˆ™å…·æœ‰ç›¸åŒçš„ç‰¹å¼‚æ€§ï¼Œé‚£ä¹ˆå°†è¯„ä¼° _å‡ºç°é¡ºåº_ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªè§„åˆ™çš„å€¼å°†å…·æœ‰ä¼˜å…ˆæƒï¼š

```astro title="MyComponent.astro"
<style>
  h1 { color: purple }
  h1 { color: red }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯çº¢è‰²çš„ï¼
  </h1>
</div>
```

Astro CSS è§„åˆ™çš„è¯„ä¼°é¡ºåºå¦‚ä¸‹ï¼š
- **`<link>` æ ‡ç­¾åœ¨ head ä¸­**ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰
- **å¯¼å…¥çš„æ ·å¼**
- **scoped æ ·å¼**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

### ä½œç”¨åŸŸæ ·å¼

ä½¿ç”¨ [ä½œç”¨åŸŸæ ·å¼](#ä½œç”¨åŸŸæ ·å¼) ä¸ä¼šå¢åŠ  CSS çš„ _ç‰¹å¼‚æ€§_ï¼Œä½†å®ƒä»¬å§‹ç»ˆåœ¨ _å‡ºç°é¡ºåº_ ä¸­æœ€åã€‚å› æ­¤ï¼Œå®ƒä»¬å°†ä¼˜å…ˆäºå…·æœ‰ç›¸åŒç‰¹å¼‚æ€§çš„å…¶ä»–æ ·å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å¯¼å…¥äº†ä¸ scoped æ ·å¼å†²çªçš„æ ·å¼è¡¨ï¼Œscoped æ ·å¼çš„å€¼å°†è¢«åº”ç”¨ï¼š

```css title="make-it-purple.css"
h1 {
  color: purple;
}
```
```astro title="MyComponent.astro"
---
import "./make-it-purple.css"
---
<style>
  h1 { color: red }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯çº¢è‰²çš„ï¼
  </h1>
</div>
```

å¦‚æœä½ å¯¼å…¥çš„æ ·å¼æ›´å…· _ç‰¹å¼‚æ€§_ï¼Œé‚£ä¹ˆå®ƒå°†ä¼˜å…ˆäº scoped æ ·å¼ï¼š

```css title="make-it-purple.css"
div > h1 {
  color: purple;
}
```
```astro title="MyComponent.astro"
---
import "./make-it-purple.css"
---
<style>
  h1 { color: red }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯ç´«è‰²çš„ï¼
  </h1>
</div>
```

### å¯¼å…¥é¡ºåº

å½“åœ¨ Astro ç»„ä»¶ä¸­å¯¼å…¥å¤šä¸ªæ ·å¼è¡¨æ—¶ï¼Œå°†æŒ‰å¯¼å…¥çš„é¡ºåºè¯„ä¼° CSS è§„åˆ™ã€‚æ— è®ºä½•æ—¶è¯„ä¼° CSSï¼Œç‰¹å¼‚æ€§æ€»æ˜¯å†³å®šè¦æ˜¾ç¤ºå“ªäº›æ ·å¼ã€‚ä½†æ˜¯ï¼Œå½“å†²çªçš„æ ·å¼å…·æœ‰ç›¸åŒçš„ç‰¹å¼‚æ€§æ—¶ï¼Œ_æœ€åå¯¼å…¥çš„_ æ ·å¼å°†è·èƒœï¼š

```css title="make-it-purple.css"
div > h1 {
  color: purple;
}
```
```css title="make-it-green.css"
div > h1 {
  color: green;
}
```
```astro title="MyComponent.astro"
---
import "./make-it-green.css"
import "./make-it-purple.css"
---
<style>
  h1 { color: red }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯ç´«è‰²çš„ï¼
  </h1>
</div>
```

è™½ç„¶ `<style>` æ ‡ç­¾æ˜¯ä½œç”¨åŸŸçš„ï¼Œå¹¶ä¸”åªé€‚ç”¨äºå£°æ˜å®ƒä»¬çš„ç»„ä»¶ï¼Œä½† _å¯¼å…¥çš„_ CSS å¯ä»¥â€œæ³„æ¼â€ã€‚å¯¼å…¥ç»„ä»¶ä¼šåº”ç”¨å®ƒå¯¼å…¥çš„ä»»ä½• CSSï¼Œå³ä½¿è¯¥ç»„ä»¶ä»æœªä½¿ç”¨ï¼š

```astro title="PurpleComponent.astro"
---
import "./make-it-purple.css"
---
<div>
  <h1>æˆ‘å¯¼å…¥ç´«è‰²çš„ CSSã€‚</h1>
</div>
```
```astro title="MyComponent.astro"
---
import "./make-it-green.css"
import PurpleComponent from "./PurpleComponent.astro";
---
<style>
  h1 { color: red }
</style>
<div>
  <h1>
    è¿™ä¸ª header å°†ä¼šæ˜¯ç´«è‰²çš„ï¼
  </h1>
</div>
```

:::tip
åœ¨ Astro ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„æ¨¡å¼æ˜¯åœ¨ [Layout ç»„ä»¶](/zh-cn/core-concepts/layouts/) ä¸­å¯¼å…¥å…¨å±€ CSSã€‚è¯·ç¡®ä¿åœ¨å…¶ä»–å¯¼å…¥ä¹‹å‰å¯¼å…¥ Layout ç»„ä»¶ï¼Œä»¥ä¾¿å®ƒå…·æœ‰æœ€ä½çš„ä¼˜å…ˆçº§ã€‚
:::

### Link æ ‡ç­¾
é€šè¿‡ [link æ ‡ç­¾](#é€šè¿‡-link-æ ‡ç­¾åŠ è½½é™æ€æ ·å¼è¡¨) åŠ è½½çš„æ ·å¼è¡¨æŒ‰é¡ºåºè¯„ä¼°ï¼Œä¼˜å…ˆäº Astro æ–‡ä»¶ä¸­çš„ä»»ä½•å…¶ä»–æ ·å¼ã€‚å› æ­¤ï¼Œè¿™äº›æ ·å¼å°†å…·æœ‰ä½äºå¯¼å…¥æ ·å¼è¡¨å’Œä½œç”¨åŸŸæ ·å¼çš„ä¼˜å…ˆçº§ï¼š

```astro title="index.astro"
---
import "../components/make-it-purple.css"
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
		<link rel="stylesheet" href="/styles/make-it-blue.css" />
	</head>
	<body>
		<div>
      <h1>è¿™å°†æ˜¯ç´«è‰²çš„</h1>
		</div>
	</body>
</html>
```

## CSS é›†æˆ

Astro æ”¯æŒåœ¨é¡¹ç›®ä¸­æ·»åŠ æµè¡Œçš„ CSS åº“ã€å·¥å…·å’Œæ¡†æ¶ï¼Œå¦‚ [Tailwind](https://tailwindcss.com) å’Œå…¶ä»–åº“ï¼

### Tailwind

è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Tailwindï¼Œè¯·ä½¿ç”¨åŒ…ç®¡ç†å™¨çš„`astro add` å‘½ä»¤å®‰è£…å®˜æ–¹çš„ [Astro Tailwind é›†æˆ][tailwind]ï¼š

<PackageManagerTabs>
  <Fragment slot="npm">
    ```shell
    npx astro add tailwind
    ```
  </Fragment>
  <Fragment slot="pnpm">
    ```shell
    pnpm astro add tailwind
    ```
  </Fragment>
  <Fragment slot="yarn">
    ```shell
    yarn astro add tailwind
    ```
  </Fragment>
</PackageManagerTabs>

ğŸ“š å‚è§[é›†æˆæŒ‡å—](/zh-cn/guides/integrations-guide/)ï¼Œäº†è§£å®‰è£…ã€å¯¼å…¥å’Œé…ç½®è¿™äº›é›†æˆçš„è¯´æ˜ã€‚

## CSS é¢„å¤„ç†å™¨

Astro æ”¯æŒé€šè¿‡ [Vite][vite-preprocessors] ä½¿ç”¨ CSS é¢„å¤„ç†å™¨ï¼Œå¦‚ [Sass][sass]ã€[Stylus][stylus] å’Œ [Less][less]ã€‚

### Sass å’Œ SCSS

 ```shell
 npm install sass
 ```

åœ¨ `.astro` æ–‡ä»¶ä¸­ä½¿ç”¨ `<style lang="scss">` æˆ– `<style lang="sass">`ã€‚

### Stylus

```shell
npm install stylus
```

åœ¨ `.astro` æ–‡ä»¶ä¸­ä½¿ç”¨ `<style lang="styl">` æˆ– `<style lang="stylus">`ã€‚

### Less

```shell
npm install less
```

åœ¨`.astro` æ–‡ä»¶ä¸­ä½¿ç”¨ `<style lang="less">`ã€‚

### åœ¨æ¡†æ¶ç»„ä»¶ä¸­

ä½ ä¹Ÿå¯ä»¥åœ¨ JS æ¡†æ¶å†…ä½¿ç”¨ä¸Šè¿°æ‰€æœ‰çš„ CSS é¢„å¤„ç†ç¨‹åºï¼è¯·åŠ¡å¿…éµå¾ªæ¯ä¸ªæ¡†æ¶æ¨èçš„æ¨¡å¼ã€‚

- **React** / **Preact**: `import Styles from './styles.module.scss'`;
- **Vue**: `<style lang="scss">`
- **Svelte**: `<style lang="scss">`

## PostCSS

Astro å†…ç½®äº† PostCSSï¼Œä½œä¸º [Vite](https://cn.vitejs.dev/guide/features.html#postcss) çš„ä¸€éƒ¨åˆ†ã€‚è¦ä¸ºä½ çš„é¡¹ç›®é…ç½® PostCSSï¼Œåœ¨é¡¹ç›®æ ¹éƒ¨åˆ›å»º `postcss.config.cjs` æ–‡ä»¶ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨å®‰è£…æ’ä»¶åä½¿ç”¨ `require()` å¯¼å…¥æ’ä»¶ï¼ˆä¾‹å¦‚ `npm install autoprefixer`ï¼‰ã€‚

```js title="postcss.config.cjs" ins={3-4}
module.exports = {
  plugins: [
    require('autoprefixer'),
    require('cssnano'),
  ],
};
```

---

## æ¡†æ¶å’Œåº“

### ğŸ“˜ React / Preact

`.jsx` æ–‡ä»¶åŒæ—¶æ”¯æŒå…¨å±€ CSS å’Œ CSS æ¨¡å—ã€‚è¦å¯ç”¨åè€…ï¼Œè¯·ä½¿ç”¨ `.module.css` æ‰©å±•åï¼ˆå¦‚æœä½¿ç”¨ Sass åˆ™æ˜¯ `.module.scss`/`.module.sass` ï¼‰ã€‚

```js title="src/components/MyReactComponent.jsx" /[a-z]+(\\.module\\.css)/
import './global.css'; // åŒ…æ‹¬å…¨å±€ CSS
import Styles from './styles.module.css'; // ä½¿ç”¨ CSS æ¨¡å—ï¼ˆå¿…é¡»ä»¥ `.module.css`ã€`.module.scss` æˆ– `.module.sass` ç»“å°¾ï¼)
```

### ğŸ“— Vue

Astro ä¸­çš„ Vue æ”¯æŒä¸ `vue-loader` ä¸€æ ·çš„æ–¹æ³•ã€‚

- [vue-loader - Scoped CSS][vue-scoped]
- [vue-loader - CSS Modules][vue-css-modules]

### ğŸ“• Svelte

Astro ä¸­çš„ Svelte ä¹Ÿå®Œå…¨æŒ‰ç…§é¢„æœŸå·¥ä½œã€‚[Svelte Styling Docs][svelte-style]ã€‚

## Markdown æ ·å¼

ä»»ä½• Astro æ ·å¼æ–¹æ³•éƒ½å¯ä»¥ç”¨äº [Markdown å¸ƒå±€ç»„ä»¶](/zh-cn/core-concepts/layouts/#markdownmdx-å¸ƒå±€)ã€‚ä½†æ˜¯ä¸åŒçš„æ–¹å¼å¯èƒ½ä¼šå¯¹ä½ çš„é¡µé¢äº§ç”Ÿä¸åŒçš„æ ·å¼æ•ˆæœã€‚

ä½ å¯ä»¥é€šè¿‡å‘åŒ…è£…é¡µé¢å†…å®¹çš„å¸ƒå±€ä¸­æ·»åŠ  [å¯¼å…¥çš„æ ·å¼è¡¨](#å¤–éƒ¨æ ·å¼) æ¥å°†å…¨å±€æ ·å¼åº”ç”¨äº Markdown å†…å®¹ã€‚ä½ è¿˜å¯ä»¥åœ¨å¸ƒå±€ç»„ä»¶ä¸­ä½¿ç”¨ [`<style is:global>` æ ‡ç­¾](#å…¨å±€æ ·å¼) æ¥ä¸ºä½ çš„ Markdown æ ¼å¼è®¾ç½®æ ·å¼ã€‚è¯·æ³¨æ„ï¼Œæ·»åŠ çš„ä»»ä½•æ ·å¼éƒ½ä¼šå—åˆ° [Astro çš„çº§è”é¡ºåº](#çº§è”é¡ºåº)çš„å½±å“ï¼Œå› æ­¤ä½ åº”è¯¥ä»”ç»†æ£€æŸ¥æ¸²æŸ“åçš„é¡µé¢ï¼Œç¡®ä¿ä½ çš„æ ·å¼èƒ½å¤ŸæŒ‰ç…§é¢„æœŸç”Ÿæ•ˆã€‚

ä½ ä¹Ÿå¯ä»¥æ·»åŠ åŒ…æ‹¬ [Tailwind](/zh-cn/guides/integrations-guide/tailwind/) åœ¨å†…çš„ [CSS é›†æˆ](#css-é›†æˆ)ã€‚å¦‚æœä½ ä½¿ç”¨ Tailwindï¼Œ[typography æ’ä»¶](https://tailwindcss.com/docs/typography-plugin) å¯ä»¥ç”¨äºæ ·å¼åŒ– Markdownã€‚

## ç”Ÿäº§

### æ‰“åŒ…æ§åˆ¶

å½“ Astro ä¸ºä½ çš„ç½‘ç«™æ„å»ºç”Ÿäº§éƒ¨ç½²æ—¶ï¼Œå®ƒä¼šå°†ä½ çš„ CSS å‹ç¼©å¹¶åˆå¹¶åˆ° chunks ä¸­ã€‚ä½ ç½‘ç«™ä¸Šçš„æ¯ä¸ªé¡µé¢éƒ½æœ‰è‡ªå·±çš„ chunkï¼Œæ­¤å¤–ï¼Œå¤šä¸ªé¡µé¢ä¹‹é—´å…±äº«çš„ CSS è¿˜ä¼šè¢«è¿›ä¸€æ­¥æ‹†åˆ†ä¸ºè‡ªå·±çš„ chunk ä»¥ä¾›é‡ç”¨ã€‚

ç„¶è€Œï¼Œå½“ä½ æœ‰å¤šä¸ªé¡µé¢å…±äº«æ ·å¼æ—¶ï¼Œä¸€äº›å…±äº«çš„ chunks å¯èƒ½ä¼šå˜å¾—éå¸¸å°ã€‚å¦‚æœå®ƒä»¬éƒ½è¢«å•ç‹¬å‘é€ï¼Œé‚£ä¹ˆå°†ä¼šå¯¼è‡´è®¸å¤šæ ·å¼è¡¨è¯·æ±‚ï¼Œå¹¶å½±å“ç½‘ç«™çš„æ€§èƒ½ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒAstro ä»…å°† HTML ä¸­å¤§å°è¶…è¿‡ 4kB çš„æ ·å¼è¡¨é“¾æ¥ä¸º `<link rel="stylesheet">` æ ‡ç­¾ï¼Œè€Œå°†è¾ƒå°çš„æ ·å¼è¡¨å†…è”åˆ° `<style type="text/css">` ä¸­ã€‚è¿™ç§æ–¹æ³•åœ¨é¢å¤–è¯·æ±‚çš„æ•°é‡å’Œå¯ä»¥åœ¨é¡µé¢ä¹‹é—´ç¼“å­˜çš„ CSS é‡ä¹‹é—´æä¾›äº†ä¸€ä¸ªå¹³è¡¡ã€‚

ä½ å¯ä»¥ä½¿ç”¨ `assetsInlineLimit` vite æ„å»ºé€‰é¡¹æ¥é…ç½®æ ·å¼è¡¨åœ¨å¤šå¤§çš„æƒ…å†µä¸‹ä¼šè¢«é“¾æ¥åˆ°å¤–éƒ¨ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚è¯·æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¹Ÿä¼šå½±å“å†…è”çš„è„šæœ¬å’Œå›¾åƒã€‚

```js
import { defineConfig } from 'astro/config';

export default defineConfig({
  vite: {
    build: {
      assetsInlineLimit: 1024,
    }
  };
});
```

å¦‚æœä½ å¸Œæœ›æ‰€æœ‰é¡¹ç›®æ ·å¼éƒ½ä¿æŒå¤–éƒ¨æ ·å¼è¡¨ï¼Œå¯ä»¥é…ç½® `inlineStylesheets` æ„å»ºé€‰é¡¹ã€‚

```js
import { defineConfig } from 'astro/config';

export default defineConfig({
  build: {
    inlineStylesheets: 'never'
  }
});
```

ä½ ä¹Ÿå¯ä»¥å°†è¯¥é€‰é¡¹è®¾ç½®ä¸º `'always'` ï¼Œè¿™æ ·å°±å¯ä»¥å†…è”æ‰€æœ‰çš„æ ·å¼è¡¨äº†ã€‚

## é«˜çº§

:::caution
ç»•è¿‡ Astro å†…ç½®çš„ CSS æ†ç»‘æ—¶è¦å°å¿ƒï¼æ ·å¼ä¸ä¼šè‡ªåŠ¨åŒ…å«åœ¨æ„å»ºçš„è¾“å‡ºä¸­ï¼Œä½ æœ‰è´£ä»»ç¡®ä¿å¼•ç”¨çš„æ–‡ä»¶è¢«æ­£ç¡®åœ°åŒ…å«åœ¨æœ€ç»ˆçš„é¡µé¢è¾“å‡ºä¸­ã€‚
:::

### å¯¼å…¥ `?raw` CSS

å¯¹äºé«˜çº§ç”¨ä¾‹ï¼ŒCSS å¯ä»¥ç›´æ¥ä»ç£ç›˜ä¸Šè¯»å–ï¼Œè€Œ Astro ä¸è¿›è¡Œæ†ç»‘æˆ–å‹ç¼©ã€‚å½“ä½ éœ€è¦å®Œå…¨æ§åˆ¶æŸäº› CSS ç‰‡æ®µï¼Œå¹¶éœ€è¦ç»•è¿‡ Astro çš„è‡ªåŠ¨ CSS å¤„ç†æ—¶ï¼Œè¿™å¯èƒ½æœ‰ç”¨çš„ã€‚

å¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´ï¼Œä¸å»ºè®®è¿™æ ·åšï¼š

```astro title="src/components/RawInlineStyles.astro" "?raw"
---
// é«˜çº§ç”¨ä¾‹! ä¸å»ºè®®å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨
import rawStylesCSS from '../styles/main.css?raw';
---
<style is:inline set:html={rawStylesCSS}></style>
```

å®Œæ•´çš„ç»†èŠ‚è§ [Vite çš„æ–‡æ¡£](https://cn.vitejs.dev/guide/assets.html#importing-asset-as-string)ã€‚

### å¯¼å…¥ `?url` CSS

ä¸€ä¸ªé«˜çº§ç”¨ä¾‹ï¼Œä½ å¯ä»¥åœ¨ä½ çš„é¡¹ç›® `src/` ç›®å½•ä¸­ç›´æ¥å¯¼å…¥ CSS æ–‡ä»¶é“¾æ¥ã€‚å½“ä½ éœ€è¦å®Œå…¨æ§åˆ¶ CSS æ–‡ä»¶åœ¨é¡µé¢ä¸Šçš„åŠ è½½æ–¹å¼æ—¶å¯èƒ½æœ‰ç”¨ã€‚ç„¶è€Œï¼Œè¿™å°†é˜»æ­¢è¯¥ CSS æ–‡ä»¶å’Œä½ çš„é¡µé¢ä¸Šçš„å…¶ä»– CSS è¿›è¡Œä¼˜åŒ–ã€‚

å¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´ï¼Œä¸å»ºè®®è¿™æ ·åšã€‚ç›¸åï¼Œå°† CSS æ–‡ä»¶æ”¾åœ¨ `public/` å†…ï¼Œä½ å¯ä»¥è·å¾—ä¸€è‡´çš„é“¾æ¥ã€‚

:::caution
ç”¨ `?url` å¯¼å…¥è¾ƒå°çš„ CSS æ–‡ä»¶ï¼Œå¯èƒ½ä¼šåœ¨æœ€ç»ˆæ„å»ºæ—¶å°† CSS æ–‡ä»¶çš„ base64 ç¼–ç å†…å®¹ä½œä¸ºæ•°æ®é“¾æ¥è¿”å›å€¼ã€‚ä½ å¯ä»¥ç¼–å†™ä»£ç ä»¥æ”¯æŒç»ç¼–ç çš„æ•°æ®é“¾æ¥ï¼ˆ`data:text/css;base64,...`ï¼‰ï¼Œæˆ–è€…å°† [`vite.build.assetsInlineLimit`](https://cn.vitejs.dev/config/#build-assetsinlinelimit) é…ç½®é€‰é¡¹è®¾ä¸º `0` ä»¥ç¦ç”¨è¿™ä¸€åŠŸèƒ½ã€‚
:::

```astro title="src/components/RawStylesUrl.astro" "?url"
---
// é«˜çº§ç”¨ä¾‹! ä¸å»ºè®®å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨
import stylesUrl from '../styles/main.css?url';
---
<link rel="preload" href={stylesUrl} as="style">
<link rel="stylesheet" href={stylesUrl}>
```

å®Œæ•´çš„ç»†èŠ‚è§ [Vite æ–‡æ¡£](https://vitejs.dev/guide/assets.html#importing-asset-as-url)ã€‚


[less]: https://lesscss.org/
[sass]: https://sass-lang.com/
[stylus]: https://stylus-lang.com/
[svelte-style]: https://svelte.dev/docs#component-format-style
[tailwind]: /zh-cn/guides/integrations-guide/tailwind/
[vite-preprocessors]: https://cn.vitejs.dev/guide/features.html#css-pre-processors
[vue-css-modules]: https://vue-loader.vuejs.org/guide/css-modules.html
[vue-scoped]: https://vue-loader.vuejs.org/guide/scoped-css.html
