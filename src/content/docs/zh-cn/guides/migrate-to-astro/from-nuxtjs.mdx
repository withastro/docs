---
title: ä» NuxtJS è¿ç§»
description: å°†ç°æœ‰ NuxtJS é¡¹ç›®è¿ç§»åˆ° Astro çš„æŠ€å·§
type: migration
stub: false
framework: NuxtJS
i18nReady: true
---
import AstroVueTabs from '~/components/tabs/AstroVueTabs.astro'
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'
import FileTree from '~/components/FileTree.astro'

è¿™é‡Œæ˜¯ä¸€äº›å¸®åŠ©ä½ å¼€å§‹çš„å…³é”®æ¦‚å¿µå’Œè¿ç§»ç­–ç•¥ã€‚ä½¿ç”¨æˆ‘ä»¬çš„å…¶ä½™æ–‡æ¡£å’Œæˆ‘ä»¬çš„ [Discord ç¤¾åŒº](https://astro.build/chat) æ¥ä¿æŒæ›´æ–°ï¼

> æœ¬æŒ‡å—æ˜¯é’ˆå¯¹ [Nuxt 2](https://nuxtjs.org/) çš„ï¼Œè€Œä¸æ˜¯æ–°çš„ Nuxt 3ã€‚è™½ç„¶ä¸¤è€…æœ‰ä¸€äº›ç›¸ä¼¼çš„æ¦‚å¿µï¼Œä½† Nuxt 3 æ˜¯è¯¥æ¡†æ¶çš„æ–°ç‰ˆæœ¬ï¼Œè¿ç§»çš„æŸäº›éƒ¨åˆ†å¯èƒ½éœ€è¦ä¸åŒçš„ç­–ç•¥ã€‚

## Nuxt å’Œ Astro çš„å…³é”®ç›¸ä¼¼ä¹‹å¤„

Nuxt å’Œ Astro æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ï¼Œè¿™äº›ç›¸ä¼¼æ€§èƒ½å¤Ÿå¸®åŠ©ä½ å®Œæˆè¿ç§»:

- Astro é¡¹ç›®å¯ä»¥æ˜¯ SSGï¼ˆé™æ€ç½‘ç«™ç”Ÿæˆï¼‰æˆ– [æ”¯æŒé¡µé¢çº§é¢„æ¸²æŸ“çš„SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰](/zh-cn/guides/server-side-rendering/#é…ç½®å•ä¸ªè·¯ç”±)ã€‚
- Astro ä½¿ç”¨åŸºäºæ–‡ä»¶çš„è·¯ç”±ï¼Œå¹¶ä¸” [å…è®¸ç‰¹å®šå‘½åçš„é¡µé¢åˆ›å»ºåŠ¨æ€è·¯ç”±](/zh-cn/core-concepts/routing/#åŠ¨æ€è·¯ç”±)ã€‚
- Astro æ˜¯ [åŸºäºç»„ä»¶çš„](/zh-cn/core-concepts/astro-components/)ï¼Œå› æ­¤åœ¨è¿ç§»å‰åï¼Œä½ çš„æ ‡è®°ç»“æ„å°†ä¿æŒç›¸ä¼¼ã€‚
- Astro [å®˜æ–¹æ”¯æŒä½¿ç”¨ Vue ç»„ä»¶](/zh-cn/guides/integrations-guide/vue/)ã€‚
- Astro æ”¯æŒ [å®‰è£… NPM åŒ…](/zh-cn/guides/imports/#npm-åŒ…)ï¼ŒåŒ…æ‹¬ Vue åº“ã€‚ä½ èƒ½å¤Ÿä¿ç•™ç°æœ‰çš„éƒ¨åˆ†æˆ–å…¨éƒ¨ Vue ç»„ä»¶å’Œä¾èµ–é¡¹ã€‚

## Nuxt å’Œ Astro çš„å…³é”®åŒºåˆ«

å½“ä½ ä½¿ç”¨ Astro æ¥é‡æ„ Nuxt é¡¹ç›®æ—¶ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€äº›é‡è¦çš„å·®å¼‚ï¼š

- Nuxt æ˜¯ä¸€ä¸ªåŸºäº Vue çš„ SPA (å•é¡µåº”ç”¨ç¨‹åº)ã€‚è€Œ Astro ç«™ç‚¹æ˜¯ä½¿ç”¨ `.astro` ç»„ä»¶æ„å»ºçš„å¤šé¡µåº”ç”¨ï¼Œä½†ä¹Ÿæ”¯æŒ Reactã€Preactã€Vue.jsã€Svelteã€SolidJSã€AlpineJSã€Lit å’ŒåŸç”Ÿ HTML æ¨¡æ¿ã€‚

- [é¡µé¢è·¯ç”±](/zh-cn/core-concepts/astro-pages/#åŸºäºæ–‡ä»¶çš„è·¯ç”±)ï¼š Nuxt ä½¿ç”¨ `vue-router` è¿›è¡Œ SPA è·¯ç”±ï¼Œå¹¶ä¸”ä½¿ç”¨ `vue-meta` æ¥ç®¡ç† `<head>`ã€‚åœ¨ Astro ä¸­ï¼Œä½ å°†åˆ›å»ºå•ç‹¬çš„ HTML é¡µé¢è·¯ç”±ï¼Œå¹¶ç›´æ¥æ§åˆ¶é¡µé¢çš„ `<head>`ï¼Œæˆ–è€…åœ¨å¸ƒå±€ç»„ä»¶ä¸­æ§åˆ¶ã€‚

- [å†…å®¹ä¼˜å…ˆ](/zh-cn/concepts/why-astro/)ï¼š Astro æ—¨åœ¨å±•ç¤ºä½ çš„å†…å®¹ï¼Œå¹¶å…è®¸ä½ ä»…åœ¨éœ€è¦æ—¶é€‰æ‹©åŠ å…¥äº¤äº’æ€§ã€‚è™½ç„¶ Nuxt å¯ä»¥é€šè¿‡`@nuxt/content`æ¥åˆ¶ä½œä»¥å†…å®¹ä¸ºä¸­å¿ƒçš„ç½‘ç«™ï¼Œä½†ç°æœ‰çš„ Nuxt åº”ç”¨æ›´å¤šæ˜¯é’ˆå¯¹å®¢æˆ·ç«¯çš„é«˜äº¤äº’æ€§æ„å»ºçš„ã€‚Astro å†…ç½®æœ‰èƒ½å¤Ÿå¤„ç†å†…å®¹çš„åŠŸèƒ½ï¼Œä¾‹å¦‚é¡µé¢ç”Ÿæˆï¼Œä½†æ˜¯ä¸€äº›ä½¿ç”¨ `.astro` ç»„ä»¶éš¾ä»¥å¤åˆ¶ã€æ›´å…·æŒ‘æˆ˜æ€§çš„åŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦é«˜çº§ Astro æŠ€æœ¯æ¥å¤„ç†ï¼Œä¾‹å¦‚ä»ªè¡¨ç›˜ã€‚

## è½¬æ¢ä½ çš„ NuxtJS é¡¹ç›®

æ¯ä¸ªé¡¹ç›®åœ¨è¿ç§»æ—¶çš„æ­¥éª¤ä¸å°½ç›¸åŒï¼Œä½†åœ¨ä»Nuxtè½¬æ¢åˆ°Astroæ—¶ï¼Œä½ ä¼šæ‰§è¡Œä¸€äº›å¸¸è§çš„æ“ä½œã€‚

### æ–°å»ºä¸€ä¸ª Astro é¡¹ç›®
ä½¿ç”¨ä½ çš„åŒ…ç®¡ç†å™¨çš„ `create astro` æ¥å¯åŠ¨ Astro çš„ CLI å‘å¯¼ï¼Œæˆ–è€…ä» [Astro ä¸»é¢˜å±•ç¤º](https://astro.build/themes) ä¸­é€‰æ‹©ä¸€ä¸ªç¤¾åŒºä¸»é¢˜ã€‚

ä½ å¯ä»¥å°† `--template` å‚æ•°ä¼ ç»™ `create astro` å‘½ä»¤ï¼Œä½¿ç”¨æˆ‘ä»¬çš„å®˜æ–¹å…¥é—¨æ¨¡æ¿ä¹‹ä¸€å¯åŠ¨æ–°çš„ Astro é¡¹ç›® (ä¾‹å¦‚ `docs`, `blog`, `portfolio`)ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥ä» [GitHubä¸Šçš„ä»»ä½•ç°æœ‰çš„ Astro åº“å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®](/zh-cn/install/auto/#å…¥é—¨æ¨¡æ¿) ã€‚

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼
    npm create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºæ–°é¡¹ç›®
    npm create astro@latest -- --template <example-name>
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼
    pnpm create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºæ–°é¡¹ç›®
    pnpm create astro@latest --template <example-name>
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼
    yarn create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºæ–°é¡¹ç›®
    yarn create astro@latest --template <example-name>
    ```
    </Fragment>
  </PackageManagerTabs>

æ¥ä¸‹æ¥ï¼Œå°†ç°æœ‰çš„ Nuxt é¡¹ç›®æ–‡ä»¶å¤åˆ¶åˆ° Astro é¡¹ç›®ä¸­çš„ `src` æ–‡ä»¶å¤¹ä¹‹å¤–çš„å•ç‹¬æ–‡ä»¶å¤¹ä¸­ã€‚

:::tip
è®¿é—® https://astro.new ä»¥è·å–å®˜æ–¹å¯åŠ¨æ¨¡æ¿çš„å®Œæ•´åˆ—è¡¨ï¼Œä»¥åŠèƒ½åœ¨ StackBlitzã€CodeSandbox æˆ– Gitpod ä¸­æ‰“å¼€æ–°é¡¹ç›®çš„é“¾æ¥ã€‚
:::

### å®‰è£…é›†æˆï¼ˆå¯é€‰ï¼‰

å®‰è£…ä¸€äº› [Astro çš„å¯é€‰é›†æˆ](/zh-cn/guides/integrations-guide/) åœ¨å°† Nuxt é¡¹ç›®è½¬æ¢ä¸º Astro æ—¶å¾ˆæœ‰ç”¨ï¼š

- **@astrojs/vue**ï¼šä½ å¯ä»¥åœ¨æ–°çš„ Astro ç½‘ç«™ä¸­é‡ç”¨ä¸€äº›ç°æœ‰çš„ Vue UI ç»„ä»¶ï¼Œæˆ–è€…ç»§ç»­ä½¿ç”¨ Vue ç»„ä»¶ç¼–å†™ã€‚

- **@astrojs/mdx**ï¼šä»ä½ çš„ Nuxt é¡¹ç›®å°†ç°æœ‰çš„ MDX æ–‡ä»¶å¸¦å…¥ï¼Œæˆ–è€…åœ¨æ–°çš„ Astro ç½‘ç«™ä¸­ä½¿ç”¨ MDXã€‚

### å°†ä½ çš„æºç æ”¾å…¥ `src` ä¸­

1. å°† Nuxt çš„ `static/` æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ **ç§»åŠ¨** åˆ° `public/` ä¸­ã€‚
   
    Astro ä½¿ç”¨ `public/` å­˜æ”¾é™æ€èµ„æºï¼Œç±»ä¼¼ Nuxt çš„ `static/` æ–‡ä»¶å¤¹ã€‚

2. **å¤åˆ¶ æˆ– ç§»åŠ¨**  Nuxt çš„å…¶ä»–æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ `pages`ï¼Œ`layouts` ç­‰ï¼‰åˆ° Astro çš„ `src/` æ–‡ä»¶å¤¹ä¸­ã€‚

    å’Œ Nuxt ä¸€æ ·ï¼ŒAstro çš„ `src/pages/` æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å¤¹ï¼Œç”¨äºåŸºäºæ–‡ä»¶çš„è·¯ç”±ã€‚æ‰€æœ‰å…¶ä»–æ–‡ä»¶å¤¹éƒ½æ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥ä»¥ä»»ä½•æ–¹å¼ç»„ç»‡ `src/` æ–‡ä»¶å¤¹çš„å†…å®¹ã€‚Astro é¡¹ç›®ä¸­çš„å…¶ä»–å¸¸è§æ–‡ä»¶å¤¹åŒ…æ‹¬ `src/layouts/`ï¼Œ`src/components`ï¼Œ `src/styles`ï¼Œ`src/scripts`ã€‚

### å°† Vue SFC é¡µé¢è½¬æ¢ä¸º `.astro` æ–‡ä»¶

è¿™é‡Œæœ‰ä¸€äº›å°† Nuxt çš„ `.vue` ç»„ä»¶è½¬æ¢ä¸º `.astro` ç»„ä»¶çš„å»ºè®®ï¼š

1. ä½¿ç”¨ç°æœ‰ NuxtJS ç»„ä»¶çš„ `<template>` ä½œä¸ºä½ çš„ HTML æ¨¡æ¿çš„åŸºç¡€ã€‚

2. å°†ä»»æ„çš„ [Nuxt æˆ– Vue è¯­æ³•æ›´æ”¹ä¸º Astro](#å‚è€ƒå°†-nuxtjs-è¯­æ³•è½¬æ¢åˆ°-astro) æˆ–è½¬æ¢ä¸º HTML Web æ ‡å‡†ã€‚åŒ…æ‹¬`<NextLink>`ï¼Œ`:class`ï¼Œ`{{variable}}`å’Œ `v-if`ç­‰ã€‚

3. å°† `<script>` ä¸­çš„ JavaScript ä»£ç ç§»åˆ°ä¸€ä¸ª â€œä»£ç å—â€ (`---`) ä¸­ã€‚å°†ç»„ä»¶çš„æ•°æ®å±æ€§è½¬æ¢ä¸ºæœåŠ¡å™¨ç«¯ JavaScript - å‚è§ [Nuxt æ•°æ®è·å–åˆ° Astro ä¸­](#nuxt-æ•°æ®è·å–è½¬æ¢åˆ°-astro)ã€‚

4. ä½¿ç”¨ `Astro.props` æ¥è®¿é—®ä¹‹å‰ä¼ é€’ç»™ Vue ç»„ä»¶çš„å…¶ä»– propsã€‚

5. å†³å®šæ˜¯å¦éœ€è¦å°†å¯¼å…¥çš„ç»„ä»¶ä¹Ÿè½¬æ¢ä¸º Astroã€‚å®‰è£…äº†å®˜æ–¹çš„é›†æˆåï¼Œä½ å¯ä»¥ [åœ¨ Astro æ–‡ä»¶ä¸­ä½¿ç”¨ç°æœ‰çš„ Vue ç»„ä»¶](/zh-cn/guides/integrations-guide/vue/)ã€‚ä½†æ˜¯ï¼Œä½ å¯èƒ½æƒ³æŠŠå®ƒä»¬è½¬æ¢æˆ Astroï¼Œå°¤å…¶æ˜¯å¦‚æœå®ƒä»¬ä¸éœ€è¦ä»»ä½•äº¤äº’çš„æƒ…å†µï¼

å‚è§ [ä» Nuxt åº”ç”¨é€æ­¥è½¬æ¢çš„ç¤ºä¾‹](#æŒ‡å¯¼ç¤ºä¾‹è¯·æŸ¥çœ‹ä»¥ä¸‹æ­¥éª¤)ã€‚

#### æ¯”è¾ƒï¼šVue å’Œ Astro

æ¯”è¾ƒä»¥ä¸‹ Nuxt ç»„ä»¶å’Œå¯¹åº”çš„ Astro ç»„ä»¶ï¼š

<AstroVueTabs>
  <Fragment slot="vue">
    ```vue title="Page.vue"
    <template>
      <div>
        <p v-if="message === 'Not found'">
          The repository you're looking up doesn't exist
        </p>
        <div v-else>
          <Header/>
          <p class="banner">Astro has {{stars}} ğŸ§‘â€ğŸš€</p>
          <Footer />
        </div>
      </div>
    </template>

    <script>
    import Vue from 'vue'
    
    export default Vue.extend({
      name: 'IndexPage',
      async asyncData() {
        const res = await fetch('https://api.github.com/repos/withastro/astro')
        const json = await res.json();
        return {
          message: json.message,
          stars: json.stargazers_count || 0,
        };
      }
    });
    </script>
    
    <style scoped>
    .banner {
      background-color: #f4f4f4;
      padding: 1em 1.5em;
      text-align: center;
      margin-bottom: 1em;
    }
    <style>
    ```
  </Fragment>
  <Fragment slot="astro">
    ```astro title="Page.astro"
    ---
    import Header from "./header";
    import Footer from './footer';
    import "./layout.css";

    const res = await fetch('https://api.github.com/repos/withastro/astro')
    const json = await res.json()
    const message = json.message;
    const stars = json.stargazers_count || 0;
    ---
    
    {message === "Not Found" ? 
          <p>The repository you're looking up doesn't exist</p> :
          <>
                <Header />
                <p class="banner">Astro has {stars} ğŸ§‘â€ğŸš€</p>
                <Footer />
            </> 
    }
    
    <style>
      .banner {
        background-color: #f4f4f4; 
        padding: 1em 1.5em;
        text-align: center;
        margin-bottom: 1em;
      }
    <style>
    ```
  </Fragment>
</AstroVueTabs>

### è¿ç§»å¸ƒå±€æ–‡ä»¶

ä½ å¯èƒ½ä¼šå‘ç°é¦–å…ˆå°†ä½ çš„ Nuxt å¸ƒå±€å’Œæ¨¡æ¿è½¬æ¢ä¸º [Astro å¸ƒå±€ç»„ä»¶](/zh-cn/core-concepts/layouts/) ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ 

Astro ä¸­çš„æ¯ä¸ªé¡µé¢éƒ½è¦æ±‚æ˜¾å¼å­˜åœ¨ `<html>`ï¼Œ`<head>` å’Œ `<body>` æ ‡ç­¾ã€‚ä½ çš„ Nuxt `layout.vue` å’Œæ¨¡æ¿ä¸ä¼šåŒ…æ‹¬è¿™äº›ã€‚

è¯·æ³¨æ„æ ‡å‡†çš„ HTML æ¨¡æ¿ï¼Œä»¥åŠç›´æ¥è®¿é—® `<head>`ï¼š

```astro title="src/layouts/Layout.astro"
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Astro</title>
  </head>
  <body>
    <!-- ç”¨ä½ ç°æœ‰çš„å¸ƒå±€æ¨¡æ¿åŒ…è£… slot å…ƒç´  -->
    <slot />
  </body>
</html>
```

ä½ å¯èƒ½è¿˜å¸Œæœ›é‡ç”¨æ¥è‡ª [ä½ çš„ Nuxt é¡µé¢çš„ `head` å±æ€§](https://nuxtjs.org/docs/configuration-glossary/configuration-head/#the-head-property) ä»¥åŒ…å«é¢å¤–çš„ç«™ç‚¹å…ƒæ•°æ®ã€‚è¯·æ³¨æ„ï¼ŒAstro æ—¢ä¸ä½¿ç”¨ `vue-meta` ä¹Ÿä¸ä½¿ç”¨ç»„ä»¶çš„ `head` å±æ€§ï¼Œè€Œæ˜¯ç›´æ¥åˆ›å»º `<head>` ã€‚ä½ å¯ä»¥åœ¨ `<head>` å†…éƒ¨å¯¼å…¥å’Œä½¿ç”¨ç»„ä»¶ï¼Œä»¥å°†é¡µé¢å†…å®¹åˆ†ç¦»å’Œç»„ç»‡èµ·æ¥ã€‚

### è¿ç§»é¡µé¢å’Œæ–‡ç« 

åœ¨ NuxtJS ä¸­ï¼Œä½ çš„ [é¡µé¢](/zh-cn/core-concepts/astro-pages/) ä½äº `/pages`ã€‚åœ¨ Astro ä¸­ï¼Œ**é¡µé¢çš„æ‰€æœ‰å†…å®¹å¿…é¡»ä½äº `src/pages` æˆ– `src/content`** ä¸­ã€‚

#### Vue é¡µé¢

ä½ ç°æœ‰çš„ Nuxt Vue (`.vue`) é¡µé¢éœ€è¦ [ä» Vue æ–‡ä»¶è½¬æ¢ä¸º `.astro` é¡µé¢](#å°†-vue-sfc-é¡µé¢è½¬æ¢ä¸º-astro-æ–‡ä»¶)ã€‚ä½ ä¸èƒ½åœ¨ Astro ä¸­ç›´æ¥ä½¿ç”¨ç°æœ‰çš„ Vue é¡µé¢æ–‡ä»¶ã€‚

è¿™äº› [`.astro` é¡µé¢](/zh-cn/core-concepts/astro-pages/) å¿…é¡»ä½äº  `src/pages/` ä¸­ï¼Œå®ƒä»¬çš„æ–‡ä»¶è·¯å¾„ä¼šè‡ªåŠ¨ä¸ºå®ƒä»¬ç”Ÿæˆé¡µé¢è·¯ç”±ã€‚

##### åŠ¨æ€æ–‡ä»¶è·¯å¾„å‘½å

åœ¨ Nuxt ä¸­ï¼Œä½ çš„åŠ¨æ€é¡µé¢ä½¿ç”¨ä¸‹åˆ’çº¿æ¥è¡¨ç¤ºåŠ¨æ€é¡µé¢å±æ€§ï¼Œç„¶åè¯¥å±æ€§å°†ç”¨äºé¡µé¢ç”Ÿæˆï¼š

<FileTree>
- pages/
  - pokemon/
    - _name.vue
  - index.vue
- nuxt.config.js
</FileTree>

è¦è½¬æ¢åˆ° Astroï¼Œè¯·å°†è¯¥åŠ¨æ€è·¯å¾„å±æ€§ï¼ˆä¾‹å¦‚ `_name.vue`ï¼‰ç”¨ä¸€å¯¹æ–¹æ‹¬å·åŒ…è£¹èµ·æ¥ï¼ˆä¾‹å¦‚ `[name].astro`ï¼‰ï¼š

<FileTree>
- src/
  - pages/
    - pokemon/
      - [name].astro
    - index.astro
- astro.config.mjs
</FileTree>


#### Markdown å’Œ MDX é¡µé¢

Astro å†…ç½®æ”¯æŒ Markdown å’Œå¯é€‰çš„ MDX é›†æˆã€‚ä½ å¯ä»¥é‡ç”¨ä»»ä½•ç°æœ‰çš„ Markdown ä»¥åŠ MDX é¡µé¢ï¼Œä½†å®ƒä»¬å¯èƒ½éœ€è¦å¯¹å‰è¨€è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œä¾‹å¦‚æ·»åŠ  [Astro çš„ç‰¹æ®Š `layout` å‰è¨€å±æ€§](/zh-cn/core-concepts/layouts/#markdownmdx-å¸ƒå±€)ã€‚

ä½ ä¸å†éœ€è¦ä¸ºæ¯ä¸ª Markdown ç”Ÿæˆçš„è·¯ç”±æ‰‹åŠ¨åˆ›å»ºé¡µé¢ï¼Œæˆ–ä½¿ç”¨åƒ `@nuxt/content`è¿™æ ·çš„å¤–éƒ¨åŒ…ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥æ”¾åœ¨ `src/pages/`ä¸­ï¼Œä»¥åˆ©ç”¨è‡ªåŠ¨ç”Ÿæˆçš„åŸºäºæ–‡ä»¶çš„è·¯ç”±ã€‚

ä½œä¸º [å†…å®¹é›†åˆ](/zh-cn/guides/content-collections/) çš„ä¸€éƒ¨åˆ†ï¼ŒMarkdown å’Œ MDX æ–‡ä»¶å°†ä½äº `src/content/` æ–‡ä»¶å¤¹å†…ï¼Œå¹¶ä¸”å°†ä¼š [åŠ¨æ€ç”Ÿæˆç”Ÿæˆè¿™äº›é¡µé¢](/zh-cn/guides/content-collections/#ä»å†…å®¹ç”Ÿæˆè·¯ç”±)ã€‚

### è¿ç§»æµ‹è¯•

ç”±äº Astro è¾“å‡ºçš„æ˜¯åŸå§‹çš„ HTML ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨æ„å»ºæ­¥éª¤çš„è¾“å‡ºæ¥ç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•ã€‚å¦‚æœä½ èƒ½å¤ŸåŒ¹é… Nuxt ç«™ç‚¹çš„æ ‡è®°ï¼Œé‚£ä¹ˆä»¥å‰ç¼–å†™çš„ä»»ä½•ç«¯åˆ°ç«¯æµ‹è¯•éƒ½æ˜¯å¼€ç®±å³ç”¨çš„ã€‚åœ¨ Astro ä¸­ï¼Œä½ å¯ä»¥å¯¼å…¥å¹¶ä½¿ç”¨æµ‹è¯•åº“ï¼Œä¾‹å¦‚ Jest å’Œ Vue Testing Libraryï¼Œæ¥æµ‹è¯•ä½ çš„ Vue ç»„ä»¶ã€‚

è¯·å‚é˜… Astro çš„[æµ‹è¯•æŒ‡å—](/zh-cn/guides/testing/) æ¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

## å‚è€ƒï¼šå°† NuxtJS è¯­æ³•è½¬æ¢åˆ° Astro

### Nuxt æœ¬åœ°å˜é‡è½¬æ¢åˆ° Astro

è¦åœ¨ Astro ç»„ä»¶çš„ HTML ä¸­ä½¿ç”¨æœ¬åœ°å˜é‡ï¼Œè¯·å°†ä¸¤ç»„å¤§æ‹¬å·æ›´æ”¹ä¸ºä¸€ç»„å¤§æ‹¬å·ï¼š

```astro title="src/components/Component.astro" del={3} add={4}
---
const message = "Hello!"
---
<p>{{message}}</p>
<p>{message}</p>
```

### Nuxt å±æ€§ä¼ é€’è½¬æ¢åˆ° Astro

è¦åœ¨ Astro ç»„ä»¶ä¸­ç»‘å®šå±æ€§æˆ–ç»„ä»¶å±æ€§ï¼Œè¯·å°†æ­¤è¯­æ³•æ›´æ”¹ä¸ºä»¥ä¸‹æ–¹å¼ï¼š

```astro title="src/components/Component.astro" del={3-7} ins={9-11}
---
---
<p v-bind:aria-label="message">...</p>
<!-- æˆ–è€…æ˜¯è¿™æ · -->
<p :aria-label="message">...</p>
<!-- ä¹Ÿæ”¯æŒç»„ä»¶çš„ props å±æ€§ -->
<Header title="Page"/>

<p aria-label={message}>...</p>
<!-- ä¹Ÿæ”¯æŒç»„ä»¶çš„ props å±æ€§ -->
<Header title={"Page"}/>
```

### Nuxt çš„é“¾æ¥è½¬æ¢åˆ° Astro

å°†ä»»ä½• Nuxt çš„ `<NuxtLink to="">` ç»„ä»¶è½¬æ¢ä¸º HTML çš„ `<a href="">` æ ‡ç­¾

```astro del={1} ins={2}
<NuxtLink to="/blog">Blog</Link>
<a href="/blog">Blog</a>
```

Astro ä¸ä½¿ç”¨ä»»ä½•ç‰¹æ®Šçš„é“¾æ¥ç»„ä»¶ï¼Œä½†ä½ å¯ä»¥æ„å»ºè‡ªå®šä¹‰é“¾æ¥ç»„ä»¶ã€‚ç„¶åï¼Œå¯ä»¥åƒå¯¼å…¥å’Œä½¿ç”¨ä»»ä½•å…¶ä»–ç»„ä»¶ä¸€æ ·å¯¼å…¥å¹¶ä½¿ç”¨æ­¤ `<Link>`ã€‚

```astro title="src/components/Link.astro"
---
const { to } = Astro.props
---
<a href={to}><slot /></a>
```

### Nuxt å¯¼å…¥è½¬æ¢åˆ° Astro

å¦‚æœ‰å¿…è¦ï¼Œè¯·æ›´æ–°ä»»ä½• [æ–‡ä»¶å¯¼å…¥](/zh-cn/guides/imports/) ç¡®ä¿å¼•ç”¨çš„æ˜¯ç²¾ç¡®çš„ç›¸å¯¹æ–‡ä»¶è·¯å¾„ã€‚è¿™å¯ä»¥é€šè¿‡ [å¯¼å…¥åˆ«å](/zh-cn/guides/typescript/#å¯¼å…¥åˆ«å) æˆ–é€šè¿‡å®Œæ•´ç¼–å†™ç›¸å¯¹è·¯å¾„æ¥å®Œæˆã€‚

è¯·æ³¨æ„ï¼Œå¿…é¡»ä½¿ç”¨å®Œæ•´çš„æ–‡ä»¶æ‰©å±•åå¯¼å…¥`.astro` å’Œå…¶ä»–å‡ ç§æ–‡ä»¶ç±»å‹ã€‚

```astro title="src/pages/authors/Fred.astro" ".astro"
---
import Card from `../../components/Card.astro`;
---
<Card />
```

### Nuxt åŠ¨æ€é¡µé¢ç”Ÿæˆè½¬æ¢åˆ° Astro

åœ¨ Nuxt ä¸­ï¼Œè¦ç”ŸæˆåŠ¨æ€é¡µé¢ï¼Œä½ å¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š

- ä½¿ç”¨ SSR ã€‚
- [åœ¨ `nuxt.config.js` ä¸­ä½¿ç”¨ `generate` å‡½æ•°](https://nuxtjs.org/docs/configuration-glossary/configuration-generate/) æ¥å®šä¹‰æ‰€æœ‰å¯èƒ½çš„é™æ€è·¯ç”±ã€‚

åœ¨ Astro ä¸­ï¼Œä½ åŒæ ·æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š
- [ä½¿ç”¨ SSR](/zh-cn/guides/server-side-rendering/).
- åœ¨ Astro é¡µé¢çš„å‰è¨€ä¸­å¯¼å‡º `getStaticPaths()` å‡½æ•°ï¼Œä»¥å‘Šè¯‰æ¡†æ¶ [éœ€è¦åŠ¨æ€ç”Ÿæˆçš„é™æ€è·¯ç”±](/zh-cn/core-concepts/routing/#åŠ¨æ€è·¯ç”±)ã€‚

#### å°† Nuxt ä¸­çš„ `generate` å‡½æ•°è½¬æ¢ä¸º Astro ä¸­çš„ `getStaticPaths` å‡½æ•°ã€‚

ä¸ºäº†ç”Ÿæˆå¤šä¸ªé¡µé¢ï¼Œå°†ä½ çš„ `nuxt.config.js` ä¸­ç”¨äºåˆ›å»ºè·¯ç”±çš„å‡½æ•°ç›´æ¥æ›¿æ¢ä¸ºåœ¨åŠ¨æ€è·¯ç”±é¡µé¢å†…ä½¿ç”¨ `getStaticPaths()` ï¼š

```javascript title="nuxt.config.js"
{
	// ...
    generate: {
        async routes() {
          // éœ€è¦ä½¿ç”¨ axios ï¼Œé™¤éä½ ä½¿ç”¨çš„æ˜¯ Node.js 18 ç‰ˆæœ¬ã€‚
          const res = await axios.get("https://pokeapi.co/api/v2/pokemon?limit=151")
          const pokemons = res.data.results;
          return pokemons.map(pokemon => {
            return '/pokemon/' + pokemon.name
          })
        }
      }
}
```

```astro title="src/pages/pokemon/[name].astro"
---
export const getStaticPaths = async () => {
  const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
  const resJson = await res.json();
  const pokemons = resJson.results;
  return pokemons.map(({ name }) => ({
      params: { name },
    }))
}
// ...
---
<!-- è¿™é‡Œæ˜¯ä½ çš„æ¨¡æ¿ä»£ç  -->
```

### Nuxt æ•°æ®è·å–è½¬æ¢åˆ° Astro

Nuxt æœ‰ä¸¤ç§è·å–æœåŠ¡å™¨ç«¯æ•°æ®çš„æ–¹æ³•ï¼š

- [`asyncData` options API](https://nuxtjs.org/docs/features/data-fetching/#async-data)
- [`fetch` hook](https://nuxtjs.org/docs/features/data-fetching/#the-fetch-hook)

åœ¨ Astro ä¸­ï¼Œåœ¨é¡µé¢çš„ä»£ç å—ä¸­è·å–æ•°æ®ã€‚

è¿ç§»ä»¥ä¸‹å†…å®¹ï¼š

```vue title="pages/index.vue"
{
  // ...
  async asyncData() {
    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
    const resJson = await res.json();
    const pokemons = resJson.results;
    return {
      pokemons,
    }
  },
}
```

è½¬æ¢ä¸ºä¸€ä¸ªæ²¡æœ‰åŒ…è£…å‡½æ•°çš„ä»£ç å—ï¼š

```astro title="src/pages/index.astro"
---
const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
const resJson = await res.json();
const pokemons = resJson.results;
---

<!-- è¿™é‡Œæ˜¯ä½ çš„æ¨¡æ¿ä»£ç  -->
```

### Nuxt æ ·å¼è½¬æ¢åˆ° Astro

Nuxt åˆ©ç”¨ Vue çš„ç»„ä»¶æ ·å¼æ¥ç”Ÿæˆé¡µé¢æ ·å¼ã€‚

```vue title="pages/index.vue"
<template>
	<!-- è¿™é‡Œæ˜¯ä½ çš„æ¨¡æ¿ä»£ç  -->
</template>

<script>
	// ä½ çš„æœåŠ¡çš„é€»è¾‘ä»£ç 
</script>

<style scoped>
    .class {
        color: red;
    }
</style>
```

ç±»ä¼¼åœ°ï¼Œåœ¨ Astro ä¸­ï¼Œä½ å¯ä»¥åœ¨é¡µé¢çš„æ¨¡æ¿ä¸­æ·»åŠ ä¸€ä¸ª `<style>` å…ƒç´ æ¥ä¸ºç»„ä»¶æä¾›ä½œç”¨åŸŸæ ·å¼ã€‚

```astro title="src/pages/index.vue"
---
// ä½ çš„æœåŠ¡çš„é€»è¾‘ä»£ç 
---

<style>
    .class {
        color: red;
    }
</style>
```

#### å…¨å±€æ ·å¼

Astro çš„ `<style>`  æ ‡ç­¾æ˜¯é»˜è®¤å…·æœ‰ `scoped` å±æ€§çš„ã€‚æƒ³è¦å°† `<style>` æ ‡ç­¾è½¬æ¢ä¸ºå…¨å±€æ ·å¼ï¼Œéœ€è¦ä½¿ç”¨ `is:global` æ¥æ ‡è®°ï¼š

```astro title="src/pages/index.vue"
<style is:global> 
	p {
		color: red;
	}
</style>
```



#### é¢„å¤„ç†å™¨æ”¯æŒ

å°†å®ƒä»¬ä½œä¸ºå¼€å‘ä¾èµ–é¡¹å®‰è£…ï¼Œ[Astro æ”¯æŒæœ€æµè¡Œçš„ CSS é¢„å¤„ç†å™¨](/zh-cn/guides/styling/#css-é¢„å¤„ç†å™¨) ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨SCSSï¼š

```shell
npm install -D sass
```

ä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨ `.scss` æˆ– `.sass` æ ·å¼ï¼Œæ— éœ€è¿›è¡Œä¿®æ”¹ã€‚

```astro title="src/layouts/Layout.astro"
<p>Hello, world</p>
<style lang="scss">
p {
   color: black;
   
   &:hover {
       color: red;
   }
}
</style>
```

æœ‰å…³ Astro ä¸­çš„æ ·å¼è®¾ç½®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… [æ ·å¼æŒ‡å—](/zh-cn/guides/styling/)ã€‚

### Nuxt å›¾ç‰‡æ’ä»¶è¿ç§»åˆ° Astro

æ ¹æ®æƒ…å†µåœ¨ä½ çš„ Vue ç»„ä»¶ä¸­å°†ä»»ä½• [Nuxt çš„`<nuxt-img/>` æˆ–è€… `<nuxt-picture/>` ç»„ä»¶](https://image.nuxtjs.org/components/nuxt-img) è½¬æ¢ä¸º [Astro è‡ªå·±çš„å›¾åƒé›†æˆç»„ä»¶](/zh-cn/guides/images/#image--astroassets) æˆ–è€…è½¬åŒ–æˆ [æ ‡å‡†çš„ HTML `<img>` æ ‡ç­¾](/zh-cn/guides/images/#æ¡†æ¶ç»„ä»¶ä¸­çš„å›¾åƒ) æˆ–è€… `<picture>` æ ‡ç­¾ã€‚

Astro çš„ `<Image />` ç»„ä»¶åªèƒ½åœ¨ `.astro` å’Œ `.mdx` æ–‡ä»¶ä¸­å·¥ä½œã€‚æŸ¥çœ‹è¯¥ç»„ä»¶å¯ç”¨çš„[å®Œæ•´ç»„ä»¶å±æ€§åˆ—è¡¨](/zh-cn/guides/images/#å±æ€§)ï¼Œå¹¶æ³¨æ„å®ƒä¸ Nuxt çš„å±æ€§æœ‰ä¸€äº›ä¸åŒã€‚

```astro title="src/pages/index.astro"
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';
---
<Image src={rocket} alt="å¤ªç©ºä¸­çš„ç«ç®­é£èˆ¹ã€‚" />
<img src={rocket.src} alt="å¤ªç©ºä¸­çš„ç«ç®­é£èˆ¹ã€‚">
```

åœ¨ä½ çš„ Astro åº”ç”¨ä¸­çš„ Vue (`.vue`) ç»„ä»¶ä¸­ï¼Œä½¿ç”¨æ ‡å‡†çš„ JSX å›¾åƒè¯­æ³• (`<img />`)ã€‚Astro ä¸ä¼šå¯¹è¿™äº›å›¾åƒè¿›è¡Œä¼˜åŒ–ï¼Œä½†ä½ å¯ä»¥å®‰è£…å’Œä½¿ç”¨ NPM åŒ…ä»¥è·å¾—æ›´å¤§çš„çµæ´»æ€§ã€‚

ä½ å¯ä»¥åœ¨å›¾åƒæŒ‡å—ä¸­äº†è§£æ›´å¤šå…³äº [åœ¨ Astro ä¸­ä½¿ç”¨å›¾åƒ](/zh-cn/guides/images/) çš„ä¿¡æ¯ã€‚

## æŒ‡å¯¼ç¤ºä¾‹ï¼šè¯·æŸ¥çœ‹ä»¥ä¸‹æ­¥éª¤ï¼š

è¿™é‡Œæœ‰ä¸€ä¸ªå°† Nuxt çš„ PokÃ©mon æ•°æ®è·å–è½¬æ¢ä¸º Astro çš„ç¤ºä¾‹ã€‚

`pages/index.vue` ä½¿ç”¨ [the REST PokÃ©API](https://pokeapi.co/) è·å–å¹¶æ˜¾ç¤ºå‰ 151 ä¸ª PokÃ©mon çš„åˆ—è¡¨ã€‚

åœ¨ `src/pages/index.astro` ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ `fetch()` å–ä»£ `asyncData()` æ¥é‡æ–°åˆ›å»ºè¿™ä¸ªåŠŸèƒ½ã€‚

1. è¯†åˆ« Vue SFCï¼ˆå•æ–‡ä»¶ç»„ä»¶ï¼‰ä¸­çš„ `<template>` å’Œ `<style>` éƒ¨åˆ†ã€‚

```jsx title="pages/index.vue" {2-13,47-55}
<template>
  <ul class="plain-list pokeList">
            <li v-for="pokemon of pokemons" class="pokemonListItem" :key="pokemon.name">
                <NuxtLink class="pokemonContainer" :to="`/pokemon/${pokemon.name}`">
                    <p class="pokemonId">No. {{pokemon.id}}</p>
                    <img
                      class="pokemonImage"
                      :src="`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`" 
                      :alt="`${pokemon.name} picture`"/>
                    <h2 class="pokemonName">{{pokemon.name}}</h2>
                </NuxtLink>
            </li>
    </ul>
</template>

<script>
import Vue from 'vue'
export default Vue.extend({
  name: 'IndexPage',
  layout: 'default',
  async asyncData() {
    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
    const resJson = await res.json();
    const pokemons = resJson.results.map(pokemon => {
        const name = pokemon.name;
        // https://pokeapi.co/api/v2/pokemon/1/
        const url = pokemon.url;
        const id = url.split("/")[url.split("/").length - 2];
        return {
            name,
            url,
            id
        }
    });
    return {
      pokemons,
    }
  },
  head() {
    return {
      title: "Pokedex: Generation 1"
    }
  }
});
</script>

<style scoped>
.pokeList {
  display: grid;
  grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
  gap: 1rem;
}

/* ... */
</style>
```

2. åˆ›å»º `src/pages/index.astro`

ä½¿ç”¨ Nuxt SFCï¼ˆå•æ–‡ä»¶ç»„ä»¶ï¼‰çš„ `<template>` å’Œ `<style>` æ ‡ç­¾ã€‚å°†ä»»ä½• Nuxt æˆ– Vue è¯­æ³•è½¬æ¢ä¸º Astroã€‚

è¯·æ³¨æ„ï¼š

- `<template>` å·²ç»è¢«ç§»é™¤

- `<style>` å…ƒç´ çš„ `scoped` å±æ€§è¢«ç§»é™¤

- `v-for` å˜ä¸º `.map`

- `:attr="val"` å˜ä¸º `attr={val}`

- `<NuxtLink>` å˜ä¸º `<a>`

- åœ¨ Astro æ¨¡æ¿ä¸­ä¸éœ€è¦ä½¿ç”¨ `<> </>` ç‰‡æ®µ

```astro title="src/pages/index.astro" ".map" "</a>" "<a" "key={" "}>" "href={" " {pokemon.id}" "} alt={" "src={" "}/>" ">{pokemon.name}<"
---
---
<ul class="plain-list pokeList">
    {pokemons.map((pokemon) => (
        <li class="pokemonListItem" key={pokemon.name}>
            <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                <p class="pokemonId">No. {pokemon.id}</p>
                <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                <h2 class="pokemonName">{pokemon.name}</h2>
            </a>
        </li>
    ))}
</ul>

<style>
.pokeList {
  display: grid;
  grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
  gap: 1rem;
}

/* ... */
</style>
```

3. æ·»åŠ ä»»ä½•å¿…è¦çš„å¯¼å…¥ã€å±æ€§å’Œ JavaScript ä»£ç ã€‚

è¯·æ³¨æ„ï¼š

- `asyncData` å‡½æ•°ä¸å†éœ€è¦ã€‚ä½ èƒ½å¤Ÿç›´æ¥åœ¨ä»£ç å—ä¸­è·å– API æ•°æ®ã€‚
- å¼•å…¥ `<Layout>` ç»„ä»¶ï¼Œå¹¶å°†å…¶ç”¨ä½œé¡µé¢æ¨¡æ¿çš„åŒ…è£…ã€‚
  - æˆ‘ä»¬å°† Nuxt çš„ `head()` æ–¹æ³•ä¼ é€’ç»™ `<Layout>` ç»„ä»¶ï¼Œè¯¥ç»„ä»¶è¢«ä¼ é€’ç»™  `<title>` å…ƒç´ ä½œä¸ºå±æ€§ã€‚

```astro ins={2,4-16,19,31} title="src/pages/index.astro"
---
import Layout from '../layouts/layout.astro';

const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151");
const resJson = await res.json();
const pokemons = resJson.results.map(pokemon => {
    const name = pokemon.name;
    // https://pokeapi.co/api/v2/pokemon/1/
    const url = pokemon.url;
    const id = url.split("/")[url.split("/").length - 2];
    return {
        name,
        url,
        id
    }
});
---

<Layout title="Pokedex: Generation 1">
  <ul class="plain-list pokeList">
      {pokemons.map((pokemon) => (
          <li class="pokemonListItem" key={pokemon.name}>
              <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                  <p class="pokemonId">No. {pokemon.id}</p>
                  <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                  <h2 class="pokemonName">{pokemon.name}</h2>
              </a>
          </li>
      ))}
  </ul>
</Layout>

<style>
.pokeList {
  display: grid;
  grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
  gap: 1rem;
}

/* ... */
</style>
```

## ç¤¾åŒºèµ„æº

- åšæ–‡ï¼š [ä» Nuxt åˆ° Astro - ä½¿ç”¨ Astro è¿›è¡Œé‡æ„](https://dev.to/lindsaykwardell/from-nuxt-to-astro-rebuilding-with-astro-5ann)
