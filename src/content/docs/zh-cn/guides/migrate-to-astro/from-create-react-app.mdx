---
title: ä» Create React Appï¼ˆCRAï¼‰è¿ç§»
description: å°†ç°æœ‰çš„ Create React App é¡¹ç›®è¿ç§»åˆ° Astro çš„æç¤º
type: migration
stub: true
framework: Create React App
i18nReady: true
---
import AstroJSXTabs from '~/components/tabs/AstroJSXTabs.astro'
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'
import FileTree from '~/components/FileTree.astro'

Astro çš„ [React é›†æˆ](/zh-cn/guides/integrations-guide/react/) æ”¯æŒ[åœ¨ Astro ç»„ä»¶ä¸­ä½¿ç”¨ React ç»„ä»¶](/zh-cn/core-concepts/framework-components/)ï¼Œç”šè‡³åŒ…æ‹¬åƒ Create React App (CRA) è¿™æ ·çš„æ•´ä¸ª React åº”ç”¨ç¨‹åºï¼

```astro title="src/pages/index.astro"
---
// å¯¼å…¥ä½ çš„æ ¹åº”ç”¨ç»„ä»¶
import App from '../cra-project/App.jsx'
---
<!-- ä½¿ç”¨å®¢æˆ·ç«¯æŒ‡ä»¤åŠ è½½ä½ çš„åº”ç”¨ -->
<App client:load />
```

å½“ä½ åœ¨å·²å®‰è£… React é›†æˆçš„ Astro é¡¹ç›®ä¸­ç›´æ¥æ·»åŠ åº”ç”¨æ—¶ï¼Œè®¸å¤šåº”ç”¨ç¨‹åºå°†ä¼šä½œä¸ºå®Œæ•´çš„ React åº”ç”¨ç¨‹åºè¿è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿå¯åŠ¨é¡¹ç›®å¹¶åœ¨è¿ç§»åˆ° Astro è¿‡ç¨‹ä¸­ä¿æŒåº”ç”¨åŠŸèƒ½çš„ç»ä½³æ–¹å¼ã€‚

éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ å¯ä»¥é€æ­¥å°†ç»“æ„è½¬æ¢ä¸ºç”± `.astro` å’Œ `.jsx` ç»„ä»¶ç»„åˆè€Œæˆçš„å½¢å¼ã€‚å±Šæ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä½ éœ€è¦çš„ React ç»„ä»¶æ¯”ä½ æƒ³è±¡ä¸­çš„è¦å°‘ï¼

ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®æ¦‚å¿µå’Œè¿ç§»ç­–ç•¥å¸®åŠ©ä½ å…¥é—¨ï¼Œä¹Ÿå¯ä»¥ç»§ç»­é˜…è¯»æˆ‘ä»¬çš„æ–‡æ¡£å’Œå‚ä¸æˆ‘ä»¬çš„ [Discord ç¤¾åŒº](https://astro.build/chat) ä»¥è·å–æ›´å¤šå¸®åŠ©ï¼

## CRA å’Œ Astro çš„å…³é”®ç›¸ä¼¼ä¹‹å¤„

-  [`.astro` æ–‡ä»¶çš„è¯­æ³•ä¸ JSX ç±»ä¼¼](/zh-cn/core-concepts/astro-syntax/#astro-å’Œ-jsx-é—´çš„å·®å¼‚)ã€‚ç¼–å†™ Astro åº”è¯¥ä¼šè®©ä½ æ„Ÿåˆ°ç†Ÿæ‚‰ã€‚

-  Astro ä½¿ç”¨åŸºäºæ–‡ä»¶çš„è·¯ç”±ï¼Œ[å¹¶å…è®¸é€šè¿‡ç‰¹æ®Šçš„æ–‡ä»¶å‘½åæ¥åˆ›å»ºåŠ¨æ€è·¯ç”±](/zh-cn/core-concepts/routing/#åŠ¨æ€è·¯ç”±)ã€‚

-  Astro æ˜¯[åŸºäºç»„ä»¶çš„](/zh-cn/core-concepts/astro-components/)ï¼Œä½ çš„æ ‡è®°ç»“æ„åœ¨è¿ç§»å‰åå°†ç±»ä¼¼ã€‚

-  Astro æä¾›äº† [Reactã€Preact å’Œ Solid çš„å®˜æ–¹é›†æˆ](/zh-cn/guides/integrations-guide/react/)ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ç°æœ‰çš„ JSX ç»„ä»¶ã€‚è¯·æ³¨æ„ï¼Œè¿™æ„å‘³ç€åœ¨ Astro ä¸­ï¼Œè¿™äº›æ–‡ä»¶çš„æ‰©å±•åå¿…é¡»ä¸º `.jsx` æˆ– `.tsx`ã€‚

-  Astro æ”¯æŒ [å®‰è£… NPM åŒ…](/zh-cn/guides/imports/#npm-åŒ…)ï¼ŒåŒ…æ‹¬ React åº“ã€‚è®¸å¤šç°æœ‰çš„ä¾èµ–é¡¹åœ¨ Astro ä¸­å¯ä»¥æ­£å¸¸å·¥ä½œã€‚

## CRA å’Œ Astro çš„å…³é”®å·®å¼‚

åœ¨ç”¨ Astro é‡æ–°æ„å»º CRA ç«™ç‚¹æ—¶ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€äº›é‡è¦çš„å·®å¼‚ï¼š

-  CRA æ˜¯ä¸€ä¸ªä½¿ç”¨ `index.js` ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•çš„å•é¡µé¢åº”ç”¨ç¨‹åºã€‚Astro æ˜¯ä¸€ä¸ªå¤šé¡µé¢ç«™ç‚¹ï¼Œå…¶ä¸­ `index.astro` æ˜¯ä½ çš„é¦–é¡µã€‚

-  [`.astro` ç»„ä»¶](/zh-cn/core-concepts/astro-components/) ä¸æ˜¯ä½œä¸ºè¿”å›é¡µé¢æ¨¡æ¿çš„å¯¼å‡ºå‡½æ•°è€Œè¢«æ„å»ºã€‚ç›¸åï¼Œä½ éœ€è¦å°†ä»£ç åˆ†å‰²åˆ°ä¸€ä¸ªç”¨äº JavaScript çš„â€œä»£ç å›´æ â€å’Œä¸€ä¸ªä¸“é—¨ç”¨äºç”Ÿæˆçš„ HTML çš„â€œbodyâ€ä¸­ã€‚

-  [å†…å®¹ä¼˜å…ˆ](/zh-cn/concepts/why-astro/)ï¼šAstro çš„è®¾è®¡ç›®æ ‡æ˜¯å±•ç¤ºä½ çš„å†…å®¹ï¼Œå¹¶å…è®¸ä½ åœ¨éœ€è¦æ—¶é€‰æ‹©æ€§åœ°å¯ç”¨äº¤äº’ã€‚å¦‚æœç°æœ‰çš„ CRA åº”ç”¨ç”¨äºæ„å»ºé«˜çº§çš„å®¢æˆ·ç«¯äº¤äº’ï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦ä½¿ç”¨é«˜çº§çš„ Astro æŠ€æœ¯æ¥è®© `.astro` ç»„ä»¶æ¥å®Œæˆæ›´å…·æŒ‘æˆ˜æ€§çš„å¤åˆ¶ï¼Œä¾‹å¦‚ä»ªè¡¨æ¿ã€‚

## å°† CRA æ·»åŠ åˆ° Astro

é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨æ–°çš„ Astro é¡¹ç›®ä¸­æ¸²æŸ“ç°æœ‰çš„åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€æ›´æ”¹åº”ç”¨ç¨‹åºçš„ä»£ç ã€‚

### åˆ›å»ºä¸€ä¸ªæ–°çš„ Astro é¡¹ç›®

é€šè¿‡ä½ çš„åŒ…ç®¡ç†å™¨æ¥è¿è¡Œ `create astro` å‘½ä»¤å¯åŠ¨ Astro çš„ CLI å‘å¯¼ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªæ–°çš„ã€Œç©ºã€Astro é¡¹ç›®ã€‚

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npm create astro@latest
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm create astro@latest
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn create astro@latest
  ```
  </Fragment>
</PackageManagerTabs>

### æ·»åŠ é›†æˆå’Œä¾èµ–

é€šè¿‡ä½ çš„åŒ…ç®¡ç†å™¨æ¥è¿è¡Œ `astro add` å‘½ä»¤ä»¥æ·»åŠ  React é›†æˆã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨äº† Tailwind æˆ– MDXï¼Œä½ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤æ·»åŠ å¤šä¸ª Astro é›†æˆï¼š

```sh
# ä½¿ç”¨ NPM
npx astro add react
npx astro add react tailwind mdx
# ä½¿ç”¨ Yarn
yarn astro add react
yarn astro add react tailwind mdx
# ä½¿ç”¨ PNPM
pnpm astro add react
pnpm astro add react tailwind mdx
```

å¦‚æœä½ çš„ CRA éœ€è¦å…¶ä»–ä¾èµ–é¡¹ï¼ˆä¾‹å¦‚ NPM åŒ…ï¼‰ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨å‘½ä»¤è¡Œå•ç‹¬å®‰è£…å®ƒä»¬ï¼Œæˆ–è€…å°†å®ƒä»¬æ‰‹åŠ¨æ·»åŠ åˆ°ä½ çš„æ–° Astro é¡¹ç›®çš„ `package.json` ä¸­ï¼Œç„¶åè¿è¡Œå®‰è£…å‘½ä»¤ã€‚è¯·æ³¨æ„ï¼Œå¹¶éæ‰€æœ‰çš„ React ä¾èµ–é¡¹éƒ½èƒ½åœ¨ Astro ä¸­æ­£å¸¸å·¥ä½œã€‚

### æ·»åŠ ç°æœ‰çš„åº”ç”¨æ–‡ä»¶

å°†ç°æœ‰çš„ Create React App (CRA) é¡¹ç›®çš„æºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ `components`ã€`hooks`ã€`styles` ç­‰ï¼‰å¤åˆ¶åˆ° `src/` å†…çš„ä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¿ç•™å…¶æ–‡ä»¶ç»“æ„ï¼Œä»¥ä½¿ä½ çš„åº”ç”¨ç¨‹åºç»§ç»­æ­£å¸¸å·¥ä½œã€‚è¯·æ³¨æ„ï¼Œæ‰€æœ‰çš„ `.js` æ–‡ä»¶æ‰©å±•åå¿…é¡»é‡å‘½åä¸º `.jsx` æˆ– `.tsx`ã€‚

ä¸è¦åŒ…å«ä»»ä½•é…ç½®æ–‡ä»¶ã€‚ä½ å°†ä½¿ç”¨ Astro è‡ªå·±çš„ `astro.config.mjs`ã€`package.json` å’Œ `tsconfig.json`ã€‚

å°†åº”ç”¨ç¨‹åºçš„ `public/` æ–‡ä»¶å¤¹çš„å†…å®¹ï¼ˆä¾‹å¦‚é™æ€èµ„æºï¼‰ç§»åŠ¨åˆ° Astro çš„ `public/` æ–‡ä»¶å¤¹ä¸­ã€‚

<FileTree>
- public/
  - logo.png
  - favicon.ico
  - ...
- src/
  - cra-project/
    - App.jsx
    - ...
  - pages/
    - index.astro
- astro.config.mjs
- package.json
- tsconfig.json
</FileTree>

### æ¸²æŸ“ä½ çš„åº”ç”¨

åœ¨ `index.astro` çš„ frontmatter éƒ¨åˆ†å¯¼å…¥ä½ çš„åº”ç”¨ç¨‹åºçš„æ ¹ç»„ä»¶ï¼Œç„¶ååœ¨é¡µé¢æ¨¡æ¿ä¸­æ¸²æŸ“ `<App />` ç»„ä»¶ï¼š

```astro title="src/pages/index.astro"
---
import App from '../cra-project/App.jsx'
---
<App client:load/>
```

:::note[å®¢æˆ·ç«¯æŒ‡ä»¤]
ä½ çš„åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨ [å®¢æˆ·ç«¯æŒ‡ä»¤](/zh-cn/reference/directives-reference/#å®¢æˆ·ç«¯æŒ‡ä»¤) æ¥å®ç°äº¤äº’ã€‚åœ¨ä½ é€‰æ‹©å¯ç”¨å®¢æˆ·ç«¯ JavaScript ä¹‹å‰ï¼ŒAstro å°†æŠŠä½ çš„ React åº”ç”¨ç¨‹åºå‘ˆç°ä¸ºé™æ€ HTMLã€‚

è€Œä½¿ç”¨ `client:load` æ¥ç¡®ä¿ä½ çš„åº”ç”¨ç¨‹åºç«‹å³ä»æœåŠ¡å™¨åŠ è½½ï¼Œæˆ–è€…ä½¿ç”¨ `client:only="react"` æ¥è·³è¿‡æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œå®Œå…¨åœ¨å®¢æˆ·ç«¯è¿è¡Œä½ çš„åº”ç”¨ç¨‹åºã€‚
:::

æœ‰å…³è¯¦ç»†ä¿¡æ¯å’Œå¯ç”¨é€‰é¡¹ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„ [é…ç½® Astro](/zh-cn/guides/configuring-astro/) æŒ‡å—ã€‚

## å°† CRA è½¬æ¢ä¸º Astro

é™¤äº† [å°†ç°æœ‰åº”ç”¨ç¨‹åºæ·»åŠ åˆ° Astro](#å°†-cra-æ·»åŠ åˆ°-astro)ï¼Œä½ å¯èƒ½ä¹Ÿå¸Œæœ›å°†åº”ç”¨ç¨‹åºæœ¬èº«ç›´æ¥è½¬æ¢ä¸º Astroï¼

ä½ å¯ä»¥åœ¨ç°æœ‰ç»“æ„çš„åŸºç¡€ä¸Š [ä½¿ç”¨ Astro çš„ HTML æ¨¡æ¿ç»„ä»¶](/zh-cn/core-concepts/astro-components/) ä»¥é‡æ„ç±»ä¼¼çš„åŸºäºç»„ä»¶çš„è®¾è®¡ï¼ŒåŒæ—¶å¯¼å…¥å’ŒåŒ…å«ä¸ªåˆ«çš„ React ç»„ä»¶ï¼ˆå®ƒä»¬æœ¬èº«å¯èƒ½æ˜¯å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼ï¼‰æ¥å®ç°ç¾¤å²›äº¤äº’ã€‚

æ¯ä¸ªè¿ç§»çš„è¿‡ç¨‹éƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½ å¯ä»¥é€æ­¥è¿›è¡Œè¿ç§»ï¼Œè€Œä¸ä¼šå½±å“ä½ æ­£åœ¨å·¥ä½œçš„åº”ç”¨ç¨‹åºã€‚æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥é€æ¸è½¬æ¢æ¯ä¸ªéƒ¨åˆ†ï¼Œä»è€Œä½¿åº”ç”¨ç¨‹åºä¸­è¶Šæ¥è¶Šå¤šçš„éƒ¨åˆ†ç”± Astro ç»„ä»¶é©±åŠ¨ã€‚

å½“ä½ è½¬æ¢ä½ çš„ React åº”ç”¨ç¨‹åºæ—¶ï¼Œä½ éœ€è¦å†³å®šå“ªäº› React ç»„ä»¶ä½ å°†ä¼š [é‡å†™ä¸º Astro ç»„ä»¶](#å°†-jsx-æ–‡ä»¶è½¬æ¢ä¸º-astro-æ–‡ä»¶)ã€‚å”¯ä¸€çš„é™åˆ¶æ˜¯ Astro ç»„ä»¶å¯ä»¥å¯¼å…¥ React ç»„ä»¶ï¼Œä½† React ç»„ä»¶åªèƒ½å¯¼å…¥å…¶ä»– React ç»„ä»¶ï¼š

```astro title="src/pages/static-components.astro" ins={2,7}
---
import MyReactComponent from '../components/MyReactComponent.jsx';
---
<html>
  <body>
    <h1>Use React components directly in Astro!</h1>
    <MyReactComponent />
  </body>
</html>
```

ç›¸æ¯”äºåœ¨ React ç»„ä»¶ä¸­å¯¼å…¥ Astro ç»„ä»¶è€Œè¨€ï¼Œä½ å¯ä»¥åœ¨å•ä¸ª Astro ç»„ä»¶ä¸­ä½¿ç”¨åµŒå¥—çš„ React ç»„ä»¶ã€‚

```astro title="src/pages/nested-components.astro" {2,3,5,8,10}
---
import MyReactSidebar from '../components/MyReactSidebar.jsx';
import MyReactButton from '../components/MyReactButton.jsx';
---
<MyReactSidebar>
  <p>Here is a sidebar with some text and a button.</p>
  <div slot="actions">
    <MyReactButton client:idle />
  </div>
</MyReactSidebar>
```


åœ¨å°†ä½ çš„ CRA é‡æ„ä¸º Astro é¡¹ç›®ä¹‹å‰ï¼Œäº†è§£ [Astro ç¾¤å²›](/zh-cn/concepts/islands/) å’Œ [Astro ç»„ä»¶](/zh-cn/core-concepts/astro-components/) å¯èƒ½ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚


### æ¯”è¾ƒï¼šJSX ä¸ Astro

æ¯”è¾ƒä¸€ä¸‹å¦‚ä¸‹çš„ CRA ç»„ä»¶å’Œç›¸å¯¹åº”çš„ Astro ç»„ä»¶ï¼š

<AstroJSXTabs>
  <Fragment slot="jsx">
    ```jsx title="StarCount.jsx"
    import React, { useState, useEffect } from 'react';
import Header from './Header';
import Footer from './Footer';

const Component = () => {
    const [stars, setStars] = useState(0);
    const [message, setMessage] = useState('');

    useEffect(() => {
        const fetchData = async () => {
            const res = await fetch('https://api.github.com/repos/withastro/astro');
            const json = await res.json();

            setStars(json.stargazers_count || 0);
            setMessage(json.message);
        };

        fetchData();
    }, []);

    return (
        <>
            <Header />
            <p style={{
                backgroundColor: `#f4f4f4`,
                padding: `1em 1.5em`,
                textAlign: `center`,
                marginBottom: `1em`
            }}>Astro has {stars} ğŸ§‘â€ğŸš€</p>
            <Footer />
        </>
    )
};

export default Component;
    ```
  </Fragment>
  <Fragment slot="astro">
    ```astro title="StarCount.astro"
    ---
    import Header from "./Header.astro";
    import Footer from "./Footer.astro";
    import "./layout.css";
    const res = await fetch('https://api.github.com/repos/withastro/astro')
    const json = await res.json()
    const message = json.message;
    const stars = json.stargazers_count || 0;
    ---
    <Header />
    <p class="banner">Astro has {stars} ğŸ§‘â€ğŸš€</p>
    <Footer />
    <style>
      .banner {
        background-color: #f4f4f4; 
        padding: 1em 1.5em;
        text-align: center;
        margin-bottom: 1em;
      }
    <style>
    ```
  </Fragment>
</AstroJSXTabs>


### å°† JSX æ–‡ä»¶è½¬æ¢ä¸º `.astro` æ–‡ä»¶

ä¸‹é¢æ˜¯å°† CRAï¼ˆCreate React Appï¼‰çš„ `.js` ç»„ä»¶è½¬æ¢ä¸º `.astro` ç»„ä»¶çš„ä¸€äº›å»ºè®®ï¼š

1. å°†ç°æœ‰ CRA ç»„ä»¶å‡½æ•°è¿”å›çš„ JSX ä½œä¸º HTML æ¨¡æ¿çš„åŸºç¡€ã€‚

2. å°†ä»»ä½• [CRA æˆ– JSX è¯­æ³•æ›´æ”¹ä¸º Astro](#å‚è€ƒå°†-cra-è¯­æ³•è½¬æ¢ä¸º-astro) æˆ– HTML çš„æ ‡å‡†è§„èŒƒã€‚è¿™åŒ…æ‹¬ `{children}` å’Œ `className` ç­‰ã€‚

3. å°†ä»»ä½•å¿…è¦çš„ JavaScriptï¼ŒåŒ…æ‹¬å¯¼å…¥è¯­å¥ï¼Œç§»åŠ¨åˆ° [ã€Œä»£ç å›´æ ã€ï¼ˆ`---`ï¼‰](/zh-cn/core-concepts/astro-components/#ç»„ä»¶è„šæœ¬) ä¸­ã€‚æ³¨æ„ï¼šåœ¨ Astro ä¸­ï¼Œ[æ¡ä»¶æ€§æ¸²æŸ“å†…å®¹](/zh-cn/core-concepts/astro-syntax/#åŠ¨æ€-html)çš„ JavaScript é€šå¸¸ç›´æ¥å†™åœ¨ HTML æ¨¡æ¿ä¸­ã€‚

4. ä½¿ç”¨ [`Astro.props`](/zh-cn/reference/api-reference/#astroprops) è®¿é—®ä¹‹å‰ä¼ é€’ç»™ CRA å‡½æ•°çš„ä»»ä½•å…¶ä»–å±æ€§ã€‚

5. å†³å®šæ˜¯å¦éœ€è¦å°†ä»»ä½•å¯¼å…¥çš„ç»„ä»¶è½¬æ¢ä¸º Astroã€‚ä½ å¯ä»¥å°†å®ƒä»¬æš‚æ—¶ä¿ç•™ä¸º React ç»„ä»¶ï¼Œæˆ–æ°¸ä¹…ä¿ç•™ä¸º React ç»„ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬ä¸éœ€è¦äº¤äº’æ€§ï¼Œä½ å¯èƒ½æœ€ç»ˆä¼šæƒ³å°†å®ƒä»¬è½¬æ¢ä¸º `.astro` ç»„ä»¶ï¼

6. å°† `useEffect()` æ›¿æ¢ä¸ºå¯¼å…¥è¯­å¥æˆ– [`Astro.glob()`](/zh-cn/reference/api-reference/#astroglob) æ¥æŸ¥è¯¢æœ¬åœ°æ–‡ä»¶ï¼Œä½¿ç”¨ `fetch()` æ¥è·å–å¤–éƒ¨æ•°æ®ã€‚

### è¿ç§»æµ‹è¯•

ç”±äº Astro è¾“å‡ºåŸå§‹çš„ HTMLï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ„å»ºæ­¥éª¤çš„è¾“å‡ºæ¥ç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•ã€‚å¦‚æœä¹‹å‰ç¼–å†™çš„ç«¯åˆ°ç«¯æµ‹è¯•èƒ½å¤ŸåŒ¹é… CRA ç«™ç‚¹çš„æ ‡è®°ï¼Œé‚£ä¹ˆå®ƒä»¬å¯èƒ½ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚åœ¨ Astro ä¸­ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥å’Œä½¿ç”¨æµ‹è¯•åº“ï¼ˆå¦‚ Jest å’Œ React Testing Libraryï¼‰æ¥æµ‹è¯•ä½ çš„ React ç»„ä»¶ã€‚

äº†è§£æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜… Astro çš„ [æµ‹è¯•æŒ‡å—](/zh-cn/guides/testing/)ã€‚

## å‚è€ƒï¼šå°† CRA è¯­æ³•è½¬æ¢ä¸º Astro

### åœ¨ Astro ä¸­è½¬æ¢ CRA å¯¼å…¥è¯­å¥

å°†ä»»ä½• [æ–‡ä»¶å¯¼å…¥](/zh-cn/guides/imports/) å‡†ç¡®åœ°æ›´æ–°ä¸ºç›¸å¯¹å¼•ç”¨çš„æ–‡ä»¶è·¯å¾„ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ [å¯¼å…¥åˆ«å](/zh-cn/guides/typescript/#å¯¼å…¥åˆ«å) æˆ–å®Œæ•´å†™å‡ºç›¸å¯¹è·¯å¾„æ¥å®ç°ã€‚

æ³¨æ„ï¼Œ`.astro` å’Œå…¶ä»–ä¸€äº›æ–‡ä»¶ç±»å‹å¿…é¡»ä½¿ç”¨å®ƒä»¬çš„å®Œæ•´æ–‡ä»¶æ‰©å±•åè¿›è¡Œå¯¼å…¥ã€‚

```astro title="src/pages/authors/Fred.astro"
---
import Card from `../../components/Card.astro`
---
<Card />
```

### åœ¨ Astro ä¸­è½¬æ¢ CRA å­ç»„ä»¶å±æ€§

å°†ä»»ä½• `{children}` å®ä¾‹è½¬æ¢ä¸º Astro çš„ `<slot />`ã€‚Astro ä¸éœ€è¦å°† `{children}` ä½œä¸ºå‡½æ•°å±æ€§æ¥ä¼ é€’ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨ `<slot />` ä¸­æ¸²æŸ“å­ç»„ä»¶å†…å®¹ã€‚

```astro title="src/components/MyComponent" del={3-9} ins={11-13}
---
---
export default function MyComponent(props) { 
    return (
      <div>
        {props.children}
      </div>
    );  
}

<div>
  <slot />
</div>
```

ä¼ é€’å¤šç»„å­å…ƒç´ çš„ React ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ [å‘½åæ’æ§½](/zh-cn/core-concepts/astro-components/#å‘½åæ’æ§½) è½¬æ¢ä¸º Astro ç»„ä»¶ã€‚

äº†è§£æ›´å¤šæœ‰å…³äº [ç‰¹å®š `<slot />` ç”¨æ³•](/zh-cn/core-concepts/astro-components/#æ’æ§½) çš„å†…å®¹ã€‚

### åœ¨ Astro ä¸­è½¬æ¢ CRA æ•°æ®è·å–

åœ¨ Create React App ç»„ä»¶ä¸­è·å–æ•°æ®ä¸ Astro ç±»ä¼¼ï¼Œåªæœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«ã€‚

ä½ éœ€è¦ç§»é™¤ä»»ä½•å‰¯ä½œç”¨é’©å­ï¼ˆ`useEffect`ï¼‰çš„å®ä¾‹ï¼Œç„¶åä½¿ç”¨ `Astro.glob()` æˆ– `getCollection()`ï¼ˆæˆ– `getEntryBySlug()`ï¼‰ä»é¡¹ç›®æºä»£ç çš„å…¶ä»–æ–‡ä»¶ä¸­è·å–æ•°æ®ã€‚

è¦ [è·å–è¿œç¨‹æ•°æ®](/zh-cn/guides/data-fetching/)ï¼Œè¯·ä½¿ç”¨ `fetch()`ã€‚

è¿™äº›æ•°æ®è¯·æ±‚æ˜¯åœ¨ Astro ç»„ä»¶çš„ frontmatter ä¸­è¿›è¡Œçš„ï¼Œå¹¶ä½¿ç”¨é¡¶å±‚çš„ awaitã€‚

```astro title="src/pages/index.astro"
---
import { getCollection } from 'astro:content';

// ä» `src/content/blog/` ç›®å½•ä¸­è·å–æ‰€æœ‰æ¡ç›®
const allBlogPosts = await getCollection('blog');

// ä» `src/pages/posts/` ç›®å½•ä¸­è·å–æ‰€æœ‰æ¡ç›®
const allPosts = await Astro.glob('../pages/posts/*.md');

// è·å–è¿œç¨‹æ•°æ®
const response = await fetch('https://randomuser.me/api/');
const data = await response.json();
const randomUser = data.results[0];
---
```

äº†è§£æ›´å¤šæœ‰å…³äº [ä½¿ç”¨ `Astro.glob()`](/zh-cn/guides/imports/#astroglob)ã€ [ä½¿ç”¨é›†åˆ API æŸ¥è¯¢](/zh-cn/guides/content-collections/#æŸ¥è¯¢é›†åˆ) ä»¥åŠ [è·å–è¿œç¨‹æ•°æ®](/zh-cn/guides/data-fetching/) çš„å†…å®¹ã€‚

### åœ¨ Astro ä¸­è½¬æ¢ CRA æ ·å¼

ä½ å¯èƒ½éœ€è¦ç”¨ Astro ä¸­å…¶ä»–å¯ç”¨çš„ CSS é€‰é¡¹æ¥æ›¿æ¢ä»»ä½• [CSS-in-JS åº“](https://github.com/withastro/astro/issues/4432)ï¼ˆä¾‹å¦‚ styled-componentsï¼‰ã€‚

å¦‚æœ‰å¿…è¦ï¼Œå°†ä»»ä½•è¡Œå†…æ ·å¼å¯¹è±¡ï¼ˆ`style={{ fontWeight: "bold" }}`ï¼‰è½¬æ¢ä¸ºè¡Œå†…çš„ HTML æ ·å¼å±æ€§ï¼ˆ`style="font-weight:bold;"`ï¼‰ã€‚æˆ–è€…ï¼Œä½¿ç”¨ Astro çš„ `<style>` æ ‡ç­¾æ¥å®ç°ä½œç”¨åŸŸé™å®šçš„ CSS æ ·å¼ã€‚

```astro title="src/components/Card.astro" del={1} ins={2}
<div style={{backgroundColor: `#f4f4f4`, padding: `1em`}}>{message}</div>
<div style="background-color: #f4f4f4; padding: 1em;">{message}</div>
```

å¦‚æœå·²å®‰è£…äº† [Tailwind é›†æˆ](/zh-cn/guides/integrations-guide/tailwind/)ï¼Œåˆ™å¯ä»¥æ”¯æŒ Tailwindï¼Œå¹¶ä¸”ä¸éœ€è¦æ›´æ”¹ç°æœ‰çš„ Tailwind ä»£ç ï¼

äº†è§£æ›´å¤šæœ‰å…³äº [Astro ä¸­çš„æ ·å¼](/zh-cn/guides/styling/) çš„å†…å®¹ã€‚

## æ•…éšœæ’é™¤

ä½ çš„ CRA å¯èƒ½å¯ä»¥åœ¨ Astro ä¸­æ­£å¸¸å·¥ä½œï¼ä½†æ˜¯ï¼Œä½ å¯èƒ½éœ€è¦è¿›è¡Œå¾®å°è°ƒæ•´ï¼Œä»¥å¤åˆ¶ç°æœ‰åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å’Œï¼ˆæˆ–ï¼‰æ ·å¼ã€‚

å¦‚æœåœ¨æ–‡æ¡£ä¸­æœªæ‰¾åˆ°ç­”æ¡ˆï¼Œè¯·è®¿é—® [Astro çš„ Discord](https://astro.build/chat)ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„æ”¯æŒè®ºå›ä¸Šæé—®ï¼
