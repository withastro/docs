---
title: ä» Gatsby è¿ç§»
description: å°†ç°æœ‰çš„ Gatsby é¡¹ç›®è¿ç§»åˆ° Astro çš„æŠ€å·§
type: migration
stub: false
framework: Gatsby
i18nReady: true
---
import AstroJSXTabs from '~/components/tabs/AstroJSXTabs.astro'
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'

ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®æ¦‚å¿µå’Œè¿ç§»ç­–ç•¥ï¼Œå¸®åŠ©ä½ å¼€å§‹ã€‚ä½¿ç”¨æˆ‘ä»¬çš„å…¶ä»–æ–‡æ¡£å’Œæˆ‘ä»¬çš„ [Discord ç¤¾åŒº](https://astro.build/chat) ç»§ç»­è¿›è¡Œï¼

## Gatsby å’Œ Astro ä¹‹é—´çš„å…³é”®ç›¸ä¼¼æ€§

Gatsby å’Œ Astro å…±äº«ä¸€äº›ç›¸ä¼¼æ€§ï¼Œè¿™å°†å¸®åŠ©ä½ è¿ç§»ä½ çš„é¡¹ç›®ï¼š

- [`.astro` æ–‡ä»¶çš„è¯­æ³•ç±»ä¼¼äº JSX](/zh-cn/core-concepts/astro-syntax/#ç±»-jsx-è¡¨è¾¾å¼)ã€‚ç¼–å†™ Astro åº”è¯¥æ„Ÿè§‰ç†Ÿæ‚‰ã€‚

- Astro å†…ç½®å¯¹ [Markdown](/zh-cn/guides/markdown-content/) çš„æ”¯æŒï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªä½¿ç”¨ MDX æ–‡ä»¶çš„é›†æˆã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥é…ç½®å¹¶ç»§ç»­ä½¿ç”¨è®¸å¤šç°æœ‰çš„ Markdown æ’ä»¶ã€‚

- Astro è¿˜æœ‰ä¸€ä¸ª[ä½¿ç”¨ React ç»„ä»¶çš„å®˜æ–¹é›†æˆ](/zh-cn/guides/integrations-guide/react/)ã€‚æ³¨æ„ï¼Œåœ¨ Astro ä¸­ï¼ŒReact æ–‡ä»¶**å¿…é¡»**æœ‰ `.jsx` æˆ– `.tsx` æ‰©å±•åã€‚

- Astro æ”¯æŒ[å®‰è£… NPM åŒ…](/zh-cn/guides/imports/#npm-åŒ…)ï¼ŒåŒ…æ‹¬ React åº“ã€‚ä½ çš„è®¸å¤šç°æœ‰ä¾èµ–é¡¹å°†åœ¨ Astro ä¸­å·¥ä½œã€‚

- åƒ Gatsby ä¸€æ ·ï¼ŒAstro é¡¹ç›®å¯ä»¥æ˜¯ SSG æˆ–è€…[æœåŠ¡ç«¯æ¸²æŸ“(SSR)ä¸é¡µé¢çº§é¢„æ¸²æŸ“](/zh-cn/guides/server-side-rendering/)ã€‚


## Gatsby å’Œ Astro ä¹‹é—´çš„å…³é”®å·®å¼‚

å½“ä½ åœ¨ Astro ä¸­é‡å»ºä½ çš„ Gatsby ç«™ç‚¹æ—¶ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€äº›é‡è¦çš„å·®å¼‚ï¼š

- [MPA vs SPA](/zh-cn/concepts/mpa-vs-spa/)ï¼šGatsby é¡¹ç›®æ˜¯ React å•é¡µåº”ç”¨ï¼Œå¹¶ä½¿ç”¨ `index.js` ä½œä¸ºä½ çš„é¡¹ç›®çš„æ ¹ã€‚Astro é¡¹ç›®æ˜¯å¤šé¡µç«™ç‚¹ï¼Œ`index.astro` æ˜¯ä½ çš„ä¸»é¡µã€‚

- [Astro ç»„ä»¶](/zh-cn/core-concepts/astro-components/)ä¸æ˜¯ä»¥è¿”å›é¡µé¢æ¨¡æ¿çš„å‡ºå£å‡½æ•°å½¢å¼ç¼–å†™çš„ã€‚ç›¸åï¼Œä½ å°†ä½ çš„ä»£ç åˆ†å‰²ä¸ºä¸“é—¨ä¸ºä½ çš„ JavaScript è®¾è®¡çš„ "ä»£ç å›´æ " å’Œä¸“é—¨ä¸ºä½ ç”Ÿæˆçš„ HTML è®¾è®¡çš„ä¸»ä½“ã€‚

- [æœ¬åœ°æ–‡ä»¶æ•°æ®](/zh-cn/guides/imports/)ï¼šGatsby ä½¿ç”¨ GraphQL ä»ä½ çš„é¡¹ç›®æ–‡ä»¶ä¸­æ£€ç´¢æ•°æ®ã€‚Astro ä½¿ç”¨ ESM imports å’Œé¡¶å±‚ await å‡½æ•°ï¼ˆä¾‹å¦‚ [`Astro.glob()`](/zh-cn/guides/imports/#astroglob), [`getCollection()`](/zh-cn/guides/content-collections/#æŸ¥è¯¢é›†åˆ)ï¼‰ä»ä½ çš„é¡¹ç›®æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®ã€‚ä½ å¯ä»¥æ‰‹åŠ¨å‘ä½ çš„ Astro é¡¹ç›®æ·»åŠ  GraphQLï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ä¸åŒ…å«å®ƒã€‚

## è½¬æ¢ä½ çš„ Gatsby é¡¹ç›®

æ¯ä¸ªé¡¹ç›®è¿ç§»éƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯åœ¨å°† Gatsby è½¬æ¢ä¸º Astro æ—¶ï¼Œä½ å°†æ‰§è¡Œä¸€äº›å¸¸è§æ“ä½œã€‚

### åˆ›å»ºä¸€ä¸ªæ–°çš„ Astro é¡¹ç›®
ä½¿ç”¨ä½ çš„åŒ…ç®¡ç†å™¨çš„ `create astro` å‘½ä»¤å¯åŠ¨ Astro çš„ CLI å‘å¯¼ï¼Œæˆ–ä» [Astro ä¸»é¢˜å±•ç¤º](https://astro.build/themes)ä¸­é€‰æ‹©ä¸€ä¸ªç¤¾åŒºä¸»é¢˜ã€‚

ä½ å¯ä»¥å‘ `create astro` å‘½ä»¤ä¼ é€’ä¸€ä¸ª `--template` å‚æ•°ï¼Œä»¥ä½¿ç”¨æˆ‘ä»¬çš„å®˜æ–¹èµ·å§‹å™¨ï¼ˆä¾‹å¦‚ `docs`ï¼Œ`blog`ï¼Œ`portfolio`ï¼‰å¯åŠ¨ä¸€ä¸ªæ–°çš„ Astro é¡¹ç›®ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥[ä» GitHub ä¸Šçš„ä»»ä½•ç°æœ‰ Astro å­˜å‚¨åº“å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®](/zh-cn/install/auto/#å…¥é—¨æ¨¡æ¿)ã€‚

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼ 
    npm create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®
    npm create astro@latest -- --template <example-name>
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼ 
    pnpm create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®
    pnpm create astro@latest --template <example-name>
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```shell
    # å¯åŠ¨ Astro CLI å‘å¯¼ 
    yarn create astro@latest

    # ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®
    yarn create astro@latest --template <example-name>
    ```
    </Fragment>
  </PackageManagerTabs>

ç„¶åï¼Œå°†ä½ ç°æœ‰çš„ Gatsby é¡¹ç›®æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„æ–° Astro é¡¹ç›®ä¸­ï¼Œæ”¾åœ¨ `src` å¤–é¢çš„å•ç‹¬æ–‡ä»¶å¤¹ä¸­ã€‚

:::tip
è®¿é—® https://astro.new æŸ¥çœ‹å®Œæ•´çš„å®˜æ–¹èµ·å§‹æ¨¡æ¿åˆ—è¡¨ï¼Œä»¥åŠåœ¨ StackBlitzã€CodeSandbox æˆ– Gitpod ä¸­æ‰“å¼€æ–°é¡¹ç›®çš„é“¾æ¥ã€‚
:::

### å®‰è£…é›†æˆï¼ˆå¯é€‰ï¼‰

åœ¨å°†ä½ çš„ Gatsby é¡¹ç›®è½¬æ¢ä¸º Astro æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°å®‰è£…ä¸€äº›[Astro çš„å¯é€‰é›†æˆ](/zh-cn/guides/integrations-guide/)å¾ˆæœ‰ç”¨ï¼š

- **@astrojs/react**ï¼šåœ¨ä½ çš„æ–° Astro ç«™ç‚¹ä¸­é‡ç”¨ä¸€äº›ç°æœ‰çš„ React UI ç»„ä»¶ï¼Œæˆ–è€…ç»§ç»­ä½¿ç”¨ React ç»„ä»¶ã€‚

- **@astrojs/mdx**ï¼šä»ä½ çš„ Gatsby é¡¹ç›®ä¸­å¸¦æ¥ç°æœ‰çš„ MDX æ–‡ä»¶ï¼Œæˆ–è€…åœ¨ä½ çš„æ–° Astro ç«™ç‚¹ä¸­ä½¿ç”¨ MDXã€‚

### å°†ä½ çš„ä»£ç æ”¾åœ¨ `src` ä¸­

æŒ‰ç…§ [Astro çš„é¡¹ç›®ç»“æ„](/zh-cn/core-concepts/project-structure/)ï¼š

1. **åˆ é™¤** Gatsby çš„ `public/` æ–‡ä»¶å¤¹ã€‚ 
    
    Gatsby ä½¿ç”¨ `public/` ç›®å½•ä½œä¸ºå…¶æ„å»ºè¾“å‡ºï¼Œæ‰€ä»¥ä½ å¯ä»¥å®‰å…¨åœ°ä¸¢å¼ƒè¿™ä¸ªæ–‡ä»¶å¤¹ã€‚ä½ å°†ä¸å†éœ€è¦ä½ çš„ Gatsby ç«™ç‚¹çš„æ„å»ºç‰ˆæœ¬ã€‚ï¼ˆAstro é»˜è®¤ä½¿ç”¨ `dist/` ä½œä¸ºæ„å»ºè¾“å‡ºã€‚ï¼‰

2. **é‡å‘½å** Gatsby çš„ `static/` æ–‡ä»¶å¤¹ä¸º `public/`ï¼Œå¹¶å°†å…¶ç”¨ä½œ Astro çš„ `public/` æ–‡ä»¶å¤¹ã€‚

    Astro ä½¿ç”¨ä¸€ä¸ªå«åš `public/` çš„æ–‡ä»¶å¤¹æ¥å­˜æ”¾é™æ€èµ„æºã€‚ä½ ä¹Ÿå¯ä»¥å°† `static/` çš„å†…å®¹å¤åˆ¶åˆ°ä½ ç°æœ‰çš„ Astro `public/` æ–‡ä»¶å¤¹ä¸­ã€‚

3. **å¤åˆ¶æˆ–ç§»åŠ¨** Gatsby çš„å…¶ä»–æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ `components`ï¼Œ`pages` ç­‰ï¼‰æ ¹æ®éœ€è¦å°†å…¶å¤åˆ¶æˆ–ç§»åŠ¨åˆ°ä½ çš„ Astro `src/` æ–‡ä»¶å¤¹ä¸­ï¼Œé‡å»ºä½ çš„ç«™ç‚¹ï¼ŒæŒ‰ç…§ [Astro çš„é¡¹ç›®ç»“æ„](/zh-cn/core-concepts/project-structure/)ã€‚

  Astro çš„ `src/pages/` æ–‡ä»¶å¤¹æ˜¯ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶å¤¹ï¼Œç”¨äºåŸºäºæ–‡ä»¶çš„è·¯ç”±ï¼Œä» `.astro`ã€`.md` å’Œ `.mdx` æ–‡ä»¶ä¸­åˆ›å»ºä½ çš„ç«™ç‚¹çš„é¡µé¢å’Œæ–‡ç« ã€‚ä½ ä¸å¿…ä¸ºä½ çš„ Astroã€Markdown å’Œ MDX æ–‡ä»¶é…ç½®ä»»ä½•è·¯ç”±è¡Œä¸ºã€‚

  æ‰€æœ‰å…¶ä»–æ–‡ä»¶å¤¹éƒ½æ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥æŒ‰ç…§ä½ å–œæ¬¢çš„æ–¹å¼ç»„ç»‡ä½ çš„ `src/` æ–‡ä»¶å¤¹çš„å†…å®¹ã€‚Astro é¡¹ç›®ä¸­çš„å…¶ä»–å¸¸è§æ–‡ä»¶å¤¹åŒ…æ‹¬ `src/layouts/`ã€`src/components`ã€`src/styles` å’Œ `src/scripts`ã€‚

### æç¤ºï¼šå°†JSXæ–‡ä»¶è½¬æ¢ä¸º`.astro`æ–‡ä»¶

ä»¥ä¸‹æ˜¯å°† Gatsby `.js`ç»„ä»¶è½¬æ¢ä¸º`.astro`ç»„ä»¶çš„ä¸€äº›æç¤ºï¼š

1. å°†ç°æœ‰çš„ Gatsby ç»„ä»¶å‡½æ•°çš„`return()`éƒ¨åˆ†ä½œä¸ºä½ çš„HTMLæ¨¡æ¿ã€‚

2. å°†ä»»ä½•[ Gatsby æˆ– JSX è¯­æ³•è½¬æ¢ä¸º Astro è¯­æ³•](#å‚è€ƒè½¬æ¢ä¸º-astro-è¯­æ³•)æˆ– HTML web æ ‡å‡†ã€‚ä¾‹å¦‚ `<Link to="">`ï¼Œ `{children}`å’Œ `className`ã€‚

3. å°†æ‰€æœ‰å¿…è¦çš„ JavaScriptï¼ŒåŒ…æ‹¬ import è¯­å¥ï¼Œéƒ½æ”¾å…¥["ä»£ç å›´æ " (`---`)](/zh-cn/core-concepts/astro-components/#ç»„ä»¶è„šæœ¬)ä¸­ã€‚æ³¨æ„: åœ¨ Astro ä¸­ï¼Œç»å¸¸ä¼šç›´æ¥åœ¨ HTML æ¨¡æ¿å†…ç¼–å†™[æ¡ä»¶æ¸²æŸ“å†…å®¹](/zh-cn/core-concepts/astro-syntax/#åŠ¨æ€-html)çš„ JavaScriptã€‚

4. ä½¿ç”¨[`Astro.props`](/zh-cn/reference/api-reference/#astroprops)æ¥è®¿é—®ä¹‹å‰ä¼ é€’ç»™ä½ çš„ Gatsby å‡½æ•°çš„ä»»ä½•å…¶ä»– propsã€‚

5. å†³å®šæ˜¯å¦éœ€è¦å°†å¯¼å…¥çš„ç»„ä»¶ä¹Ÿè½¬æ¢ä¸º Astroã€‚å¦‚æœå·²ç»å®‰è£…äº†å®˜æ–¹çš„ React é›†æˆï¼Œä½ å¯ä»¥åœ¨ Astro æ–‡ä»¶ä¸­[ä½¿ç”¨ç°æœ‰çš„Reactç»„ä»¶](/zh-cn/core-concepts/framework-components/)ã€‚ä½†æ˜¯ï¼Œå¦‚æœä»–ä»¬ä¸éœ€è¦äº¤äº’ï¼Œä½ å¯èƒ½å¸Œæœ›å°†å®ƒä»¬è½¬æ¢ä¸º`.astro`ç»„ä»¶ï¼

6. åˆ é™¤ä»»ä½• GraphQL æŸ¥è¯¢ã€‚æ”¹ä¸ºä½¿ç”¨ import å’Œ[`Astro.glob()`](/zh-cn/reference/api-reference/#astroglob)è¯­å¥æ¥æŸ¥è¯¢ä½ çš„æœ¬åœ°æ–‡ä»¶ã€‚

æŸ¥çœ‹ [Gatsby's Blog å¯åŠ¨æ¨¡æ¿è½¬æ¢æ­¥éª¤ç¤ºä¾‹](#å¼•å¯¼ç¤ºä¾‹gatsby-å¸ƒå±€è½¬æ¢ä¸º-astro)

#### å¯¹æ¯”ï¼š`.jsx` vs `.astro`

æ¯”è¾ƒä»¥ä¸‹çš„ Gatsby ç»„ä»¶ä¸ç›¸åº”çš„ Astro ç»„ä»¶:

<AstroJSXTabs>
  <Fragment slot="jsx">
    ```jsx title="component.jsx"
    import * as React from "react"
    import { useStaticQuery, graphql } from "gatsby"
    import Header from "./header"
    import Footer from "./footer"
    import "./layout.css"

    const Component = ({ message, children }) => {
      const data = useStaticQuery(graphql`
        query SiteTitleQuery {
          site {
            siteMetadata {
              title
            }
          }
        }
      `)
      return (
        <>
          <Header siteTitle={data.site.siteMetadata.title} />
          <div style={{ margin: `0`, maxWidth: `960`}}>{message}</div>
          <main>{children}</main>
          <Footer siteTitle={data.site.siteMetadata} />
        </>
      )
    }

    export default Component
    ```
  </Fragment>

  <Fragment slot="astro">
    ```astro title="component.astro"
    ---
    import Header from "./Header.astro"
    import Footer from "./Footer.astro"
    import "../styles/stylesheet.css"
    import { site } from "../data/siteMetaData.js"
    const { message } = Astro.props
    ---
    <Header siteTitle={site.title} />
      <div style="margin: 0; max-width: 960;">{message}</div>
      <main>
        <slot />
      </main>
    <Footer siteTitle={site.title} />
    ```
  </Fragment>
</AstroJSXTabs>

### è¿ç§»å¸ƒå±€æ–‡ä»¶

é¦–å…ˆï¼Œä½ å¯èƒ½ä¼šå‘ç°å°†ä½ çš„ Gatsby å¸ƒå±€å’Œæ¨¡æ¿è½¬æ¢ä¸º [Astro å¸ƒå±€ç»„ä»¶](/zh-cn/core-concepts/layouts/)ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚

æ¯ä¸ª Astro é¡µé¢æ˜ç¡®è¦æ±‚ `<html>`ã€`<head>` å’Œ `<body>` æ ‡ç­¾çš„å­˜åœ¨ï¼Œæ‰€ä»¥åœ¨é¡µé¢ä¹‹é—´å¤ç”¨å¸ƒå±€æ–‡ä»¶æ˜¯å¸¸è§çš„åšæ³•ã€‚Astro ä½¿ç”¨ [`<slot />`](/zh-cn/core-concepts/astro-components/#æ’æ§½) è€Œä¸æ˜¯ React çš„ `{children}` prop æ¥æ”¾ç½®é¡µé¢å†…å®¹ï¼Œå¹¶ä¸”æ— éœ€å¯¼å…¥è¯­å¥ã€‚ä½ çš„ Gatsby `layout.js` å’Œæ¨¡æ¿å°†ä¸ä¼šåŒ…å«è¿™äº›ã€‚

æ³¨æ„æ ‡å‡† HTML æ¨¡æ¿ä»¥åŠå¯¹ `<head>` çš„ç›´æ¥è®¿é—®ï¼š

```astro title="src/layouts/Layout.astro" "slot"
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Astro</title>
  </head>
  <body>
    <!-- å°† slot å…ƒç´ åŒ…è£¹åœ¨ä½ ç°æœ‰çš„å¸ƒå±€æ¨¡æ¿ä¸­ -->
    <slot />
  </body>
</html>
```

ä½ å¯èƒ½è¿˜å¸Œæœ›ä» Gatsby çš„ `src/components/seo.js` ä¸­å¤ç”¨ä»£ç ï¼Œä»¥ä¾¿åŒ…å«é¢å¤–çš„ç«™ç‚¹å…ƒæ•°æ®ã€‚æ³¨æ„ Astro å¹¶ä¸ä½¿ç”¨ `<Helmet>` æˆ– `<Header>`ï¼Œè€Œæ˜¯ç›´æ¥åˆ›å»º `<head>`ã€‚ä½ å¯ä»¥å¯¼å…¥å’Œä½¿ç”¨ç»„ä»¶ï¼Œç”šè‡³åœ¨ `<head>` ä¸­ä¹Ÿå¯ä»¥ï¼Œä»¥åˆ†ç¦»å’Œç»„ç»‡ä½ çš„é¡µé¢å†…å®¹ã€‚

### è¿ç§»é¡µé¢å’Œæ–‡ç« 

åœ¨ Gatsby ä¸­ï¼Œä½ çš„[é¡µé¢å’Œæ–‡ç« ](/zh-cn/core-concepts/astro-pages/)å¯èƒ½å­˜åœ¨äº `src/pages/` æˆ–è€…åœ¨ `src` å¤–éƒ¨çš„å…¶ä»–æ–‡ä»¶å¤¹ï¼Œå¦‚ `content`ã€‚è€Œåœ¨ Astro ä¸­ï¼Œ**æ‰€æœ‰çš„é¡µé¢å†…å®¹å¿…é¡»ä½äº `src/` å†…**ã€‚

#### React é¡µé¢

ä½ ç°æœ‰çš„ Gatsby JSXï¼ˆ`.js`ï¼‰é¡µé¢éœ€è¦è¢«[ä» JSX æ–‡ä»¶è½¬æ¢ä¸º `.astro` é¡µé¢](/zh-cn/guides/migrate-to-astro/from-gatsby/#æç¤ºå°†jsxæ–‡ä»¶è½¬æ¢ä¸ºastroæ–‡ä»¶)ã€‚ä½ ä¸èƒ½åœ¨ Astro ä¸­ä½¿ç”¨ç°æœ‰çš„ JSX é¡µé¢æ–‡ä»¶ã€‚

è¿™äº›[`.astro` é¡µé¢](/zh-cn/core-concepts/astro-pages/) å¿…é¡»ä½äº `src/pages/` å†…ï¼Œå¹¶ä¸”ä¼šåŸºäºå®ƒä»¬çš„æ–‡ä»¶è·¯å¾„è‡ªåŠ¨ç”Ÿæˆé¡µé¢è·¯ç”±ã€‚

#### Markdown å’Œ MDX é¡µé¢

Astro å¯¹ Markdown æœ‰å†…ç½®æ”¯æŒï¼Œå¹¶å¯¹ MDX æ–‡ä»¶æœ‰å¯é€‰é›†æˆã€‚ä½ ç°æœ‰çš„ [Markdown å’Œ MDX æ–‡ä»¶](/zh-cn/guides/markdown-content/) å¯ä»¥é‡ç”¨ï¼Œä½†å¯èƒ½éœ€è¦å¯¹å®ƒä»¬çš„ frontmatter è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œå¦‚æ·»åŠ  [Astro çš„ç‰¹æ®Š `layout` frontmatter å±æ€§](/zh-cn/core-concepts/layouts/#markdownmdx-å¸ƒå±€)ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥è¢«æ”¾ç½®åœ¨ `src/pages/` ä¸­ä»¥åˆ©ç”¨è‡ªåŠ¨çš„åŸºäºæ–‡ä»¶çš„è·¯ç”±ã€‚

æˆ–è€…ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ Astro ä¸­çš„ [å†…å®¹é›†åˆ](/zh-cn/guides/content-collections/) æ¥å­˜å‚¨å’Œç®¡ç†ä½ çš„å†…å®¹ã€‚ä½œä¸ºé›†åˆçš„ä¸€éƒ¨åˆ†æ—¶ï¼ŒMarkdown å’Œ MDX æ–‡ä»¶å°†ä½äº `src/content/` å†…çš„æ–‡ä»¶å¤¹ä¸­ã€‚ä½ å°†éœ€è¦è‡ªå·±è·å–å†…å®¹å¹¶[åŠ¨æ€ç”Ÿæˆè¿™äº›é¡µé¢](/zh-cn/guides/content-collections/#ä»å†…å®¹ç”Ÿæˆè·¯ç”±)ã€‚

### è¿ç§»æµ‹è¯•

ç”±äº Astro è¾“å‡ºåŸå§‹ HTMLï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ„å»ºæ­¥éª¤çš„è¾“å‡ºç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•ã€‚å¦‚æœä½ èƒ½åŒ¹é…æ—§çš„ Gatsby ç«™ç‚¹çš„æ ‡è®°ï¼Œä»¥å‰ç¼–å†™çš„ä»»ä½•ç«¯åˆ°ç«¯æµ‹è¯•å¯èƒ½éƒ½å¯ä»¥å¼€ç®±å³ç”¨ã€‚æµ‹è¯•åº“å¦‚ Jest å’Œ React Testing Library å¯ä»¥åœ¨ Astro ä¸­å¯¼å…¥å’Œä½¿ç”¨ï¼Œä»¥æµ‹è¯•ä½ çš„ React ç»„ä»¶ã€‚

æŸ¥çœ‹ Astro çš„ [æµ‹è¯•æŒ‡å—](/zh-cn/guides/testing/) äº†è§£æ›´å¤šã€‚

### é‡æ–°åˆ©ç”¨é…ç½®æ–‡ä»¶

Gatsby æœ‰å‡ ä¸ªé¡¶çº§é…ç½®æ–‡ä»¶ï¼Œä¹ŸåŒ…æ‹¬ç«™ç‚¹å’Œé¡µé¢å…ƒæ•°æ®ï¼Œå¹¶ç”¨äºè·¯ç”±ã€‚åœ¨ä½ çš„ Astro é¡¹ç›®ä¸­ï¼Œä½ ä¸ä¼šä½¿ç”¨ä»»ä½•è¿™äº› `gatsby-*.js` æ–‡ä»¶ï¼Œä½†å¯èƒ½æœ‰ä¸€äº›å†…å®¹å¯ä»¥åœ¨æ„å»º Astro é¡¹ç›®æ—¶é‡ç”¨ï¼š

- `gatsby-config.js`ï¼šå°†ä½ çš„ `siteMetadata: {}` ç§»åŠ¨åˆ° `src/data/siteMetadata.js`ï¼ˆæˆ– `siteMetadata.json`ï¼‰ä¸­ï¼Œä»¥ä¾¿åœ¨é¡µé¢å¸ƒå±€ä¸­å¯¼å…¥å…³äºä½ çš„ç«™ç‚¹ï¼ˆæ ‡é¢˜ï¼Œæè¿°ï¼Œç¤¾äº¤è´¦æˆ·ç­‰ï¼‰çš„æ•°æ®ã€‚

- `gatsby-browser.js`ï¼šè€ƒè™‘å°†è¿™é‡Œä½¿ç”¨çš„ä»»ä½•ä¸œè¥¿ç›´æ¥æ·»åŠ åˆ°ä½ çš„[ä¸»å¸ƒå±€](/zh-cn/guides/migrate-to-astro/from-gatsby/#è¿ç§»å¸ƒå±€æ–‡ä»¶)çš„ `<head>` æ ‡ç­¾ä¸­ã€‚

- `gatsby-node.js`ï¼šåœ¨ Astro ä¸­ä½ ä¸éœ€è¦åˆ›å»ºä½ è‡ªå·±çš„èŠ‚ç‚¹ï¼Œä½†æŸ¥çœ‹è¯¥æ–‡ä»¶ä¸­çš„ schema å¯èƒ½æœ‰åŠ©äºä½ åœ¨ Astro é¡¹ç›®ä¸­å®šä¹‰ç±»å‹ã€‚

- `gatsby-ssr.js`ï¼šå¦‚æœä½ é€‰æ‹©åœ¨ Astro ä¸­ä½¿ç”¨ SSRï¼Œä½ å°†åœ¨ `astro.config.mjs` ä¸­[æ·»åŠ å’Œé…ç½®ä½ é€‰æ‹©çš„ SSR é€‚é…å™¨](/zh-cn/guides/server-side-rendering/#æ·»åŠ ä¸€ä¸ªé€‚é…å™¨)ã€‚

## å‚è€ƒï¼šè½¬æ¢ä¸º Astro è¯­æ³•

ä»¥ä¸‹æ˜¯ä¸€äº›ä½ éœ€è¦å°†å…¶è½¬æ¢ä¸º Astro çš„ Gatsby ç‰¹æœ‰è¯­æ³•çš„ç¤ºä¾‹ã€‚åœ¨ç¼–å†™ Astro ç»„ä»¶çš„æŒ‡å—ä¸­æŸ¥çœ‹æ›´å¤š [Astro å’Œ JSX ä¹‹é—´çš„åŒºåˆ«](/zh-cn/core-concepts/astro-syntax/#astro-å’Œ-jsx-é—´çš„å·®å¼‚)ã€‚

### Gatsby é“¾æ¥åˆ° Astro

å°†ä»»ä½• Gatsby çš„ `<Link to="">`ã€`<NavLink>` ç­‰ç»„ä»¶è½¬æ¢ä¸º HTML çš„ `<a href="">` æ ‡ç­¾ã€‚

```astro del={1} ins={2}
<Link to="/blog">åšå®¢</Link>
<a href="/blog">åšå®¢</a>
```

Astro ä¸ä½¿ç”¨ä»»ä½•ç‰¹æ®Šçš„é“¾æ¥ç»„ä»¶ï¼Œå°½ç®¡ä½ å¯ä»¥åˆ›å»ºä½ è‡ªå·±çš„ `<Link>` ç»„ä»¶ã€‚ç„¶åä½ å¯ä»¥åƒä½¿ç”¨ä»»ä½•å…¶ä»–ç»„ä»¶ä¸€æ ·å¯¼å…¥å’Œä½¿ç”¨è¿™ä¸ª `<Link>`ã€‚

```astro title="src/components/Link.astro"
---
const { to } = Astro.props
---
<a href={to}><slot /></a>
```

### Gatsby å¯¼å…¥åˆ° Astro

å¦‚æœ‰å¿…è¦ï¼Œæ›´æ–°ä»»ä½•[æ–‡ä»¶å¯¼å…¥](/zh-cn/guides/imports/)ä»¥å‡†ç¡®å¼•ç”¨ç›¸å¯¹æ–‡ä»¶è·¯å¾„ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨[å¯¼å…¥åˆ«å](/zh-cn/guides/typescript/#å¯¼å…¥åˆ«å)ï¼Œæˆ–è€…å®Œå…¨å†™å‡ºç›¸å¯¹è·¯å¾„æ¥å®Œæˆã€‚

è¯·æ³¨æ„ï¼Œ`.astro` å’Œè‹¥å¹²å…¶ä»–æ–‡ä»¶ç±»å‹å¿…é¡»ä½¿ç”¨å®Œæ•´çš„æ–‡ä»¶æ‰©å±•åè¿›è¡Œå¯¼å…¥ã€‚

```astro title="src/pages/authors/Fred.astro" ".astro"
---
import Card from `../../components/Card.astro`;
---
<Card />
```

### Gatsby å­å±æ€§åˆ° Astro

å°†ä»»ä½• `{children}` å®ä¾‹è½¬æ¢ä¸º Astro çš„ `<slot />`ã€‚Astro ä¸éœ€è¦å°† `{children}` ä½œä¸ºå‡½æ•° prop æ¥æ”¶ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨åœ¨ `<slot />` ä¸­æ¸²æŸ“å­å†…å®¹ã€‚

```astro title="src/components/MyComponent" del={3-9} ins={11-13}
---
---
export default function MyComponent(props) { 
    return (
      <div>
        {props.children}
      </div>
    );  
}

<div>
  <slot />
</div>
```

ä¼ é€’å¤šä¸ªå­é›†çš„ React ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ [å‘½åæ’æ§½](/zh-cn/core-concepts/astro-components/#å‘½åæ’æ§½) è¿ç§»åˆ° Astro ç»„ä»¶ã€‚

åœ¨ Astro ä¸­æŸ¥çœ‹æ›´å¤šå…³äº[ç‰¹å®š `<slot />` ä½¿ç”¨çš„ä¿¡æ¯](/zh-cn/core-concepts/astro-components/#æ’æ§½).

### Gatsby æ ·å¼è½¬æ¢ä¸º Astro

ä½ å¯èƒ½éœ€è¦ç”¨ Astro ä¸­å…¶ä»–å¯ç”¨çš„ CSS é€‰é¡¹æ›¿æ¢ä»»ä½• [CSS-in-JS åº“](https://github.com/withastro/astro/issues/4432)ï¼ˆä¾‹å¦‚ styled-componentsï¼‰ã€‚

å¦‚æœéœ€è¦ï¼Œå°†å†…è”æ ·å¼å¯¹è±¡ï¼ˆ`style={{ fontWeight: "bold" }}`ï¼‰è½¬æ¢ä¸ºå†…è” HTML æ ·å¼å±æ€§ï¼ˆ`style="font-weight:bold;"`ï¼‰ã€‚æˆ–è€…ï¼Œä½¿ç”¨ [Astro `<style>` æ ‡ç­¾](/zh-cn/guides/styling/#åœ¨-astro-è¿›è¡Œè®¾è®¡) è¿›è¡Œä½œç”¨åŸŸ CSS æ ·å¼ã€‚

```astro title="src/components/Card.astro" del={1} ins={2}
<div style={{backgroundColor: `#f4f4f4`, padding: `1em`}}>{message}</div>
<div style="background-color: #f4f4f4; padding: 1em;">{message}</div>
```

åœ¨å®‰è£…äº† [Tailwind é›†æˆ](/zh-cn/guides/integrations-guide/tailwind/) åæ”¯æŒ Tailwindã€‚ä¸éœ€è¦å¯¹ç°æœ‰çš„ Tailwind ä»£ç è¿›è¡Œä»»ä½•æ›´æ”¹ï¼

Gatsby ä¸­ä½¿ç”¨ `gatsby-browser.js` ä¸­çš„ CSS å¯¼å…¥å®ç°å…¨å±€æ ·å¼ã€‚åœ¨ Astro ä¸­ï¼Œä½ å°†ç›´æ¥å¯¼å…¥ `.css` æ–‡ä»¶åˆ°ä¸»å¸ƒå±€ç»„ä»¶ä¸­ä»¥å®ç°å…¨å±€æ ·å¼ã€‚

æŸ¥çœ‹å…³äº [Astro ä¸­çš„æ ·å¼](/zh-cn/guides/styling/) çš„æ›´å¤šä¿¡æ¯ã€‚

### Gatsby å›¾åƒæ’ä»¶è½¬æ¢ä¸º Astro

æ ¹æ®æƒ…å†µåœ¨ä½ çš„ React ç»„ä»¶ä¸­å°† Gatsby çš„ `<StaticImage />` å’Œ `<GatsbyImage />` ç»„ä»¶è½¬æ¢ä¸º [Astro è‡ªå·±çš„å›¾åƒé›†æˆç»„ä»¶](/zh-cn/guides/images/#image--astroassets) æˆ–è€…è½¬åŒ–æˆ [æ ‡å‡†çš„ HTML `<img>` / JSX `<img />` æ ‡ç­¾](/zh-cn/guides/images/#æ¡†æ¶ç»„ä»¶ä¸­çš„å›¾åƒ)ã€‚

```astro title="src/pages/index.astro"
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';
---
<Image src={rocket} alt="å¤ªç©ºä¸­çš„ç«ç®­é£èˆ¹ã€‚" />
<img src={rocket.src} alt="å¤ªç©ºä¸­çš„ç«ç®­é£èˆ¹ã€‚">
```

Astro çš„ `<Image />` ç»„ä»¶åªèƒ½åœ¨ `.astro` å’Œ `.mdx` æ–‡ä»¶ä¸­å·¥ä½œã€‚æŸ¥çœ‹è¯¥ç»„ä»¶å¯ç”¨çš„[å®Œæ•´ç»„ä»¶å±æ€§åˆ—è¡¨](/zh-cn/guides/images/#å±æ€§)ï¼Œå¹¶æ³¨æ„å®ƒä¸ Gatsby çš„å±æ€§æœ‰ä¸€äº›ä¸åŒã€‚

è¦ç»§ç»­ä½¿ç”¨æ ‡å‡† Markdown è¯­æ³• (`![]()`) [åœ¨ Markdown (`.md`) æ–‡ä»¶ä¸­ä½¿ç”¨å›¾åƒ](/zh-cn/guides/images/#markdown-æ–‡ä»¶ä¸­çš„å›¾åƒ)ï¼Œä½ å¯èƒ½éœ€è¦æ›´æ–°é“¾æ¥ã€‚å¯¹äºæœ¬åœ°å›¾åƒï¼Œä¸æ”¯æŒåœ¨ `.md` æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨ HTML `<img>` æ ‡ç­¾ï¼Œå¿…é¡»è½¬æ¢ä¸º Markdown è¯­æ³•ã€‚

```md
<!-- src/pages/post-1.md -->

# æˆ‘çš„ Markdown é¡µé¢

<!-- å­˜å‚¨åœ¨ src/assets/stars.png çš„æœ¬åœ°å›¾ç‰‡ -->
![A starry night sky.](../assets/stars.png)
```

åœ¨ Reactï¼ˆ`.jsx`ï¼‰ç»„ä»¶ä¸­ï¼Œä½¿ç”¨æ ‡å‡†çš„ JSX å›¾åƒè¯­æ³•ï¼ˆ`<img />`ï¼‰ã€‚Astro ä¸ä¼šä¼˜åŒ–è¿™äº›å›¾åƒï¼Œä½†ä½ å¯ä»¥å®‰è£…å’Œä½¿ç”¨ NPM åŒ…ä»¥è·å¾—æ›´å¤§çš„çµæ´»æ€§ã€‚

ä½ å¯ä»¥åœ¨å›¾åƒæŒ‡å—ä¸­äº†è§£æ›´å¤šå…³äº [åœ¨ Astro ä¸­ä½¿ç”¨å›¾åƒ](/zh-cn/guides/images/) çš„ä¿¡æ¯ã€‚

### Gatsby GraphQL è½¬æ¢ä¸º Astro

åˆ é™¤æ‰€æœ‰å¼•ç”¨ GraphQL æŸ¥è¯¢çš„åœ°æ–¹ï¼Œç„¶åä½¿ç”¨ [`Astro.glob()`](/zh-cn/guides/imports/#astroglob) æ¥è®¿é—®ä½ çš„æœ¬åœ°æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚

æˆ–è€…ï¼Œå¦‚æœä½¿ç”¨å†…å®¹é›†åˆï¼Œä½¿ç”¨ [`getEntry()` å’Œ `getCollection()`](/zh-cn/guides/content-collections/#æŸ¥è¯¢é›†åˆ) åœ¨ `src/content/` ä¸­æŸ¥è¯¢ä½ çš„ Markdown å’Œ MDX æ–‡ä»¶ã€‚

è¿™äº›æ•°æ®è¯·æ±‚æ˜¯åœ¨ Astro ç»„ä»¶çš„ frontmatter ä¸­ä½¿ç”¨æ•°æ®è¿›è¡Œçš„ã€‚

```astro title="src/pages/index.astro" del={2,12-28}
---
import { graphql } from "gatsby"
import { getCollection } from 'astro:content';

// Get all `src/content/blog/` entries
const allBlogPosts = await getCollection('blog');

// Get all `src/pages/posts/` entries
const allPosts = await Astro.glob('../pages/posts/*.md');
---

export const pageQuery = graphql`
  {
    allMarkdownRemark(sort: { frontmatter: { date: DESC } }) {
      nodes {
        excerpt
        fields {
          slug
        }
        frontmatter {
          date(formatString: "MMMM DD, YYYY")
          title
          description
        }
      }
    }
  }
`
```

## å¼•å¯¼ç¤ºä¾‹ï¼šGatsby å¸ƒå±€è½¬æ¢ä¸º Astro

æ­¤ç¤ºä¾‹å°†ä¸»é¡¹ç›®å¸ƒå±€ï¼ˆ`layout.js`ï¼‰ä» Gatsby çš„åšå®¢èµ·å§‹å™¨è½¬æ¢ä¸º `src/layouts/Layout.astro`ã€‚

å½“è®¿é—®é¦–é¡µæ—¶ï¼Œæ­¤é¡µé¢å¸ƒå±€æ˜¾ç¤ºä¸€ä¸ªæ ‡é¢˜ï¼Œè€Œåœ¨è®¿é—®æ‰€æœ‰å…¶ä»–é¡µé¢æ—¶ï¼Œæ˜¾ç¤ºå¸¦æœ‰è¿”å›é¦–é¡µé“¾æ¥çš„å¦ä¸€ä¸ªæ ‡é¢˜ã€‚

1. ç¡®å®š return() JSXã€‚

  ```jsx {21-29} title="layout.js"
  import * as React from "react"
  import { Link } from "gatsby"
  const Layout = ({ location, title, children }) => {
    const rootPath = `${__PATH_PREFIX__}/`
    const isRootPath = location.pathname === rootPath
    let header
    if (isRootPath) {
      header = (
        <h1 className="main-heading">
          <Link to="/">{title}</Link>
        </h1>
      )
    } else {
      header = (
        <Link className="header-link-home" to="/">
          Home
        </Link>
      )
    }
    return (
      <div className="global-wrapper" data-is-root-path={isRootPath}>
        <header className="global-header">{header}</header>
        <main>{children}</main>
        <footer>
          Â© {new Date().getFullYear()}, Built with
          {` `}
          <a href="https://www.gatsbyjs.com">Gatsby</a>
        </footer>
      </div>
    )
  }
  export default Layout
  ```

2. åˆ›å»º `Layout.astro` å¹¶æ·»åŠ æ­¤ `return` å€¼ï¼Œ[è½¬æ¢ä¸º Astro è¯­æ³•](/zh-cn/guides/migrate-to-astro/from-gatsby/#å‚è€ƒè½¬æ¢ä¸º-astro-è¯­æ³•)ã€‚

  æ³¨æ„åˆ°ï¼š

  - `{new Date().getFullYear()}` åªæ˜¯æœ‰æ•ˆè¿è¡Œ ğŸ‰
  - `{children}` æˆä¸º `<slot />` ğŸ¦¥
  - `className` æˆä¸º `class` ğŸ“›
  - `Gatsby` æˆä¸º `Astro` ğŸš€

  ```astro title="src/layouts/Layout.astro" "<slot />" "class" "Astro" "astro.build"
  ---
  ---
  <div class="global-wrapper" data-is-root-path={isRootPath}>
    <header class="global-header">{header}</header>
    <main><slot /></main>
    <footer>
      Â© {new Date().getFullYear()}, Built with
      {` `}
      <a href="https://www.astro.build">Astro</a>
    </footer>
  </div>
  ```

3. æ·»åŠ é¡µé¢ shellï¼Œä½¿ä½ çš„å¸ƒå±€ä¸ºæ¯ä¸ªé¡µé¢æä¾› HTML æ–‡æ¡£æ‰€éœ€çš„éƒ¨åˆ†ï¼š

  ```astro title="src/layouts/Layout.astro" ins={3-10,22-23}
  ---
  ---
  <html>
    <head>
      <meta charset="utf-8" />
      <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      <meta name="viewport" content="width=device-width" />
      <title>Astro</title>
    </head>
    <body>
      <div class="global-wrapper" data-is-root-path={isRootPath}>
        <header class="global-header">{header}</header>
        <main>
          <slot />
        </main>
        <footer>
          &#169; {new Date().getFullYear()}, Built with
          {` `}
          <a href="https://www.astro.build">Astro</a>
        </footer>
      </div>
    </body>
  </html>
  ```

4. æ·»åŠ æ‰€éœ€çš„å¯¼å…¥ã€props å’Œ JavaScript

   æ ¹æ® Astro ä¸­é¡µé¢è·¯ç”±å’Œæ ‡é¢˜æ¡ä»¶æ€§åœ°æ¸²æŸ“ headerï¼š

  - é€šè¿‡ `Astro.props` æä¾› propsã€‚ï¼ˆè®°ä½ï¼šä½ çš„ Astro æ¨¡æ¿ä»å®ƒçš„ frontmatter ä¸­è®¿é—® props ï¼Œè€Œä¸æ˜¯ä¼ å…¥åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ã€‚ï¼‰
  - å¦‚æœè¿™æ˜¯ä¸»é¡µï¼Œä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ˜¾ç¤ºä¸€ä¸ªæ ‡é¢˜ï¼Œå¦åˆ™æ˜¾ç¤ºå¦ä¸€ä¸ªæ ‡é¢˜ã€‚
  - åˆ é™¤ `{header}` å’Œ `{isRootPath}` å˜é‡ï¼Œå› ä¸ºå®ƒä»¬ä¸å†éœ€è¦ã€‚
  - å°† Gatsby çš„ `<Link/>` æ ‡ç­¾æ›¿æ¢ä¸º `<a>` é”šæ ‡ç­¾ã€‚
  - ä½¿ç”¨ `class` æ›¿ä»£ `className`ã€‚
  - ä»é¡¹ç›®ä¸­å¯¼å…¥ä¸€ä¸ªæœ¬åœ°æ ·å¼è¡¨ï¼Œä½¿ç±»åç§°ç”Ÿæ•ˆã€‚

  ```astro title="src/layouts/Layout.astro" ins={2-3, 15, 16, 20, 24} "class" "<a" "</a>"
  ---
  import '../styles/style.css';
  const { title, pathname } = Astro.props
  ---
  <html>
    <head>
      <meta charset="utf-8" />
      <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      <meta name="viewport" content="width=device-width" />
      <title>Astro</title>
    </head>
    <body>
      <div class="global-wrapper">
        <header class="global-header">
          { pathname === "/" 
          ? 
            <h1 class="main-heading">
            <a href="/">{title}</a>
            </h1>
          : 
            <h1 class="main-heading">
            <a class="header-link-home" href="/">Home</a>
            </h1>
          }  
        </header>
        <main>
          <slot />
        </main>
        <footer>
          &#169; {new Date().getFullYear()}, Built with
          {` `}
          <a href="https://www.astro.build">Astro</a>
        </footer>
      </div>
    </body>
  </html>
  ```

5. æ›´æ–° `index.astro` æ¥ä½¿ç”¨è¿™ä¸ªæ–°çš„å¸ƒå±€ï¼Œå¹¶ä¼ é€’å¿…éœ€çš„ `title` å’Œ `pathname` propsï¼š

  ```astro title="src/pages/index.astro"
  ---
  import Layout from '../layouts/Layout.astro';
  const pagePathname = Astro.url.pathname
  ---
  <Layout title="ä¸»é¡µ" pathname={pagePathname}>
      <p>Astro</p>
  </Layout>
  ```
  :::tip
  ä½ å¯ä»¥[ä½¿ç”¨ `Astro.url` è·å–å½“å‰é¡µé¢çš„è·¯å¾„](/zh-cn/reference/api-reference/#astrourl)ã€‚
  :::

6. ä¸ºäº†æµ‹è¯•æ¡ä»¶ headerï¼Œä½¿ç”¨ç›¸åŒçš„æ¨¡å¼åˆ›å»ºç¬¬äºŒä¸ªé¡µé¢ `about.astro`ï¼š

  ```astro title="src/pages/about.astro"
  ---
  import Layout from '../layouts/Layout.astro';
  const pagePathname = Astro.url.pathname
  ---
  <Layout title="å…³äº" pathname={pagePathname}>
      <p>å…³äº</p>
  </Layout>
  ```

  å½“ä½ è®¿é—®å…³äºé¡µé¢æ—¶ï¼Œä½ åº”è¯¥åªçœ‹åˆ°æŒ‡å‘ "ä¸»é¡µ" çš„é“¾æ¥ã€‚

## ç¤¾åŒºèµ„æº 

- åšå®¢å¸–å­: [è¿ç§»åˆ° Astro æ˜¯å¤šä¹ˆçš„ç®€å•](https://joelhooks.com/migrating-to-astro-was-ez)ã€‚

- åšå®¢å¸–å­: [æˆ‘ä¸ºä»€ä¹ˆä» Gatsby åˆ‡æ¢åˆ° Astro](https://www.joshfinnie.com/blog/my-switch-from-gatsby-to-astro/)ã€‚

- åšå®¢å¸–å­: [æˆ‘ä¸ºä»€ä¹ˆä» Gatsby è¿ç§»åˆ° Astro](https://dev.to/askrodney/why-i-moved-to-astro-from-gatsby-3fck)ã€‚

- åšå®¢å¸–å­: [æˆ‘å¦‚ä½•å°†æˆ‘çš„ç½‘ç«™ä» Gatsby è¿ç§»åˆ° Astro](https://dev.to/flashblaze/migrating-my-website-from-gatsby-to-astro-2ej5)ã€‚

:::note[æœ‰èµ„æºåˆ†äº«å—?]
å¦‚æœä½ æ‰¾åˆ°ï¼ˆæˆ–åˆ¶ä½œï¼‰äº†ä¸€ä¸ªå…³äºå°† Gatsby ç½‘ç«™è½¬æ¢ä¸º Astro çš„æœ‰ç”¨çš„è§†é¢‘æˆ–åšå®¢æ–‡ç« ï¼Œ[ç¼–è¾‘æ­¤é¡µé¢](https://github.com/withastro/docs/blob/main/src/pages/zh-cn/guides/migrate-to-astro/from-gatsby.md)å¹¶å°†å…¶æ·»åŠ åˆ°è¿™é‡Œï¼
:::
