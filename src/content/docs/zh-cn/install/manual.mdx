---
title: æ‰‹åŠ¨å®‰è£… Astro
description: å¦‚ä½•é€šè¿‡ NPMã€PNPM æˆ– Yarn æ¥æ‰‹åŠ¨å®‰è£… Astroã€‚
---
import Button from '~/components/Button.astro'
import FileTree from '~/components/FileTree.astro';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'

å¦‚æœä½ ä¸æƒ³ä½¿ç”¨[è‡ªåŠ¨åŒ– CLI å·¥å…·](/zh-cn/install/auto/)ï¼Œæœ¬æŒ‡å—å°†å¼•å¯¼ä½ å®Œæˆæ‰‹åŠ¨å®‰è£…å’Œé…ç½®æ–° Astro é¡¹ç›®çš„æ­¥éª¤ã€‚

#### å–œæ¬¢æ›´å¿«çš„å…¥é—¨æ–¹å¼ï¼Ÿ

<Button href="/zh-cn/install/auto/">å°è¯• create astro CLI å‘å¯¼ â†’</Button>

#### å‰æå‡†å¤‡

- **Node.js** - `v16.12.0` æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- **æ–‡æœ¬ç¼–è¾‘å™¨** - æˆ‘ä»¬å»ºè®®ä½¿ç”¨å®‰è£…æœ‰ [Astro å®˜æ–¹æ‰©å±•](https://marketplace.visualstudio.com/items?itemName=astro-build.astro-vscode)çš„ [VS Code](https://code.visualstudio.com/)ã€‚
- **ç»ˆç«¯ï¼ˆTerminalï¼‰** - Astro å¯ä»¥é€šè¿‡å…¶å‘½ä»¤è¡Œç•Œé¢ (CLI) è®¿é—®ã€‚

#### å®‰è£…

å¦‚æœä½ ä¸æ‰“ç®—ä½¿ç”¨ `create astro` å‘½ä»¤å·¥å…·æ¥è‡ªåŠ¨åŒ–åˆ›å»ºé¡¹ç›®ï¼Œä½ å¯ä»¥æ ¹æ®ä»¥ä¸‹è¯´æ˜æ¥è‡ªè¡Œè®¾ç½®ä½ çš„é¡¹ç›®ã€‚

## 1. åˆ›å»ºé¡¹ç›®ç›®å½•

åˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼Œç›®å½•åç§°æ˜¯ä½ æ‰“ç®—ä½¿ç”¨çš„é¡¹ç›®åç§°ï¼Œå¹¶å¯¼èˆªåˆ°è¯¥ç›®å½•ã€‚

```bash
mkdir my-astro-project
cd my-astro-project
```

åœ¨è¯¥ç›®å½•å†…ï¼Œåˆ›å»º `package.json` æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†ç®¡ç†ä½ çš„é¡¹ç›®ä¾èµ–ï¼ŒåŒ…æ‹¬ Astroï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰è¿™ç§æ–‡ä»¶æ ¼å¼ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥ç›´æ¥åˆ›å»ºä¸€ä¸ªã€‚

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npm init --yes
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm init 
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn init --yes
  ```
  </Fragment>
</PackageManagerTabs>

## 2. å®‰è£… Astro

é¦–å…ˆï¼Œéœ€è¦åœ¨ä½ çš„é¡¹ç›®ç›®å½•å†…å®‰è£… Astro çš„é¡¹ç›®ä¾èµ–ã€‚

:::note[ååˆ†é‡è¦]
Astro å¿…é¡»æœ¬åœ°å®‰è£…ï¼Œä¸èƒ½å…¨å±€å®‰è£…ã€‚è¯·ç¡®ä¿**ä¸è¦**è¿è¡Œ `npm install -g astro`ã€`pnpm add -g astro` æˆ–è€… `yarn add global astro`ã€‚
:::

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npm install astro
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm install astro 
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn add astro
  ```
  </Fragment>
</PackageManagerTabs>

ç„¶åï¼Œä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥æ›¿æ¢ `package.json` æ–‡ä»¶çš„ `scripts` éƒ¨åˆ†å†…å®¹ï¼š

```json title="package.json" del={2} ins={3-6}
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "dev": "astro dev",
    "start": "astro dev",
    "build": "astro build",
    "preview": "astro preview"
  },
```

ä½ å°†ä¼šåœ¨ä¹‹åçš„æ•™ç¨‹ä¸­ä½¿ç”¨è¿™äº›ä¸åŒçš„å‘½ä»¤æ¥å¼€å§‹ Astro é¡¹ç›®ã€‚

## 3. åˆ›å»ºç¬¬ä¸€ä¸ªé¡µé¢

æ‰“å¼€ä½ çš„ç¼–è¾‘å™¨ï¼Œåœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `index.astro`ï¼Œè¿™å°†ä¼šæ˜¯ä½ çš„ç¬¬ä¸€ä¸ªé¡µé¢ã€‚

å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹åˆ°è¯¥é¡µé¢ `index.astro` å†…ï¼ˆåŒ…å« `---` å†…çš„å†…å®¹ï¼‰ã€‚

```astro
---
// æ¬¢è¿æ¥åˆ° Astroï¼è¿™äº›ä¸‰æ¨ªçº¿æ‰€å›´ä½çš„ä»£ç 
// å°±æ˜¯ä½ çš„â€œç»„ä»¶ frontmatterâ€ã€‚å®ƒä¸ä¼šè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚
console.log('å®ƒè¿è¡Œåœ¨ç»ˆç«¯è€Œéæµè§ˆå™¨ï¼');
---
<!-- ä¸‹é¢æ˜¯ä½ çš„â€œç»„ä»¶æ¨¡æ¿â€ã€‚ è¿™ä»…ä»…æ˜¯ HTMLï¼Œä½†æ˜¯
     å¸¦æœ‰é­”æ³•ç‚¹ç¼€å¯ä»¥å¸®åŠ©æ„å»ºæ›´æ£’çš„æ¨¡æ¿ã€‚ -->
<html>
  <body>
    <h1>Hello, World!</h1>
  </body>
</html>
<style>
  h1 {
    color: orange;
  }
</style>
```

## 4. åˆ›å»ºé™æ€æ–‡ä»¶

åŒæ ·ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª `public/` ç›®å½•æ¥å­˜å‚¨ä½ çš„é™æ€æ–‡ä»¶ã€‚Astro ä¼šåœ¨æœ€åçš„ç¼–è¯‘ä¸­åŒ…å«è¿›è¿™äº›æ–‡ä»¶ï¼Œä»¥ä¾¿ä½ å¯ä»¥åœ¨ä½ çš„ç»„ä»¶æ¨¡æ¿å†…å®‰å…¨åœ°å¼•ç”¨ä»–ä»¬ã€‚

ç”¨ç¼–è¾‘å™¨åœ¨ `public/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `robots.txt` çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†ä¼šå‘Šè¯‰ç±»ä¼¼ Google è¿™æ ·çš„æœç´¢å¼•æ“æ€æ ·å»å¯¹å¾…è¯¥ç«™ç‚¹ã€‚

é’ˆå¯¹è¯¥æ•™ç¨‹ï¼Œå¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹è‡³ `robots.txt` å†…ï¼š

```diff title="public/robots.txt"
# ç¤ºä¾‹ï¼šè¿è¡Œæ‰€æœ‰çˆ¬è™«æŠ“å–å¹¶ç´¢å¼•ä½ çš„ç«™ç‚¹ã€‚
# å…¨éƒ¨è¯­æ³•ï¼šhttps://developers.google.com/search/docs/advanced/robots/create-robots-txt
User-agent: *
Allow: /
```

## 5. åˆ›å»º `astro.config.mjs` é…ç½®æ–‡ä»¶

Astro ä½¿ç”¨ `astro.config.mjs` æ¥é…ç½®é¡¹ç›®ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸é…ç½®å®ƒï¼Œä½†è¿˜æ˜¯å¸Œæœ›ä½ ç°åœ¨åˆ›å»ºè¯¥æ–‡ä»¶ã€‚

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `astro.config.mjs` æ–‡ä»¶ï¼Œå¹¶å¤åˆ¶ç²˜è´´ä¸‹é¢çš„å†…å®¹è‡³è¯¥æ–‡ä»¶å†…ï¼š

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';

// https://astro.build/config
export default defineConfig({});
```

å¦‚æœä½ æƒ³é›†æˆåƒ Reactã€Svelte è¿™æ ·çš„[UI æ¡†æ¶ç»„ä»¶](/zh-cn/core-concepts/framework-components/)æˆ–æ˜¯ä½¿ç”¨å…¶ä»–ç±»ä¼¼ Tailwind æˆ– Partytown è¿™æ ·çš„å·¥å…·ï¼Œä½ å¯ä»¥åœ¨[æ‰‹åŠ¨å¯¼å…¥å¹¶é…ç½®é›†æˆ](/zh-cn/guides/integrations-guide/)ç« èŠ‚å†…è·å–æ›´å¤šä¿¡æ¯ã€‚


ğŸ“š é˜… è¯»Astro çš„[APIé…ç½®å‚è€ƒ](/zh-cn/reference/configuration-reference/)ç« èŠ‚å¯ä»¥è·å¾—æ›´å¤šå†…å®¹ã€‚

## 6. æ·»åŠ  TypeScript æ”¯æŒ

TypeScript ä½¿ç”¨`tsconfig.json`è¿›è¡Œé…ç½®ã€‚å³ä½¿ä½ ä¸ç¼–å†™ TypeScript ä»£ç ï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿå¾ˆé‡è¦ï¼Œå› ä¸º Astro å’Œ VS Code ç­‰å·¥å…·çŸ¥é“å¦‚ä½•ç†è§£ä½ çš„é¡¹ç›®ã€‚ å¦‚æœæ²¡æœ‰ `tsconfig.json` æ–‡ä»¶ï¼Œç¼–è¾‘å™¨å°†ä¸å®Œå…¨æ”¯æŒæŸäº›åŠŸèƒ½ï¼ˆå¦‚ npm åŒ…å¯¼å…¥ï¼‰ã€‚

å¦‚æœä½ æ‰“ç®—ç¼–å†™ TypeScript ä»£ç ï¼Œå»ºè®®ä½¿ç”¨ Astro çš„`strict`æˆ–`strictest`çš„æ¨¡æ¿ã€‚ ä½ å¯ä»¥åœ¨ [astro/tsconfigs/](https://github.com/withastro/astro/blob/main/packages/astro/tsconfigs/) æŸ¥çœ‹å’Œæ¯”è¾ƒä¸‰ä¸ªæ¨¡æ¿é…ç½®ã€‚

åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»º `tsconfig.json`ï¼Œå¹¶å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°å…¶ä¸­ã€‚ï¼ˆä½ å¯ä»¥ä¸º TypeScript æ¨¡æ¿ä½¿ç”¨ `base`ã€`strict` æˆ– `strictest`ï¼‰ï¼š

```json title="tsconfig.json" "base"
{
  "extends": "astro/tsconfigs/base"
}
```

æœ€åï¼Œåˆ›å»º`src/env.d.ts`è®© TypeScript çŸ¥é“ Astro é¡¹ç›®ä¸­å¯ç”¨çš„ç¯å¢ƒç±»å‹ï¼š

```ts title="src/env.d.ts"
/// <reference types="astro/client" />
```

ğŸ“š é˜…è¯» Astro çš„ [TypeScript è®¾ç½®æŒ‡å—](/zh-cn/guides/typescript/#è®¾ç½®)ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

## 7. æ¥ä¸‹æ¥

å¦‚æœä½ æŒ‰ä¸Šè¿°ä¸€æ­¥æ­¥æ“ä½œï¼Œä½ çš„é¡¹ç›®ç›®å½•åº”è¯¥çœ‹ä¸Šå»åƒæ˜¯è¿™æ ·ï¼š

<FileTree>
- node_modules/
- public/
  - robots.txt
- src/
  - pages/
    - index.astro
  - env.d.ts
- astro.config.mjs
- package-lock.json æˆ–è€… `yarn.lock`ï¼Œ`pnpm-lock.yaml`ï¼Œç­‰ç­‰ã€‚
- package.json
- tsconfig.json
</FileTree>

ç¥è´ºä½ ï¼Œä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ Astro äº†ï¼

å¦‚æœä½ å®Œæˆäº†è¿™ä¸ªæŒ‡å—çš„å…¨éƒ¨å†…å®¹ï¼Œä½ å¯ä»¥è·³è½¬è‡³[æ­¥éª¤ 2ï¼šå¯åŠ¨ Astro](/zh-cn/install/auto/#2-å¯åŠ¨-astro-)ç»§ç»­å¹¶å­¦ä¹ å¦‚ä½•é¦–æ¬¡è¿è¡Œ Astroã€‚

