---
title: Headless Statamic y Astro
description: Agrega contenido a tu proyecto de Astro usando Statamic como CMS
type: cms
stub: false
service: Statamic
i18nReady: true
---

[Statamic](https://statamic.com/) es un CMS moderno que utiliza archivos planos. Permite a los desarrolladores crear f치cilmente sitios web y aplicaciones din치micas, mientras que ofrece a los editores de contenido una interfaz intuitiva y f치cil de usar para administrar el contenido.

## Integraci칩n con Astro

Statamic viene con una [API REST](https://statamic.dev/rest-api) y una [API GraphQL](https://statamic.dev/graphql) integradas para conectar tus datos a Astro.

### Prerrequisitos

Para empezar, necesitar치s lo siguiente:

1. Solo est치n disponibles las API REST y GraphQL API en la versi칩n pro de Statamic. Puedes probar la versi칩n Pro gratis en tu [m치quina local](https://statamic.dev/tips/how-to-enable-statamic-pro#trial-mode).
2. **Un proyecto Astro** - Si todav칤a necesitas un proyecto Astro, nuestra [gu칤a de instalaci칩n](/es/install/auto/) te pondr치 en marcha r치pidamente.
3. **Un sitio Statamic** - Si necesitas un sitio Statamic, [la gu칤a de instalaci칩n de Statamic](https://statamic.dev/quick-start-guide) te ayudar치 a empezar.
Recuerda [habilitar la API REST](https://statamic.dev/rest-api#enable-the-api) o la [API GraphQL](https://statamic.dev/graphql#enable-graphql) a침adiendo `STATAMIC_API_ENABLED=true` o `STATAMIC_GRAPHQL_ENABLED=true` en el archivo `.env` y habilitando los recursos necesarios en el archivo de configuraci칩n de la API.

:::caution
Todos los ejemplos asumen que tu sitio web tiene una colecci칩n llamada `posts`, que tiene un blueprint llamado `post`, y este blueprint tiene un campo de t칤tulo (tipo de campo texto) y contenido (tipo de campo markdown).
:::

### Obteniendo Datos
:::caution
Si est치s usando Statamic y Astro en tu m치quina local, recuerda usar `127.0.0.1` en lugar de `localhost` al solicitar los datos a la API.

Cuando se solicita los datos desde el frontmatter de Astro, `localhost` no se resuelve correctamente como lo hace en el navegador y cualquier solicitud a cualquiera de las API fallar치.
:::

#### REST API

Obt칠n los datos de Statamic de la URL de la API REST de tu sitio. Por defecto, es `https://[YOUR-SITE]/api/`. A continuaci칩n, puedes renderizar las propiedades de tus datos utilizando la directiva `set:html={}` de Astro. 

Por ejemplo, para mostrar una lista de t칤tulos y su contenido de una [colecci칩n](https://statamic.dev/collections) seleccionada:

```astro title="src/pages/index.astro
---
const res = await fetch("https://[YOUR-SITE]/api/collections/posts/entries?sort=-date")
const posts = await res.json()
---
<h1>Astro + Statamic 游</h1>
{
  posts.map((post) => (
      <h2 set:html={post.title} />
      <p set:html={post.content} />
  ))
}
```

#### GraphQL

Obt칠n los datos de Statamic de la URL de la API GraphQL de tu sitio. Por defecto, es `https://[YOUR-SITE]/graphql/`. A continuaci칩n, puedes renderizar las propiedades de tus datos utilizando la directiva `set:html={}` de Astro.

Por ejemlo, para mostrar una lista de t칤tulos y su contenido de una [colecci칩n](https://statamic.dev/collections) seleccionada:

```astro title="src/pages/index.astro
---
const res = await fetch("https://[YOUR-SITE]/graphql/",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        posts: entries(collection: "posts", sort: "date desc") {
          data {
            title
            ... on Entry_Posts_Post {
              content
            }
          }
        }
      `
    }),
  });
const entries = await res.json()
---
<h1>Astro + Statamic 游</h1>
{
  entires.data.posts.data.map((post) => (
      <h2 set:html={post.title} />
      <p set:html={post.content} />
  ))
}
```

### Publicando tu sitio

Para desplegar tu sitio Astro, visita nuestras [gu칤as de despliegue](/es/guides/deploy/) y sigue las instrucciones para tu proveedor de alojamiento preferido.

## Recursos de la comunidad

- [Como construir un sitio est치tico usando Statamic como CMS headless](https://buddy.works/guides/statamic-rest-api)
- [Implementando previsualizaciones en vivo en Statamic headless usando Astro](https://maciekpalmowski.dev/implementing-live-previews-in-headless-statamic-when-using-astro/)
