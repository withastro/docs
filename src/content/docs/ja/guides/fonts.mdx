---
title: カスタムフォントを使用する
sidebar:
  label: Fonts
description: >-
  Astroウェブサイトにカスタムフォントを追加したいですか？FontsourceでGoogle Fontsを使用するか、お好みのフォントを追加しましょう。
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import { Steps } from '@astrojs/starlight/components'

このガイドは、プロジェクトにウェブフォントを追加し、コンポーネントで使用する方法を提示します。

:::tip[Experimental Fonts API]
Astroの[実験的なFonts API](/ja/reference/experimental-flags/fonts/)について学びましょう。このAPIを使用すると、ファイルシステムやさまざまなフォントプロバイダーからのフォントを、統一されており、完全にカスタマイズ可能で型安全なAPIを通じて利用できます。
:::

## ローカルフォントファイルを使用する

この例では、フォントファイル`DistantGalaxy.woff`を使用してカスタムフォントを追加する方法を説明します。

<Steps>
1. フォントファイルを`public/fonts/`に追加します.
2. 以下の`@font-face`宣言をCSSに追加します。 この`@font-face`宣言は、インポートするグローバルな`.css`ファイル、`<style is:global>`ブロック、またはこのフォントを使用したい特定のレイアウトやコンポーネント内の `<style>`ブロックに記述できます。

    ```css
    /* あなたのカスタムフォントファミリーを登録し、ブラウザにその場所を伝えます。 */
    @font-face {
      font-family: 'DistantGalaxy';
      src: url('/fonts/DistantGalaxy.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    ```

3. `@font-face`宣言の`font-family`値を使用して、コンポーネントやレイアウト内の要素をスタイル設定します。この例では`<h1>`見出しにはカスタムフォントが適用されますが、段落`<p>`には適用されません。

    ```astro title="src/pages/example.astro" {9-11}
    ---
    ---

    <h1>遠い昔、はるか彼方の銀河系で…</h1>

    <p>カスタムフォントのおかげで見出しがずっとかっこよくなった！</p>

    <style>
    h1 {
      font-family: 'DistantGalaxy', sans-serif;
    }
    </style>
    ```
</Steps>

## Fontsourceを使用する

[Fontsource](https://fontsource.org/)プロジェクトは、Google Fontsやその他のオープンソースフォントを手軽に使えるようにします。使用したいフォントのnpmモジュールをインストールできます。

<Steps>
1. 使用したいフォントを[Fontsourceのカタログ](https://fontsource.org/)で探します。この例では[Twinkle Star](https://fontsource.org/fonts/twinkle-star)を使用します。
2. 使用するフォントのパッケージをインストールします。

    <PackageManagerTabs>
      <Fragment slot="npm">
      ```shell
      npm install @fontsource/twinkle-star
      ```
      </Fragment>
      <Fragment slot="pnpm">
      ```shell
      pnpm add @fontsource/twinkle-star
      ```
      </Fragment>
      <Fragment slot="yarn">
      ```shell
      yarn add @fontsource/twinkle-star
      ```
      </Fragment>
    </PackageManagerTabs>

    :::tip
    正しいパッケージ名は、Fontsourceウェブサイトの各フォントページにある「Quick Installation」セクションで確認できます。パッケージ名は`@fontsource/`または`@fontsource-variable/`で始まり、その後にフォント名が続きます。
    :::

3. フォントを使用したいコンポーネント内でフォントパッケージをインポートします。通常は、サイト全体でフォントを利用できるようにするため、共通のレイアウトコンポーネントでインポートするとよいでしょう。

    フォントパッケージをインポートすると、フォントの設定に必要な`@font-face`ルールが自動的に追加されます。

    ```astro title="src/layouts/BaseLayout.astro"
    ---
    import '@fontsource/twinkle-star';
    ---
    ```

4. Fontsourceページの`body`の例に示されているフォント名を`font-family`の値として使用します。AstroプロジェクトでCSSを記述できる場所ならどこでも使えます。

    ```css
    h1 {
      font-family: "Twinkle Star", cursive;
    }
    ```
</Steps>

ウェブサイトのレンダリング時間を最適化するには、初期ページ表示に必要なフォントを事前レンダリングするとよいでしょう。詳細と使用方法については、[Fontsourceのフォントプリロードガイド](https://fontsource.org/docs/getting-started/preload)を参照してください。

## Tailwindにフォントを登録する

[Tailwind](/ja/guides/styling/#tailwind)を使用している場合でも、多少の変更を加えれば、このページで紹介した方法のいずれかを使ってフォントをインストールできます。[ローカルフォント用に`@font-face`宣言を追加する](#ローカルフォントファイルを使用する)、または[Fontsourceの`import`方式](#fontsourceを使用する)を使ってフォントをインストールできます。

Tailwindにフォントを登録するには:

<Steps>
1. 上記のいずれかのガイドに従ってください。ただし、CSSに`font-family`を追加する最後のステップはスキップしてください。
2. `src/styles/global.css`にフォント名を追加します。

    この例では、`Inter`をsans-serifのフォントスタックに追加しています。

    ```css title="src/styles/global.css" ins={3-5}
    @import 'tailwindcss';

    @theme {
      --font-sans: 'Inter', 'sans-serif';
    }
    ``` 
    
    これで、プロジェクト内のすべてのsans-serifテキスト(Tailwindのデフォルト)に選択したフォントが使用されるようになり、`font-sans`クラスでもInterフォントが適用されます。
</Steps>

詳細については、[Tailwindのカスタムフォントファミリー追加に関するドキュメント](https://tailwindcss.com/docs/font-family#using-custom-values)を参照してください。

## その他のリソース

- [MDNのWebフォントガイド](https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts)でWebフォントの仕組みを学ぶ。
- [Font SquirrelのWebfontGenerator](https://www.fontsquirrel.com/tools/webfont-generator)でフォント用のCSSを生成する.
