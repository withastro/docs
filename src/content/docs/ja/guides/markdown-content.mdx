---
title: Markdownã¨MDX
description: Astroã§Markdownã‚„MDXã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
i18nReady: true
---

import Since from '~/components/Since.astro'
import FileTree from '~/components/FileTree.astro'

[Markdown](https://daringfireball.net/projects/markdown/)ã¯ã€ãƒ–ãƒ­ã‚°æŠ•ç¨¿ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚’å¤šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚ªãƒ¼ã‚µãƒªãƒ³ã‚°ã«ã‚ˆãä½¿ã„ã¾ã™ã€‚Astroã¯æ¨™æº–çš„ãªMarkdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã§ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

[@astrojs/mdxã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³](/ja/guides/integrations-guide/mdx/)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€[MDX](https://mdxjs.com/)ï¼ˆ`.mdx`ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚å¯¾å¿œã—ã€Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã®JavaScriptå¼ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚µãƒãƒ¼ãƒˆãªã©ã®è¿½åŠ æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›¸ãã«ã¯ã€ã©ã¡ã‚‰ã‹ä¸€æ–¹ã€ã¾ãŸã¯ä¸¡æ–¹ã®ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

## Markdownãƒšãƒ¼ã‚¸ã¨MDXãƒšãƒ¼ã‚¸

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

Astroã§ã¯ã€Markdownã‚„MDXã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‚ç”¨ã®`src/content/`ãƒ•ã‚©ãƒ«ãƒ€ã§ç®¡ç†ã§ãã¾ã™ã€‚[ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³](/ja/guides/content-collections/)ã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´ç†ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®æ¤œè¨¼ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ‰±ã†éš›ã®TypeScriptã®è‡ªå‹•å‹å®‰å…¨æ€§ç¢ºä¿ã«å½¹ç«‹ã¡ã¾ã™ã€‚

<FileTree>
- src/content/
  - **newsletter/** 
    - week-1.md
    - week-2.md
  - **authors/**
    - grace-hopper.md
    - alan-turing.md
</FileTree>

è©³ã—ã„ä½¿ã„æ–¹ã¯[Astroã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³](/ja/guides/content-collections/)ã‚’ã”è¦§ãã ã•ã„ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Astroã¯ã€`/src/pages/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®`.md`ï¼ˆã¾ãŸã¯å¯¾å¿œã™ã‚‹åˆ¥ã®æ‹¡å¼µå­ï¼‰ã¾ãŸã¯`.mdx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒšãƒ¼ã‚¸ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã¾ãŸã¯ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹åã‚’ä½¿ã£ã¦è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ãƒ«ãƒ¼ãƒˆã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

```markdown
---
# Example: src/pages/page-1.md
title: Hello, World
---

# ã“ã‚“ã«ã¡ã¯ï¼

ã“ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã¯ `your-domain.com/page-1/`ã«ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚

ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã¨ã—ã¦ã¯ãŠãã‚‰ãä¸ååˆ†ã§ã™ãŒã€Markdownã¯ä»¥ä¸‹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚
- **å¤ªå­—** ã¨ _ã‚¤ã‚¿ãƒªãƒƒã‚¯_
- ãƒªã‚¹ãƒˆ
- [ãƒªãƒ³ã‚¯](https://astro.build)
- ãªã©ãªã©
```

ğŸ“š Astroã®[ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](/ja/core-concepts/routing/)ã‚„ã€[å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](/ja/core-concepts/routing/#å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)ã‚’ä½œæˆã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã‚‚ã£ã¨èª­ã‚€ã€‚

### ä¸‹æ›¸ããƒšãƒ¼ã‚¸

`draft: true`ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®å€¤ã§ã€å€‹ã€…ã®Markdownã¾ãŸã¯MDXãƒšãƒ¼ã‚¸ã‚„æŠ•ç¨¿ã‚’ã€Œéå…¬é–‹ã€ã¨ã—ã¦ãƒãƒ¼ã‚¯ã§ãã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ãƒãƒ¼ã‚¯ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã¯æ¬¡ã®å‹•ä½œã«ãªã‚Šã¾ã™ã€‚
- ã‚µã‚¤ãƒˆã®ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã‹ã‚‰å¤–ã™ï¼ˆ**ãƒšãƒ¼ã‚¸ã¯ãƒ“ãƒ«ãƒ‰ã•ã‚Œãªã„**ï¼‰
- [`Astro.glob()`](/ja/reference/api-reference/#astroglob)ã«ã‚ˆã£ã¦è¿”ã•ã‚Œã‚‹ (**æŠ•ç¨¿ã®ä¸€è¦§ã§è¡¨ç¤ºã•ã‚Œã¾ã™**)

```markdown {5}
---
# src/pages/post/blog-post.md
layout: ../../layouts/BaseLayout.astro
title: ãƒ–ãƒ­ã‚°è¨˜äº‹
draft: true
---

ã“ã‚Œã¯ã€ä½œæˆä¸­ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã§ã™ã€‚

ã“ã®è¨˜äº‹ã®ãŸã‚ã«ãƒšãƒ¼ã‚¸ã¯ä½œæˆã•ã‚Œã¾ã›ã‚“ã€‚

ã“ã®è¨˜äº‹ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦å…¬é–‹ã™ã‚‹ã«ã¯

- ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’`draft: false`ã«æ›´æ–°ã™ã‚‹ã€‚
- ã¾ãŸã¯ã€`draft`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å…¨ä½“ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

ã—ã‹ã—ã€ã“ã®ãƒšãƒ¼ã‚¸ã¯ `Astro.glob()` ã«ãƒãƒƒãƒã™ã‚‹ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§è¿”ã•ã‚Œã¾ã™ã€‚
```

ä¸‹æ›¸ãã®æŠ•ç¨¿ã‚’ã€æŠ•ç¨¿ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚„æœ€æ–°æŠ•ç¨¿ã®ãƒªã‚¹ãƒˆã«å«ã‚ãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€`Astro.glob()`ãŒè¿”ã™çµæœã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦ãã ã•ã„ã€‚

```js
const posts = await Astro.glob('../pages/post/*.md');
const nonDraftPosts = posts.filter((post) => !post.frontmatter.draft);
```

#### ä¸‹æ›¸ããƒšãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸‹æ›¸ããƒšãƒ¼ã‚¸ã‚‚ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã«ã¯ã€`markdown`ã¾ãŸã¯`mdx`ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«`drafts: true`ã‚’è¿½åŠ ã—ã¦`astro.config.mjs`ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```js title="astro.config.mjs" ins={5, 8}
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    drafts: true,
  },
  integrations: [mdx({
    drafts: true,
  })],
});
```

:::tip
`astro build`ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«`--drafts`ãƒ•ãƒ©ã‚°ã‚’æ¸¡ã™ã“ã¨ã§ã‚‚ã€ä¸‹æ›¸ããƒšãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã§ãã¾ã™ï¼
:::

## Markdownã®æ©Ÿèƒ½

Astroã¯ã€Markdownã¨MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«åˆ©ç”¨ã§ãã‚‹ã€è¿½åŠ ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³Markdownæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ `layout`

Astroã¯ã€MarkdownãŠã‚ˆã³MDXãƒšãƒ¼ã‚¸ã«ã€Astro[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/core-concepts/layouts/#markdownã¨mdxã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)ã¸ã®ç›¸å¯¾ãƒ‘ã‚¹ï¼ˆã¾ãŸã¯[ã‚¨ã‚¤ãƒªã‚¢ã‚¹](/ja/guides/aliases/)ï¼‰ã‚’æŒ‡å®šã§ãã‚‹ç‰¹åˆ¥ãªãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ç”¨ã®`layout`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æä¾›ã—ã¾ã™ã€‚

```markdown {3}
---
# src/pages/posts/post-1.md
layout: ../../layouts/BlogPostLayout.astro
title: Astroã®æ¦‚è¦
author: Himanshu
description: Astroã®å‡„ã•ã‚’çŸ¥ã£ã¦ãã ã•ã„ï¼
---
ã“ã‚Œã¯Markdownã§æ›¸ã‹ã‚ŒãŸè¨˜äº‹ã§ã™ã€‚
```

[ç‰¹å®šã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€`Astro.props`ã‚’é€šã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åˆ©ç”¨ã§ãã¾ã™](/ja/core-concepts/layouts/#markdownãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®props)ã€‚ãŸã¨ãˆã°ã€`Astro.props.frontmatter`ã‚’é€šã—ã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```astro /frontmatter(?:.\w+)?/
---
// src/layouts/BlogPostLayout.astro
const {frontmatter} = Astro.props;
---
<html>
  <!-- ... -->
  <h1>{frontmatter.title}</h1>
  <h2>æŠ•ç¨¿è€…: {frontmatter.author}</h2>
  <p>{frontmatter.description}</p>
  <slot /> <!-- Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
   <!-- ... -->
</html>
```

ã¾ãŸã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§[Markdownã‚’ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°](/ja/guides/styling/#markdownã®ã‚¹ã‚¿ã‚¤ãƒ«)ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ğŸ“š [Markdownã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/ja/core-concepts/layouts/#markdownã¨mdxã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)ã®è©³ç´°ã‚’è¦‹ã‚‹ã€‚


### è¦‹å‡ºã—ID

Markdownã¨MDXã§è¦‹å‡ºã—ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ã‚¢ãƒ³ã‚«ãƒ¼ãƒªãƒ³ã‚¯ãŒä½œæˆã•ã‚Œã€ãƒšãƒ¼ã‚¸å†…ã®ç‰¹å®šã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç›´æ¥ãƒªãƒ³ã‚¯ã§ãã¾ã™ã€‚

```markdown title="src/pages/page-1.md"
---
title: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸
---
## ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³

Markdownã§æ›¸ãã¨ã€åŒã˜ãƒšãƒ¼ã‚¸ã®[çµè«–](#çµè«–)ã«å†…éƒ¨ãƒªãƒ³ã‚¯ã§ãã¾ã™ã€‚

## çµè«–

URL`https://my-domain.com/page-1/#ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³`ã‚’ä½¿ã£ã¦ã€ãƒšãƒ¼ã‚¸ä¸Šã®ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«ç›´æ¥ç§»å‹•ã§ãã¾ã™ã€‚
```

### ç‰¹æ®Šæ–‡å­—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—

ç‰¹å®šã®æ–‡å­—ã¯ã€MarkdownãŠã‚ˆã³MDXã«ãŠã„ã¦ã€ç‰¹åˆ¥ãªæ„å‘³ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ãã‚Œã‚‰ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã€ç•°ãªã‚‹æ§‹æ–‡ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚è¡¨ç¤ºã™ã‚‹ã«ã¯ã€ã“ã‚Œã‚‰ã®æ–‡å­—ã®ä»£ã‚ã‚Šã«[HTMLã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£](https://developer.mozilla.org/ja/docs/Glossary/Entity)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ãŸã¨ãˆã°ã€`<` ãŒHTMLè¦ç´ ã®å…ˆé ­ã¨è§£é‡ˆã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€`&lt;`ã¨è¨˜è¿°ã—ã¾ã™ã€‚ã¾ãŸã€MDXã§`{`ãŒJavaScriptã®å¼ã®å…ˆé ­ã¨è§£é‡ˆã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€`&lcub;`ã¨è¨˜è¿°ã—ã¾ã™ã€‚

## MDXã®ã¿ã§ä½¿ãˆã‚‹æ©Ÿèƒ½

Astroã®[MDXã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³](/ja/guides/integrations-guide/mdx/)ã‚’è¿½åŠ ã™ã‚‹ã¨ã€JSXå¤‰æ•°ã€å¼ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ˆã£ã¦Markdownã‚ªãƒ¼ã‚µãƒªãƒ³ã‚°ã‚’å¼·åŒ–ã§ãã¾ã™ã€‚

ã¾ãŸã€[MDXã«ãŠã‘ã‚‹Markdownã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼](https://mdxjs.com/guides/frontmatter/)ã®ã‚µãƒãƒ¼ãƒˆãªã©ã€æ¨™æº–çš„ãªMDXã«ã•ã‚‰ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€[ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ `layout`](#ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼-layout)ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„[ä¸‹æ›¸ããƒšãƒ¼ã‚¸](#ä¸‹æ›¸ããƒšãƒ¼ã‚¸)ã®è¨­å®šãªã©ã€Astroã®çµ„ã¿è¾¼ã¿Markdownæ©Ÿèƒ½ã®ã»ã¨ã‚“ã©ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

`.mdx`ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Astroã®HTMLãƒ©ã‚¤ã‚¯ãªæ§‹æ–‡ã§ã¯ãªãã€[MDXæ§‹æ–‡](https://mdxjs.com/docs/what-is-mdx/#mdx-syntax)ã§è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### MDXã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸå¤‰æ•°ã‚’ä½¿ç”¨

MDXã¯ã€`export`æ–‡ã‚’ä½¿ç”¨ã—ã¦MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¤‰æ•°ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®å¤‰æ•°ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè‡ªä½“ã§ã‚‚ã€[ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã©ã“ã‹ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹](#markdownã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)ã¨ãã«åå‰ä»˜ããƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

ãŸã¨ãˆã°ã€MDXãƒšãƒ¼ã‚¸ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰`title`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã€`{JSX expressions}`ã§è¦‹å‡ºã—ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚

```mdx title="/src/pages/posts/post-1.mdx"
export const title = 'ã¯ã˜ã‚ã¦ã®MDXã®æŠ•ç¨¿'

# {title}
```
### MDXã§ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¤‰æ•°ã‚’ä½¿ç”¨

Astro MDXã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ã€MDXã§ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚µãƒãƒ¼ãƒˆãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚Markdownãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ã‚ˆã†ã«ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ã“ã‚Œã‚‰ã®å¤‰æ•°ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚„[`layout`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼-layout)å†…ã«ãŠã„ã¦ã€ã‚ã‚‹ã„ã¯ã©ã“ã‹ã«[ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹](#markdownã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)ã¨ãã«åå‰ä»˜ããƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹éš›ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```mdx title="/src/pages/posts/post-1.mdx"
---
layout: '../../layouts/BlogPostLayout.astro'
title: 'ã¯ã˜ã‚ã¦ã®MDXã®æŠ•ç¨¿'
---

# {frontmatter.title}
```

### MDXã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨

MDXã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€[Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/core-concepts/astro-components/#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®props)ã¨[UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/core-concepts/framework-components/#ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ©ç”¨)ã®ä¸¡æ–¹ã‚’MDXï¼ˆ`.mdx`ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã€ä»–ã®Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚ˆã†ã«ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

å¿…è¦ã§ã‚ã‚Œã°ã€UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«`client:directive`ã‚’ã¤ã‘å¿˜ã‚Œãªã„ã‚ˆã†æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

[MDX docs](https://mdxjs.com/docs/what-is-mdx/#esm)ã§importã¨exportæ–‡ã®ä»–ã®ä½¿ç”¨ä¾‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```mdx title="src/pages/about.mdx" {5-6} /<.+\/>/
---
layout: ../layouts/BaseLayout.astro
title: About me
---
import Button from '../components/Button.astro';
import ReactCounter from '../components/ReactCounter.jsx';

ç§ã¯**ç«æ˜Ÿ**ã«ä½ã‚“ã§ã„ã¾ã™ãŒã€æ°—è»½ã«<Button title="ãŠå•ã„åˆã‚ã›" />ã¾ã§ã”é€£çµ¡ãã ã•ã„ã€‚

ä»¥ä¸‹ã¯ã€MDXã§å‹•ä½œã™ã‚‹ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚

<ReactCounter client:load />
```

#### ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’HTMLè¦ç´ ã«å‰²ã‚Šå½“ã¦ã‚‹

MDXã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æ¨™æº–ã®HTMLè¦ç´ ã®ä»£ã‚ã‚Šã«ã€Markdownæ§‹æ–‡ã‚’ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒãƒƒãƒ”ãƒ³ã‚°ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¨™æº–çš„ãªMarkdownæ§‹æ–‡ã§è¨˜è¿°ã—ãªãŒã‚‰ã€é¸æŠã•ã‚ŒãŸè¦ç´ ã«ç‰¹åˆ¥ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã¾ã™ã€‚

ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’`.mdx`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€æ¨™æº–ã®HTMLè¦ç´ ã‚’ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒãƒƒãƒ—ã™ã‚‹`components`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

```mdx title="src/pages/about.mdx"
import Blockquote from '../components/Blockquote.astro';
export const components = {blockquote: Blockquote}

> ã“ã®å¼•ç”¨æ–‡ã¯ã‚«ã‚¹ã‚¿ãƒ Blockquoteã«ãªã‚Šã¾ã™ã€‚
```


```astro title="src/components/Blockquote.astro"
---
const props = Astro.props;
---
<blockquote {...props} class="bg-blue-50 p-4">
  <span class="text-4xl text-blue-600 mb-2">â€œ</span>
  <slot /> <!-- å­ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãŸã‚ã« `<slot/>` ã‚’å¿…ãšè¿½åŠ ã—ã¦ãã ã•ã„ï¼ -->
</blockquote>
```
ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ä¸Šæ›¸ãå¯èƒ½ãªHTMLè¦ç´ ã®å…¨ãƒªã‚¹ãƒˆã¯ã€[MDXã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ](https://mdxjs.com/table-of-components/)ã‚’ã”è¦§ãã ã•ã„ã€‚

## Markdownã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚„MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’Astroãƒ•ã‚¡ã‚¤ãƒ«ã«ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ã€Astroã®JSXãƒ©ã‚¤ã‚¯ãªå¼ã§ä½¿ç”¨ã§ãã‚‹ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®å€¤ãªã©ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

`import`æ–‡ã§ç‰¹å®šã®1ãƒšãƒ¼ã‚¸ã‚’ã€[`Astro.glob()`](/ja/guides/imports/#astroglob)ã§è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚

```astro title="src/pages/index.astro"
---
// 1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import * as myPost from '../pages/post/my-post.md';

// Astro.globã«ã‚ˆã‚‹è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
const posts = await Astro.glob('../pages/post/*.md');
---
```

Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Markdownã‚„MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã¨ã€ãã®[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](#ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£)ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå–å¾—ã•ã‚Œã¾ã™ã€‚

```md title="/src/pages/posts/great-post.md"
---
title: 'å²ä¸Šæœ€é«˜ã®æŠ•ç¨¿'
author: 'Ben'
---

**ç´ æ™´ã‚‰ã—ã„**æŠ•ç¨¿ï¼
```

```astro title="src/pages/my-posts.astro"
---
import * as greatPost from '../pages/post/great-post.md';

const posts = await Astro.glob('../pages/post/*.md');
---

<p>{greatPost.frontmatter.title}</p>
<p>åŸ·ç­†è€…: {greatPost.frontmatter.author}</p>

<p>æŠ•ç¨¿ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–:</p>
<ul>
  {posts.map(post => <li><a href={post.url}>{post.frontmatter.title}</a></li>)}
</ul>
```

MDXãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¨`export`æ–‡ã®ä¸¡æ–¹ã‹ã‚‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```mdx title="/src/pages/posts/mdx-post.mdx"
---
title: 'å²ä¸Šæœ€é«˜ã®æŠ•ç¨¿'
author: 'Ben'
---
export const description = 'å¿«é©ã«éã”ãã†! ã“ã‚Œã¯ç´ æ™´ã‚‰ã—ã„èª­ã¿ç‰©ã«ãªã‚Šãã†ã§ã™ã€‚'

**ç´ æ™´ã‚‰ã—ã„**æŠ•ç¨¿ï¼
```

```astro title="src/pages/my-posts.astro"
---
import * as greatPost from '../pages/post/mdx-post.mdx';
---

<p>{greatPost.frontmatter.title}</p>
<p>åŸ·ç­†è€…: {greatPost.frontmatter.author}</p>
<p>{greatPost.description}</p>
```

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã€TypeScriptã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦`frontmatter`å¤‰æ•°ã®å‹ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

```astro title="src/pages/index.astro" ins={2-5} ins="<Frontmatter>"
---
interface Frontmatter {
  title: string;
  description?: string;
}
const posts = await Astro.glob<Frontmatter>('../pages/post/*.md');
---

<ul>
  {posts.map(post => <li>{post.frontmatter.title}</li>)}
  <!-- post.frontmatter.title ã¯ `string`! -->
</ul>
```

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

:::note[Astroãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ãŠä½¿ã„ã§ã™ã‹ï¼Ÿ]
Astroã®ç‰¹åˆ¥ãª[ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](#ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼-layout)ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«ã€[Astroãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](/ja/core-concepts/layouts/#markdownã¨mdxã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
:::

`.astro`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§`import`æ–‡ã¾ãŸã¯`Astro.glob()`ã‚’ä½¿ç”¨ã—ãŸå ´åˆã€ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒä½¿ç”¨ã§ãã¾ã™ã€‚

- **`file`** - ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ¶å¯¾ãƒ‘ã‚¹ï¼ˆä¾‹ï¼š`/home/user/projects/.../file.md`ï¼‰ã€‚
- **`url`** - ã‚‚ã—ãƒšãƒ¼ã‚¸ãªã‚‰ã€ãã®ãƒšãƒ¼ã‚¸ã®URL (ä¾‹:`/en/guides/markdown-content`)ã€‚
- **`frontmatter`** - ãƒ•ã‚¡ã‚¤ãƒ«ã®YAML ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã§æŒ‡å®šã•ã‚ŒãŸå…¨ãƒ‡ãƒ¼ã‚¿ã‚’å«ã¿ã¾ã™ã€‚
- **`getHeadings`** - ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ã™ã¹ã¦ã®è¦‹å‡ºã—ï¼ˆã™ãªã‚ã¡`h1 -> h6`è¦ç´ ï¼‰ã®é…åˆ—ã‚’è¿”ã™éåŒæœŸé–¢æ•°ã§ã™ã€‚å„è¦‹å‡ºã—ã®`slug`ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸè¦‹å‡ºã—ã«å¯¾ã—ã¦ç”Ÿæˆã•ã‚ŒãŸIDã«å¯¾å¿œã—ã€ã‚¢ãƒ³ã‚«ãƒ¼ãƒªãƒ³ã‚¯ã«ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã®ãƒªã‚¹ãƒˆã¯æ¬¡ã®å‹ã«å¾“ã„ã¾ã™ã€‚`{ depth: number; slug: string; text: string }[]`ã€‚
- **`Content`** - ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸå®Œå…¨ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿”ã™ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚
- **(Markdownã®ã¿) `rawContent()`** - ç”Ÿã®Markdownãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ–‡å­—åˆ—ã¨ã—ã¦è¿”ã™é–¢æ•°ã§ã™ã€‚
- **(Markdownã®ã¿) `compiledContent()`** - HTMLæ–‡å­—åˆ—ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸMarkdownãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿”ã™é–¢æ•°ã§ã™ã€‚ã“ã‚Œã¯ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã§è¨­å®šã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å«ã¾ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚Markdownãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªèº«ã®ã¿ãŒHTMLã¨ã—ã¦è¿”ã•ã‚Œã¾ã™ã€‚
- **(MDXã®ã¿)** - MDXãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€`export`æ–‡ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

### `Content` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

`Content`ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã¨ã€Markdownã¾ãŸã¯MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Œå…¨ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿”ã™ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```astro title="src/pages/content.astro" "Content"
---
import {Content as PromoBanner} from '../components/promoBanner.md';
---

<h2>æœ¬æ—¥ã®ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³</h2>
<PromoBanner />
```

#### ä¾‹ï¼šå‹•çš„ãƒšãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Markdown/MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’`src/pages/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç½®ã„ã¦ãƒšãƒ¼ã‚¸ãƒ«ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ä»£ã‚ã‚Šã«ã€ãƒšãƒ¼ã‚¸ã‚’[å‹•çš„ã«ç”Ÿæˆã§ãã¾ã™](/ja/core-concepts/routing/#å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)ã€‚

Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€Astroãƒšãƒ¼ã‚¸ã®`props`ã«`<Content/>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¸¡ã—ã¾ã™ã€‚ãã—ã¦ã€`Astro.props`ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—ã—ã€ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚

```astro title="src/pages/[slug].astro" {9-11} "Content" "Astro.props.post"
---
export async function getStaticPaths() {
  const posts = await Astro.glob('../posts/**/*.md')

  return posts.map(post => ({
    params: { 
      slug: post.frontmatter.slug 
    },
    props: {
      post
    },
  }))
}

const { Content } = Astro.props.post
---
<article>
  <Content/>
</article>
```


### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆMDXã®ã¿ï¼‰

MDXãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€`export`æ–‡ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚

ãŸã¨ãˆã°ã€MDXãƒšãƒ¼ã‚¸ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰`title`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚

```mdx title="/src/pages/posts/post-1.mdx"
export const title = 'ã¯ã˜ã‚ã¦ã®MDXã®æŠ•ç¨¿'
```

ã“ã®`title`ã¯`import`ã‚„[`Astro.glob()`](/ja/reference/api-reference/#astroglob)æ–‡ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```astro
---
// src/pages/index.astro
const posts = await Astro.glob('./*.mdx');
---

{posts.map(post => <p>{post.title}</p>)}
```

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸMDXã‚’ä½¿ã£ãŸã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸMDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹éš›ã€`components`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§[ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’htmlè¦ç´ ã«å‰²ã‚Šå½“ã¦ã‚‹)ã‚’æ¸¡ã›ã¾ã™ã€‚

```astro title="src/pages/page.astro" "components={{...components, h1: Heading }}"
---
import { Content, components } from '../content.mdx';
import Heading from '../Heading.astro';
---
<!-- # è¨˜æ³•ã®ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ ã® <h1> ã‚’ä½œæˆã—ã€`content.mdx`ã§å®šç¾©ã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é©ç”¨ã—ã¾ã™ã€‚ -->
<Content components={{...components, h1: Heading }} />
```

:::note
MDXãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã•ã‚Œã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã‹ã‚‰ã€`components`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£çµŒç”±ã§`<Content />`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
:::

## Markdownã¨MDXã®è¨­å®š

Astroã®Markdownã‚µãƒãƒ¼ãƒˆã¯ã€æ´»ç™ºãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤å¼·åŠ›ãªãƒ‘ãƒ¼ã‚¹ãŠã‚ˆã³å‡¦ç†ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹[remark](https://remark.js.org/)ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚Pandocã‚„markdown-itãªã©ã®ä»–ã®Markdownãƒ‘ãƒ¼ã‚µãƒ¼ã¯ã€ç¾åœ¨ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

Astroã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§[GitHub-flavored Markdown](https://github.com/remarkjs/remark-gfm)ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é©ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãªãƒªãƒ³ã‚¯ãŒç”Ÿæˆã•ã‚Œã‚‹ãªã©ã€ã„ãã¤ã‹ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

remarkãŒMarkdownã‚’ã©ã®ã‚ˆã†ã«è§£æã™ã‚‹ã‹ã¯ã€`astro.config.mjs`ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚[Markdownã®è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³](/ja/reference/configuration-reference/#ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³)ã®å…¨ãƒªã‚¹ãƒˆã‚’ã”è¦§ãã ã•ã„ã€‚

### Markdownãƒ—ãƒ©ã‚°ã‚¤ãƒ³

Astroã¯ã€MarkdownãŠã‚ˆã³MDXã®ãŸã‚ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®[remark](https://github.com/remarkjs/remark)ãŠã‚ˆã³[rehype](https://github.com/rehypejs/rehype)ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¿½åŠ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã‚Šã€[ç›®æ¬¡ã®è‡ªå‹•ç”Ÿæˆ](https://github.com/remarkjs/remark-toc)ã€[ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªçµµæ–‡å­—ãƒ©ãƒ™ãƒ«ã®é©ç”¨](https://github.com/florianeckerstorfer/remark-a11y-emoji)ãªã©ã€æ–°ã—ã„æ©Ÿèƒ½ã§Markdownã‚’æ‹¡å¼µã§ãã¾ã™ã€‚

äººæ°—ã®ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯[awesome-remark](https://github.com/remarkjs/awesome-remark)ã¨[awesome-rehype](https://github.com/rehypejs/awesome-rehype)ã‚’å‚ç…§ã™ã‚‹ã®ãŒãŠã™ã™ã‚ã§ã™ã€‚å…·ä½“çš„ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®READMEã‚’ã”è¦§ãã ã•ã„ã€‚

ã“ã®ä¾‹ã§ã¯ã€Astroã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç¶­æŒã—ãŸã¾ã¾ã€Markdownã¨MDXã«[`remark-toc`](https://github.com/remarkjs/remark-toc)ã‚’é©ç”¨ã—ã€MDXã®ã¿ã«[`rehype-accessible-emojis`](https://www.npmjs.com/package/rehype-accessible-emojis)ã‚’é©ç”¨ã—ã¦ã„ã¾ã™ã€‚

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import remarkToc from 'remark-toc';
import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis';

export default {
  markdown: {
    // .md ã¨ .mdx ãƒ•ã‚¡ã‚¤ãƒ«ã«é©ç”¨
    remarkPlugins: [remarkToc],
    rehypePlugins: [rehypeAccessibleEmojis],
  },
}
```

ãªãŠã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€`remarkToc`ã¯ç›®æ¬¡ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€ãƒšãƒ¼ã‚¸ä¸Šã«ã€ŒToCã€ã¾ãŸã¯ã€ŒTable of Contentsã€ã®[è¦‹å‡ºã—](https://github.com/remarkjs/remark-toc#optionsheading)ï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„ï¼‰ã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚

#### è¦‹å‡ºã—ã®IDã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

Astroã¯ã€Markdownã‚„MDXãƒ•ã‚¡ã‚¤ãƒ«ã®ã™ã¹ã¦ã®è¦‹å‡ºã—è¦ç´ ï¼ˆ`<h1>`ï½`<h6>`ï¼‰ã«`id`å±æ€§ã‚’æ³¨å…¥ã—ã€[Markdownã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](#ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£)ã§ã“ã‚Œã‚‰ã®IDã‚’å–å¾—ã™ã‚‹ãŸã‚ã®`getHeadings()`ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

`id`å±æ€§ï¼ˆ`rehype-slug`ãªã©ï¼‰ã‚’æ³¨å…¥ã™ã‚‹rehypeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®è¦‹å‡ºã—IDã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚Astroã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãªãã€ã‚ãªãŸã®ã‚«ã‚¹ã‚¿ãƒ IDãŒHTMLå‡ºåŠ›ã¨`getHeadings()`ãŒè¿”ã™ã‚¢ã‚¤ãƒ†ãƒ ã«åæ˜ ã•ã‚Œã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Astroã¯rehypeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã«`id`å±æ€§ã‚’æ³¨å…¥ã—ã¾ã™ã€‚ã‚‚ã—ã€ã‚«ã‚¹ã‚¿ãƒ rehypeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®1ã¤ãŒAstroã«ã‚ˆã£ã¦æ³¨å…¥ã•ã‚ŒãŸIDã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€Astroã®`rehypeHeadingIds`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚`rehypeHeadingIds`ã«ä¾å­˜ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å‰ã«å¿…ãš`rehypeHeadingIds`ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```js title="astro.config.mjs" ins={2, 8}
import { defineConfig } from 'astro/config';
import { rehypeHeadingIds } from '@astrojs/markdown-remark';
import { otherPluginThatReliesOnHeadingIDs } from 'some/plugin/source';

export default defineConfig({
  markdown: {
    rehypePlugins: [
      rehypeHeadingIds,
      otherPluginThatReliesOnHeadingIDs,
    ],
  },
});
```

#### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®š

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹ãŸã‚ã«ã¯ã€ãƒã‚¹ãƒˆã•ã‚ŒãŸé…åˆ—ã®ä¸­ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å¾Œã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€[`remarkToc`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`heading`ã‚ªãƒ—ã‚·ãƒ§ãƒ³](https://github.com/remarkjs/remark-toc#optionsheading)ã‚’è¿½åŠ ã—ã¦ç›®æ¬¡ã®é…ç½®ã‚’å¤‰æ›´ã—ã€[`rehype-autolink-headings`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`behavior`ã‚ªãƒ—ã‚·ãƒ§ãƒ³](https://github.com/rehypejs/rehype-autolink-headings#optionsbehavior)ã‚’è¿½åŠ ã—ã¦ã€è¦‹å‡ºã—ãƒ†ã‚­ã‚¹ãƒˆã®å¾Œã«ã‚¢ãƒ³ã‚«ãƒ¼ã‚¿ã‚°ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

```js title="astro.config.mjs"
import remarkToc from 'remark-toc';
import rehypeSlug from 'rehype-slug';
import rehypeAutolinkHeadings from 'rehype-autolink-headings';

export default {
  markdown: {
    remarkPlugins: [ [remarkToc, { heading: "contents"} ] ],
    rehypePlugins: [rehypeSlug, [rehypeAutolinkHeadings, { behavior: 'append' }]],
  },
}
```

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚‹ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®å¤‰æ›´

[remarkã‚„rehypeã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](#markdownãƒ—ãƒ©ã‚°ã‚¤ãƒ³)ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚„MDXãƒ•ã‚¡ã‚¤ãƒ«ã«frontmatterãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®`file`å¼•æ•°ã®`data.astro.frontmatter`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«`customProperty`ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

    ```js title="example-remark-plugin.mjs"
    export function exampleRemarkPlugin() {
      // ã™ã¹ã¦ã® remark ãŠã‚ˆã³ rehype ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€åˆ¥ã®é–¢æ•°ã‚’è¿”ã—ã¾ã™ã€‚
      return function (tree, file) {
        file.data.astro.frontmatter.customProperty = 'ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£';
      }
    }
    ```

    :::tip
    <Since v="2.0.0" />

    `data.astro.frontmatter`ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸMarkdownã¾ãŸã¯MDXãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ—¢å­˜ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä¿®æ­£ã—ãŸã‚Šã€ã“ã®æ—¢å­˜ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰æ–°ã—ã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨ˆç®—ã—ãŸã‚Šã§ãã¾ã™ã€‚
    :::

2. ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’`markdown`ã¾ãŸã¯`mdx`ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã«é©ç”¨ã—ã¾ã™ã€‚

    ```js title="astro.config.mjs" "import { exampleRemarkPlugin } from './example-remark-plugin.mjs';" "remarkPlugins: [exampleRemarkPlugin],"
    import { exampleRemarkPlugin } from './example-remark-plugin.mjs';

    export default {
      markdown: {
        remarkPlugins: [exampleRemarkPlugin]
      },
    };

    ```

    ã¾ãŸã¯

    ```js title="astro.config.mjs" "import { exampleRemarkPlugin } from './example-remark-plugin.mjs';" "remarkPlugins: [exampleRemarkPlugin],"
    import { defineConfig } from 'astro/config';
    import { exampleRemarkPlugin } from './example-remark-plugin.mjs';

    export default defineConfig({
      integrations: [
        mdx({
          remarkPlugins: [exampleRemarkPlugin],
        }),
      ],
    });
    ```

ã“ã‚Œã§ã€ã™ã¹ã¦ã®Markdownã¾ãŸã¯MDXãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã«`customProperty`ã‚’æŒã¡ã€[Markdownã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ](#markdownã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)æ™‚ã‚„[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®`Astro.props.frontmatter`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](#ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼-layout)ã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

#### ä¾‹ï¼šèª­æ›¸æ™‚é–“ã®è¨ˆç®—

 [remark plugin](https://github.com/remarkjs/remark)ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€frontmatterã«èª­äº†æ™‚åˆ»ã‚’è¿½åŠ ã§ãã¾ã™ã€‚æ¬¡ã®2ã¤ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ãŒãŠã™ã™ã‚ã§ã™ã€‚
- [`reading-time`](https://www.npmjs.com/package/reading-time)ã§èª­æ›¸æ™‚é–“ï¼ˆåˆ†ï¼‰ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- [`mdast-util-to-string`](https://www.npmjs.com/package/mdast-util-to-string)ã¯Markdownã‹ã‚‰ã™ã¹ã¦ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¾ã™ã€‚

```shell
npm install reading-time mdast-util-to-string
```

ã“ã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’remarkãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«é©ç”¨ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js title="remark-reading-time.mjs"
import getReadingTime from 'reading-time';
import { toString } from 'mdast-util-to-string';

export function remarkReadingTime() {
  return function (tree, { data }) {
    const textOnPage = toString(tree);
    const readingTime = getReadingTime(textOnPage);
    // readingTime.textã¯ã€èª­æ›¸æ™‚é–“ï¼ˆåˆ†ï¼‰ã‚’ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªæ–‡å­—åˆ—ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
    // ãŸã¨ãˆã°ã€"3 min read"
    data.astro.frontmatter.minutesRead = readingTime.text;
  };
}
```

ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«é©ç”¨ã—ã¾ã™ã€‚

```js title="astro.config.mjs" "import { remarkReadingTime } from './remark-reading-time.mjs';" "remarkPlugins: [remarkReadingTime],"
import { remarkReadingTime } from './remark-reading-time.mjs';

export default {
  markdown: {
    remarkPlugins: [remarkReadingTime]
  },
};

```

ã“ã‚Œã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®Markdownãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯è¨ˆç®—ã•ã‚ŒãŸ`minutesRead`ã‚’æŒã¤ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã€ãŸã¨ãˆã°[Markdownãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](#markdownãƒšãƒ¼ã‚¸ã¨mdxãƒšãƒ¼ã‚¸)ã«èª­æ›¸æ™‚é–“ã‚’è¡¨ç¤ºã™ã‚‹ãƒãƒŠãƒ¼ã‚’å«ã‚ã‚‰ã‚Œã¾ã™ã€‚

```astro title="src/layouts/BlogLayout.astro" "const { minutesRead } = Astro.props.frontmatter;" "<p>{minutesRead}</p>"
---
const { minutesRead } = Astro.props.frontmatter;
---

<html>
  <head>...</head>
  <body>
    <p>{minutesRead}</p>
    <slot />
  </body>
</html>
```

### MDXã‹ã‚‰Markdownè¨­å®šã‚’ç¶™æ‰¿

Astroã®MDXçµ±åˆã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ—¢å­˜ã®Markdownè¨­å®š](/ja/reference/configuration-reference/#ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³)ã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚å€‹ã€…ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä¸Šæ›¸ãã™ã‚‹ã«ã¯ã€MDXã®æ§‹æˆã§åŒç­‰ã®ã‚‚ã®ã‚’æŒ‡å®šã—ã¾ã™ã€‚

æ¬¡ã®ä¾‹ã§ã¯ã€GitHub-Flavored Markdownã‚’ç„¡åŠ¹ã«ã—ã€MDXãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ç•°ãªã‚‹remarkãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚»ãƒƒãƒˆã‚’é©ç”¨ã—ã¦ã„ã¾ã™ã€‚

```ts title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import mdx from '@astrojs/mdx';

export default defineConfig({
  markdown: {
    syntaxHighlight: 'prism',
    remarkPlugins: [remarkPlugin1],
    gfm: true,
  },
  integrations: [
    mdx({
      // Markdownã‹ã‚‰ç¶™æ‰¿ã—ãŸ`syntaxHighlight`

      // Markdownã®`remarkPlugins`ã¯ç„¡è¦–ã•ã‚Œã€
      // `remarkPlugin2`ã®ã¿ãŒé©ç”¨ã•ã‚Œã‚‹
      remarkPlugins: [remarkPlugin2],
      // `gfm`ã¯`false`ã«ä¸Šæ›¸ãã•ã‚Œã‚‹
      gfm: false,
    })
  ]
});
```

MDXã‹ã‚‰Markdownã®è¨­å®šã‚’ç¶™æ‰¿ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€[`extendMarkdownConfig`ã‚ªãƒ—ã‚·ãƒ§ãƒ³](/ja/guides/integrations-guide/mdx/#extendmarkdownconfig))ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ï¼‰ã‚’`false`ã«è¨­å®šã—ã¾ã™ã€‚


```ts title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import mdx from '@astrojs/mdx';

export default defineConfig({
  markdown: {
    remarkPlugins: [remarkPlugin],
  },
  integrations: [
    mdx({
      // Markdownã®è¨­å®šã¯ç„¡è¦–ã•ã‚Œã‚‹
      extendMarkdownConfig: false,
      // `remarkPlugins`ã¯é©ç”¨ã•ã‚Œãªã„
    })
  ]
});
```

### ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ

Astroã¯ã€[Shiki](https://shiki.matsu.io/)ã¨[Prism](https://prismjs.com/)ã‚’ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã§ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

- Markdownã¾ãŸã¯MDXãƒ•ã‚¡ã‚¤ãƒ«ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãƒ•ã‚§ãƒ³ã‚¹(```)ã€‚
- [çµ„ã¿è¾¼ã¿ã®`<Code />`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/reference/api-reference/#code-)å†…ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (Shikiã‚’ä½¿ç”¨ï¼‰ã€‚
- [`<Prism />`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/reference/api-reference/#prism-)å†…ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (Prismã‚’ä½¿ç”¨ï¼‰ã€‚

Shikiã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã£ã¦ãŠã‚Šã€`github-dark`ãƒ†ãƒ¼ãƒã§ã‚ã‚‰ã‹ã˜ã‚è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸå‡ºåŠ›ã¯ã€ä½™è¨ˆãªCSSã‚¯ãƒ©ã‚¹ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰JSã®ãªã„ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³`style`ã«é™å®šã•ã‚Œã¾ã™ã€‚

#### Shikiã®è¨­å®š

Shikiã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã§ã™ã€‚ã™ã¹ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯`shikiConfig`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆçµŒç”±ã§ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã§ãã¾ã™ã€‚

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    shikiConfig: {
      // Shikiã®çµ„ã¿è¾¼ã¿ãƒ†ãƒ¼ãƒã‹ã‚‰é¸æŠï¼ˆã¾ãŸã¯ç‹¬è‡ªã®ãƒ†ãƒ¼ãƒã‚’è¿½åŠ ï¼‰
      // https://github.com/shikijs/shiki/blob/main/docs/themes.md
      theme: 'dracula',
      // ã‚«ã‚¹ã‚¿ãƒ è¨€èªã®è¿½åŠ 
      // æ³¨ï¼šShikiã«ã¯.astroã‚’å«ã‚€ç„¡æ•°ã®è¨€èªãŒå†…è”µã•ã‚Œã¦ã„ã¾ã™ã€‚
      // https://github.com/shikijs/shiki/blob/main/docs/languages.md
      langs: [],
      // æ°´å¹³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’é˜²ããŸã‚ã«æ–‡å­—ã®æŠ˜ã‚Šè¿”ã—ã‚’æœ‰åŠ¹ã«ã™ã‚‹
      wrap: true,
    },
  },
});
```

#### ç‹¬è‡ªãƒ†ãƒ¼ãƒã®è¿½åŠ 

Shikiã®å®šç¾©æ¸ˆã¿ãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨ã™ã‚‹ä»£ã‚ã‚Šã«ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import customTheme from './my-shiki-theme.json';

export default defineConfig({
  markdown: {
    shikiConfig: { theme: customTheme },
  },
});
```

ã¾ãŸã€ãƒ†ãƒ¼ãƒã€ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã¨ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆã€CSSå¤‰æ•°ã«ã‚ˆã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã«ã¤ã„ã¦è©³ã—ãèª¿ã¹ã‚‹ã«ã¯ã€[Shikiå…¬å¼ã®ãƒ†ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/shikijs/shiki/blob/main/docs/themes.md#loading-theme)ã‚’èª­ã‚€ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚

#### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’`'prism'`ã«åˆ‡ã‚Šæ›¿ãˆãŸã„å ´åˆã€ã¾ãŸã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’å®Œå…¨ã«ç„¡åŠ¹ã«ã—ãŸã„å ´åˆã¯ã€`markdown.syntaxHighlighting`è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```js title="astro.config.mjs" ins={6}
import { defineConfig } from 'astro/config';

export default defineConfig({
  markdown: {
    // 'shiki'ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã€'prism'ã€ã¾ãŸã¯ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ç„¡åŠ¹ã«ã™ã‚‹å ´åˆã¯ false ã‚’æŒ‡å®šã—ã¾ã™
    syntaxHighlight: 'prism',
  },
});
```

#### Prismã®è¨­å®š

Prismã®ä½¿ç”¨ã‚’é¸æŠã—ãŸå ´åˆã€Astroã¯Prismã®CSSã‚¯ãƒ©ã‚¹ã‚’ä»£ã‚ã‚Šã«é©ç”¨ã—ã¾ã™ã€‚ãªãŠã€ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’è¡¨ç¤ºã•ã›ã‚‹ã«ã¯ã€**ç‹¬è‡ªã®CSSã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã‚’ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚

1. åˆ©ç”¨å¯èƒ½ãª[Prismãƒ†ãƒ¼ãƒ](https://github.com/PrismJS/prism-themes)ã‹ã‚‰ã€ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚
2. ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã‚’[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®`public/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](/ja/core-concepts/project-structure/#public)ã«è¿½åŠ ã—ã¾ã™ã€‚
3. ã“ã‚Œã‚’[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/ja/core-concepts/layouts/)ã®`<head>`ã«`<link>`ã‚¿ã‚°ã§èª­ã¿è¾¼ã¿ã¾ã™ã€‚ï¼ˆ[Prismã®åŸºæœ¬çš„ãªä½¿ã„æ–¹](https://prismjs.com/#basic-usage)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼‰

ã¾ãŸã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯ã€[Prismã®å¯¾å¿œè¨€èªä¸€è¦§](https://prismjs.com/#supported-languages)ã‚’ã”è¦§ãã ã•ã„ã€‚

## ãƒªãƒ¢ãƒ¼ãƒˆã«ã‚ã‚‹Markdownã®å–å¾—

Astroã¯ä¸»ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä¿å­˜ã•ã‚Œã‚‹ãƒ­ãƒ¼ã‚«ãƒ«ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ç”¨ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ãƒªãƒ¢ãƒ¼ãƒˆã‚½ãƒ¼ã‚¹ã‹ã‚‰Markdownã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ç‰¹å®šã®ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã¨ãˆã°ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ã¨ãï¼ˆã¾ãŸã¯[SSR](/ja/guides/server-side-rendering/)ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã¨ãï¼‰ã€ãƒªãƒ¢ãƒ¼ãƒˆAPIã‹ã‚‰Markdownã‚’å–å¾—ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

**Astroã¯ã€æ¨™æº–ã§ãƒªãƒ¢ãƒ¼ãƒˆã®Markdownã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ï¼** ãƒªãƒ¢ãƒ¼ãƒˆã®Markdownã‚’å–å¾—ã—ã€ãã‚Œã‚’HTMLã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã«ã¯ã€npmã‹ã‚‰ç‹¬è‡ªã®Markdownãƒ‘ãƒ¼ã‚µãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸAstroã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³Markdownã¨MDXã®è¨­å®šã‚’ã„ãšã‚Œã‹ã‚‰ã‚‚**ç¶™æ‰¿ã—ã¾ã›ã‚“**ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã“ã‚Œã‚’å®Ÿè£…ã™ã‚‹å‰ã«ã€ã“ã‚Œã‚‰ã®åˆ¶é™ã‚’ç†è§£ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚

```astro title="src/pages/remote-example.astro"
---
// ä¾‹: Markdown ã‚’ãƒªãƒ¢ãƒ¼ãƒˆAPIã‹ã‚‰å–å¾—ã—ã€
// ãã‚Œã‚’å®Ÿè¡Œæ™‚ã«HTMLã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã€‚
// "marked" (https://github.com/markedjs/marked) ã‚’åˆ©ç”¨
import { marked } from 'marked';
const response = await fetch('https://raw.githubusercontent.com/wiki/adam-p/markdown-here/Markdown-Cheatsheet.md');
const markdown = await response.text();
const content = marked.parse(markdown);
---
<article set:html={content} />
```
