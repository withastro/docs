---
title: ã‚»ãƒƒã‚·ãƒ§ãƒ³
description: ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒšãƒ¼ã‚¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã€‚
i18nReady: true
---

import Since from '~/components/Since.astro';
import ReadMore from '~/components/ReadMore.astro';

<p>
<Since v="5.7.0" />
</p>

ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã€[ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒšãƒ¼ã‚¸](/ja/guides/on-demand-rendering/)ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã§ã™ã€‚

[`cookies`](/ja/guides/on-demand-rendering/#cookies)ã¨ã¯ç•°ãªã‚Šã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã‚µãƒ¼ãƒãƒ¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã€ã‚ˆã‚Šå¤§ããªãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ã‚µã‚¤ã‚ºåˆ¶é™ã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡Œã‚‚æ°—ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã€ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆã€ãƒ•ã‚©ãƒ¼ãƒ ã®çŠ¶æ…‹ãªã©ã‚’ä¿å­˜ã™ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®JavaScriptã‚’ä½¿ã‚ãªã„ã§æ©Ÿèƒ½ã—ã¾ã™ã€‚

```astro title="src/components/CartButton.astro" {3}
---
export const prerender = false; // 'server'å‡ºåŠ›ã®å ´åˆã¯ä¸è¦
const cart = await Astro.session?.get('cart');
---

<a href="/checkout">ğŸ›’ {cart?.length ?? 0} ç‚¹</a>
```

## ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è¨­å®š

ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã«ã¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒå¿…è¦ã§ã™ã€‚[Node](/ja/guides/integrations-guide/node/#sessions)ãƒ»[Cloudflare](/ja/guides/integrations-guide/cloudflare/#sessions)ãƒ»[Netlify](/ja/guides/integrations-guide/netlify/#sessions) ã®å„ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’è‡ªå‹•çš„ã«è¨­å®šã—ã¾ã™ã€‚ã—ã‹ã—ã€ãã®ä»–ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã§ã¯ [ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’æ‰‹å‹•ã§æŒ‡å®š](/ja/reference/configuration-reference/#sessiondriver) ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```js title="astro.config.mjs" ins={4}
  {
    adapter: vercel(),
    session: {
      driver: "redis",
    },
  }
```

<ReadMore>
  ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®è¨­å®šæ–¹æ³•ã‚„ãã®ä»–ã®è¨­å®šé …ç›®ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€[sessionè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³](/ja/reference/configuration-reference/#session-options)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
</ReadMore>
