---
type: tutorial
title: Crea e passa dati a un layout personalizzato per il blog
description: >-
  Tutorial: Crea il tuo primo blog con Astro —

  Crea un layout per i post del blog nei tuoi file Markdown e passa i valori del frontmatter
  come proprietà al componente layout
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';
import Badge from "~/components/Badge.astro"

Ora che hai un layout per le tue pagine, è il momento di aggiungere un layout per i post del blog!

<PreCheck>
  - Crea un nuovo layout per i post del blog nei tuoi file Markdown
  - Passa i valori del frontmatter YAML come proprietà al componente layout
</PreCheck>

## Aggiungi un layout ai tuoi post del blog

Quando includi la proprietà `layout` nel frontmatter di un file `.md`, tutti i valori del frontmatter YAML sono disponibili nel file di layout.

<Steps>
1. Crea un nuovo file in `src/layouts/MarkdownPostLayout.astro`

2. Copia il seguente codice in `MarkdownPostLayout.astro`

    ```astro title="src/layouts/MarkdownPostLayout.astro"
    ---
    const { frontmatter } = Astro.props;
    ---
    <h1>{frontmatter.title}</h1>
    <p>Scritto da {frontmatter.author}</p>
    <slot />
    ```

3. Aggiungi la seguente proprietà di frontmatter in `post-1.md`

    ```markdown title="src/pages/posts/post-1.md" ins={2}
    ---
    layout: ../../layouts/MarkdownPostLayout.astro
    title: 'Il mio primo post del blog'
    pubDate: 2022-07-01
    description: 'Questo è il primo post del mio nuovo blog Astro.'
    author: 'Astro Learner'
    image:
        url: 'https://docs.astro.build/assets/rose.webp' 
        alt: 'Il logo di Astro su uno sfondo scuro con un bagliore rosa.'
    tags: ["astro", "blogging", "learning in public"]
    ---
    ```

4. Controlla nuovamente la tua anteprima nel browser su `http://localhost:4321/posts/post-1` e nota cosa ha aggiunto il layout alla tua pagina.

5. Aggiungi la stessa proprietà `layout` agli altri due post del blog `post-2.md` e `post-3.md`. Verifica nel browser che il tuo layout venga applicato anche a questi post.
</Steps>

:::tip
Quando usi i layout, ora hai la possibilità di includere elementi, come il titolo della pagina, nel contenuto Markdown o nel layout. Ricorda di ispezionare visivamente l'anteprima della pagina e fare le modifiche necessarie per evitare la duplicazione degli elementi.
:::

<Box icon="puzzle-piece">

## Prova a farlo tu stesso - Personalizza il layout del post del blog

**Sfida**: Identifica gli elementi comuni a ogni post del blog e usa `MarkdownPostLayout.astro` per renderli, invece di scriverli nel tuo Markdown in `post-1.md` e in ogni futuro post del blog.

Ecco un esempio di come rifattorizzare il tuo codice per includere la `pubDate` nel componente layout invece di scriverla nel corpo del tuo Markdown:

```markdown title="src/pages/posts/post-1.md" del={1}
Pubblicato il: 2022-07-01

Benvenuto nel mio _nuovo blog_ su come imparare Astro! Qui condividerò il mio percorso di apprendimento mentre costruisco un nuovo sito web.
```

```astro title="src/layouts/MarkdownPostLayout.astro" ins={5}
---
const { frontmatter } = Astro.props;
---
<h1>{frontmatter.title}</h1>
<p>Pubblicato il: {frontmatter.pubDate.toString().slice(0,10)}</p>
<p>Scritto da {frontmatter.author}</p>
<slot />
```

Rifattorizza quanto pensi sia utile per te e aggiungi quanto vuoi al tuo layout, ricordando che ogni cosa che aggiungi al layout è una cosa in meno che dovrai scrivere in ogni singolo post del blog!

Ecco un esempio di layout rifattorizzato che lascia solo il contenuto del singolo post del blog reso tramite lo slot. Sentiti libero di usarlo o crearne uno tuo!

```astro title="src/layouts/MarkdownPostLayout.astro"
---
const { frontmatter } = Astro.props;
---
<h1>{frontmatter.title}</h1>
<p>{frontmatter.pubDate.toString().slice(0,10)}</p>
<p><em>{frontmatter.description}</em></p>
<p>Scritto da: {frontmatter.author}</p>
<img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} />
<slot />
```
</Box>

:::note[Evita la duplicazione]
Qualsiasi cosa venga renderizzata dal tuo layout **non** deve essere scritta nel tuo post del blog! Se noti duplicazione quando controlli l'anteprima del browser, assicurati di rimuovere il contenuto dal tuo file Markdown.
:::

<Box icon="question-mark">

### Testa la tua conoscenza
Riesci a capire cosa deve andare nei vuoti affinché i seguenti due componenti producano codice Astro funzionante?

1.  ```markdown title="src/pages/posts/learning-astro.md"
    ---
    layout: ../../__________/MyMarkdownLayout.astro
    title: "Imparare Markdown in Astro"
    author: Astro Learner
    ____: 2022-08-08
    ---
    Ho imparato così tanto oggi! Astro mi permette di scrivere in Markdown, ma anche di usare variabili dal frontmatter. Posso anche accedere a quei valori in un componente layout Astro.
    ```

2.  ```astro title="src/layouts/MyMarkdownLayout.astro"
    ---
    import ____________ from '../components/Footer.astro'
    const { ___________ } = Astro.props
    ---
    <h1>{frontmatter.title}</h1>
    <p>Scritto da: {frontmatter.______} il {frontmatter.pubDate}</p>
    < _______ />
    <Footer />
    ```
    <details>
        <summary>Mostra i vuoti riempiti!</summary>

        1.  ```markdown title="src/pages/posts/learning-astro.md" "layouts" "pubDate"
            ---
            layout: ../../layouts/MyMarkdownLayout.astro
            title: "Imparare Markdown in Astro"
            author: Astro Learner
            pubDate: 2022-08-08
            ---
            Ho imparato così tanto oggi! Astro mi permette di scrivere in Markdown, ma anche di usare variabili dal frontmatter. Posso anche accedere a quei valori in un componente layout Astro.
            ```

        2.  ```astro title="src/layouts/MyMarkdownLayout.astro" " Footer " " frontmatter " "author" "slot"
            ---
            import Footer from '../components/Footer.astro'
            const { frontmatter } = Astro.props
            ---
            <h1>{frontmatter.title}</h1>
            <p>Scritto da: {frontmatter.author} il {frontmatter.pubDate}</p>
            <slot />
            <Footer />
            ```
    </details>
</Box>

<Box icon="check-list">

## Lista di controllo

<Checklist>
- [ ] Posso aggiungere una proprietà layout a un post del blog Markdown nel suo frontmatter YAML.
- [ ] Posso creare un layout separato per i post Markdown.
- [ ] Posso usare i valori del frontmatter di un post del blog in un componente layout.
</Checklist>

</Box>

### Risorse

- [Layouts Markdown in Astro](/en/guides/markdown-content/#frontmatter-layout-property)

- [Proprietà Layout Markdown](/en/basics/layouts/#markdown-layout-props)

- [Introduzione a YAML](https://dev.to/paulasantamaria/introduction-to-yaml-125f) <Badge class="neutral-badge" text="esterno" />
