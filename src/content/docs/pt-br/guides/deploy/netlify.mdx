---
title: Fa√ßa o deploy do seu site Astro na Netlify
description: Como fazer o deploy do seu site Astro para a web na Netlify.
type: deploy
i18nReady: true
---
[Netlify](https://netlify.com) oferece hospedagem e servi√ßos de backend serverless para aplica√ß√µes web e sites est√°ticos. Qualquer site Astro pode ser hospedado na Netlify!

Esse guia inclui instru√ß√µes para fazer o deploy na Netlify atrav√©s da interface do site ou da CLI da Netlify.

## Configura√ß√£o do Projeto

Voc√™ pode fazer o deploy do seu projeto Astro na Netlify de tr√™s maneiras diferentes: como um site est√°tico, como um site renderizado no servidor ou como um site renderizado na Edge (experimental).

### Site Est√°tico

Seu projeto Astro √© um site est√°tico por padr√£o. Voc√™ n√£o precisa de nenhuma configura√ß√£o adicional para fazer o deploy de um site Astro est√°tico na Netlify.

### Adaptador para SSR/Edge

Para habilitar o SSR em seu projeto Astro e fazer o deploy na Netlify, incluindo uso de fun√ß√µes na Edge pela Netlify:

Adicione o [adaptador para Netlify](/pt-br/guides/integrations-guide/netlify/) para habilitar o SSR em seu projeto Astro com o comando `astro add` a seguir. Isso ir√° instalar o adaptador e fazer as altera√ß√µes apropriadas em seu arquivo `astro.config.mjs` em apenas um passo.

```bash
npx astro add netlify
```

Se preferir instalar o adaptador manualmente, conclua os dois passos a seguir:

1. Instale o [adaptador `@astrojs/netlify`](https://github.com/withastro/astro/tree/main/packages/integrations/netlify) nas depend√™ncias do seu projeto usando seu gerenciador de pacotes preferido. Se voc√™ est√° utilizando o npm ou n√£o tem certeza, execute em seu terminal:

    ```bash
      npm install @astrojs/netlify
    ```

2. Adicione duas novas linhas ao seu arquivo de configura√ß√£o do projeto `astro.config.mjs`.

    ```js title="astro.config.mjs" ins={2, 5-6}
    import { defineConfig } from 'astro/config';
    import netlify from '@astrojs/netlify/functions';

    export default defineConfig({
      output: 'server',
      adapter: netlify(),
    });
    ```

Voc√™ pode fazer o deploy do seu projeto utilizando tamb√©m a Netilify Edge Functions adicinando `edgeMiddleware: true` na configura√ß√£o do adaptador Netilify.
    ```diff lang="js"
      // astro.config.mjs
      import { defineConfig } from 'astro/config';
      import netlify from '@astrojs/netlify/functions';

      export default defineConfig({
        output: 'server',
        adapter: netlify({
          edgeMiddleware: true
        }),
      });
      ```

## Como fazer o deploy

Voc√™ pode fazer o deploy na Netlify atrav√©s da interface do site ou da CLI (interface de linha de comando) da Netlify. O processo √© o mesmo para sites Astro est√°ticos e SSR.

### Deploy atrav√©s da interface do site

Se o seu projeto est√° armazenado no GitHub, GitLab, BitBucket ou Azure DevOps, voc√™ poder√° utilizar a interface do site da Netlify para fazer o deploy do seu site Astro.

1. Clique em <kbd>Add a new site</kbd> em seu [painel de controle da Netlify](https://app.netlify.com/)

2. Escolha <kbd>Import an existing project</kbd>

    Quando voc√™ importa seu reposit√≥rio Astro do seu provedor Git, a Netlify deve detectar e pr√©-preencher automaticamente as configura√ß√µes corretas para voc√™.

3. Certifique-se de que as seguintes configura√ß√µes foram inseridas, e ent√£o clique no bot√£o <kbd>Deploy</kbd>:

    - **Build Command:** `astro build` ou `npm run build`
    - **Publish directory:** `dist`

Depois de fazer o deploy voc√™ ser√° redirecionado para a p√°gina de vis√£o geral do site. L√° voc√™ pode editar os detalhes de seu site.

Quaisquer altera√ß√µes futuras no seu reposit√≥rio de origem acionar√£o deploys de visualiza√ß√£o e produ√ß√£o baseados em sua configura√ß√£o de deploy.

#### Arquivo `netlify.toml`

Opcionalmente, voc√™ pode criar um arquivo `netlify.toml` na raiz do reposit√≥rio do seu projeto para configurar o seu comando de build e o diret√≥rio de publica√ß√£o, bem como outras configura√ß√µes de projeto, incluindo vari√°veis de ambiente e redirecionamentos. A Netlify ler√° este arquivo e configurar√° automaticamente o seu deploy.

Para definir as configura√ß√µes padr√£o, crie um arquivo `netlify.toml` com o seguinte conte√∫do:

```toml
[build]
  command = "npx pnpm install --store=node_modules/.pnpm-store && npm run build"
  publish = "dist"
```

üìö Mais informa√ß√µes em [‚ÄúDeploying an existing Astro Git repository‚Äù](https://www.netlify.com/blog/how-to-deploy-astro/#deploy-an-existing-git-repository-to-netlify) no blog da Netlify


### Deploy pela CLI

Voc√™ tamb√©m pode criar um site na Netlify e vincular o seu reposit√≥rio Git instalando e usando a [CLI da Netlify](https://cli.netlify.com/).


1. Instale a CLI da Netlify globalmente

    ```bash
    npm install --global netlify-cli
    ```

2. Execute `netlify login` e siga as instru√ß√µes para fazer login e autorizar a Netlify
3. Execute `netlify init` e siga as instru√ß√µes
4. Confirme o seu comando de build (`astro build`)

    A CLI detectar√° automaticamente as configura√ß√µes de build (`astro build`) e o diret√≥rio de deploy (`dist`) e oferecer√° a gera√ß√£o autom√°tica do [arquivo `netlify.toml`](#arquivo-netlifytoml) com estas configura√ß√µes.

5. Fa√ßa o build e o deploy fazendo push para o Git

    A CLI adicionar√° um chave de deploy ao reposit√≥rio, o que significa que o seu site ser√° reconstru√≠do automaticamente na Netlify toda vez que voc√™ executar `git push`.

üìö Mais detalhes da Netlify em [Deploy an Astro site using the Netlify CLI](https://www.netlify.com/blog/how-to-deploy-astro/#link-your-astro-project-and-deploy-using-the-netlify-cli)

### Defina uma vers√£o do Node.js

Se voc√™ est√° usando uma [imagem de build](https://docs.netlify.com/configure-builds/get-started/#build-image-selection) legada (Xenial) na Netlify, certifique-se de que a vers√£o do Node.js est√° definida. Astro requer `v18.14.1` ou superior.

Voc√™ pode [especificar a vers√£o do Node.js na Netlify](https://docs.netlify.com/configure-builds/manage-dependencies/#node-js-and-javascript) usando:
- um arquivo [`.nvmrc`](https://github.com/nvm-sh/nvm#nvmrc) em seu diret√≥rio base.
- a vari√°vel de ambiente `NODE_VERSION` na configura√ß√£o do seu site usando o painel geral da Netlify.

## Usando as Netlify Functions

Nenhuma configura√ß√£o especial √© necess√°ria para usar as fun√ß√µes da Netlify com Astro. Adicione o diret√≥rio `netlify/functions` na raiz de seu projeto e siga a [documenta√ß√£o das Netlify Functions](https://docs.netlify.com/functions/overview/) para come√ßar!

## Exemplos

- [How to deploy an Astro site](https://www.netlify.com/blog/how-to-deploy-astro/) ‚Äî Blog da Netlify
- [Deploy An Astro site with Forms, Serverless Functions, and Redirects](https://www.netlify.com/blog/deploy-an-astro-site-with-forms-serverless-functions-and-redirects/) ‚Äî Blog da Netlify
- [Deployment Walkthrough Video](https://youtu.be/GrSLYq6ZTes) ‚Äî Canal do YouTube da Netlify
