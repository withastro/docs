---
title: Utiliser Bun avec Astro
description: Apprenez à utiliser Bun avec votre site Astro.
type: recipe
i18nReady: true
---

[Bun](https://bun.sh/) est un moteur d'exécution et une boîte à outils JavaScript tout-en-un. Voir la [documentation de Bun](https://bun.sh/docs) pour plus d'informations.

:::caution
L'utilisation de Bun avec Astro peut révéler des imperfections. Certaines intégrations peuvent ne pas fonctionner comme prévu. Consultez [la documentation officielle de Bun pour travailler avec Astro](https://bun.sh/guides/ecosystem/astro) pour plus de détails.

Si vous rencontrez des problèmes lors de l'utilisation de Bun, veuillez [ouvrir un problème sur GitHub avec Bun directement](https://github.com/oven-sh/bun/issues/new/choose).
:::

## Prérequis \{#prerequisites\}

- Bun installé localement sur votre machine. Voir les [instructions d'installation](https://bun.sh/docs/installation) dans la documentation officielle de Bun.

## Créer un nouveau projet Astro avec Bun \{#create-a-new-astro-project-with-bun\}

Créez un nouveau projet Astro avec Bun en utilisant la commande `create-astro` suivante :

```bash
bunx create-astro@latest my-astro-project-using-bun
```

:::tip
Vous pouvez également [créer un nouveau projet Astro à partir d'un dépôt Astro GitHub existant](/fr/install-and-setup/#use-a-theme-or-starter-template) en utilisant l'option `--template` :
```bash
bunx create-astro@latest my-astro-project-using-bun --template eliancodes/brutal
```
:::

## Installer les dépendances \{#install-dependencies\}

Si vous démarrez un nouveau projet en utilisant `bunx create-astro`, le CLI utilisera automatiquement Bun pour installer les dépendances et vous pouvez sauter cette étape.

Sinon, vous devrez installer vos dépendances avec Bun :

```bash
bun install
```

## Ajouter des types \{#add-types\}

Bun publie le paquet [`@types/bun`](https://www.npmjs.com/package/@types/bun), contenant les types d'exécution pour Bun.

Installez `@types/bun` en utilisant la commande suivante :

```sh
bun add -d @types/bun
```

## Utiliser les intégrations Astro \{#using-astro-integrations\}

Vous pouvez également utiliser n'importe laquelle des intégrations officielles d'Astro avec la commande `astro add` :

```bash
bunx astro add react
```

## Exécuter Astro avec Bun \{#run-astro-with-bun\}

:::note
Utilisez l'option [`--bun`](https://bun.sh/docs/cli/bunx#shebangs) avant chaque commande `astro` pour utiliser le propre runtime de Bun à la place de Node.
:::

### Exécuter le serveur de développement \{#run-the-development-server\}

Pour lancer le serveur de développement en utilisant Bun comme runtime, utilisez la commande suivante :

```bash
bunx --bun astro dev
```

### Construire votre site avec Bun \{#building-your-site-with-bun\}

Pour construire votre site en utilisant Bun comme runtime, utilisez la commande suivante :

```bash
bunx --bun astro build
```

Astro produira votre site dans le répertoire `dist/`. Ensuite, vous pouvez servir votre site en utilisant la commande `preview` :

```bash
bunx --bun astro preview
```

## Ajouter SSR avec Bun \{#add-ssr-with-bun\}

Puisque Bun offre la [compatibilité API Node.js](https://bun.sh/docs/runtime/nodejs-apis), vous pouvez utiliser n'importe quel adaptateur Astro pour le [rendu côté serveur](/fr/guides/server-side-rendering/) dans votre projet Astro :

```bash
bunx astro add vercel
```

## Tester dans Bun \{#testing-in-bun\}

Bun est livré avec un programme de test rapide, intégré et compatible avec Jest, via la commande `bun test`. Si vous souhaitez l'utiliser, lisez [la documentation sur `bun test`](https://bun.sh/docs/cli/test).

Cependant, il est également possible d'utiliser Cypress ou Playwright pour une approche moderne des tests d'applications web.

### Cypress \{#cypress\}

Cypress est un outil de test frontal dont la mission est de "rendre l'expérience de test agréable et de rendre les développeurs heureux". Il vous permet d'écrire des tests de bout en bout pour votre site Astro.

Installez Cypress avec la commande suivante :

```bash
bun add cypress --dev
```

Pour le reste de la configuration et pour lancer votre premier test, suivez le reste de la procédure Cypress dans le [Guide de test d'Astro](/fr/guides/testing/#configuration).

### Playwright \{#playwright\}

Playwright est un framework de test de bout en bout qui vous permet de tester votre code Astro sur tous les moteurs de rendu modernes, y compris Chromium, WebKit et Firefox.

Installez Playwright à l'aide de la commande suivante :

```bash
bun create playwright
```

Pour créer votre premier test Playwright, suivez les instructions pour le reste du processus Playwright dans le [Astro Testing Guide](/fr/guides/testing/#create-your-first-playwright-test).

## Ressources officielles \{#official-resources\}

- [Construire une application avec Astro et Bun](https://bun.sh/guides/ecosystem/astro)

## Ressources communautaires \{#community-resources\}

Vous utilisez Bun avec Astro ? Ajoutez votre article de blog ou votre vidéo à cette page !

- [Construire un site Cloudflare Pages avec Bun](https://blog.otterlord.dev/posts/hello-from-bun/) - article de blog
