---
title: Déployez votre site Astro sur Zephyr Cloud
description: Comment déployer votre site Astro sur le web à l'aide de Zephyr Cloud.
sidebar:
  label: Zephyr Cloud
type: deploy
i18nReady: true
---

import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import { Steps } from '@astrojs/starlight/components';

Vous pouvez utiliser [Zephyr Cloud](https://zephyr-cloud.io) pour déployer un site Astro avec une gestion intelligente des ressources, des analyses de compilation complètes et une prise en charge de premier ordre des architectures de fédération de modules.

Zephyr fonctionne selon le modèle **Apportez votre propre cloud** (« Bring Your Own Cloud (BYOC) » en anglais) : déployez vos applications sur un [cloud pris en charge](https://docs.zephyr-cloud.io/cloud) de votre choix via une interface unifiée, sans dépendance vis-à-vis d’un fournisseur. Changez de fournisseur à tout moment sans modifier votre flux de déploiement.

## Comment déployer

### Installation automatique

<Steps>
1. Ajoutez l'intégration Zephyr à votre projet Astro avec la commande suivante. Cela installera l'intégration et mettra à jour automatiquement votre fichier `astro.config.mjs` :

    <PackageManagerTabs>
      <Fragment slot="npm">
      ```shell
      npx with-zephyr@latest
      ```
      </Fragment>
      <Fragment slot="pnpm">
      ```shell
      pnpm dlx with-zephyr@latest
      ```
      </Fragment>
      <Fragment slot="yarn">
      ```shell
      yarn dlx with-zephyr@latest
      ```
      </Fragment>
    </PackageManagerTabs>

2. Compilez et déployez votre site Astro :

    <PackageManagerTabs>
      <Fragment slot="npm">
      ```shell
      npm run build
      ```
      </Fragment>
      <Fragment slot="pnpm">
      ```shell
      pnpm run build
      ```
      </Fragment>
      <Fragment slot="yarn">
      ```shell
      yarn run build
      ```
      </Fragment>
    </PackageManagerTabs>

3. Votre application est déployée ! Zephyr vous fournira une URL de déploiement et des analyses complètes de la compilation.
</Steps>

### Installation manuelle

<Steps>
1. Installez l'intégration Zephyr Astro :

    <PackageManagerTabs>
      <Fragment slot="npm">
      ```shell
      npm install zephyr-astro-integration
      ```
      </Fragment>
      <Fragment slot="pnpm">
      ```shell
      pnpm add zephyr-astro-integration
      ```
      </Fragment>
      <Fragment slot="yarn">
      ```shell
      yarn add zephyr-astro-integration
      ```
      </Fragment>
    </PackageManagerTabs>

2. Ajoutez l'intégration à votre fichier `astro.config.mjs` :

    ```js
    import { defineConfig } from 'astro/config';
    import { withZephyr } from 'zephyr-astro-integration';

    export default defineConfig({
      integrations: [
        withZephyr(),
      ],
    });
    ```

3. Compilez et déployez votre site Astro :

    <PackageManagerTabs>
      <Fragment slot="npm">
      ```shell
      npm run build
      ```
      </Fragment>
      <Fragment slot="pnpm">
      ```shell
      pnpm run build
      ```
      </Fragment>
      <Fragment slot="yarn">
      ```shell
      yarn run build
      ```
      </Fragment>
    </PackageManagerTabs>
4. Votre application est déployée ! Zephyr vous fournira une URL de déploiement et des analyses complètes de la compilation.
</Steps>

### Plus de détails

Pour plus d'informations, veuillez consulter la [documentation de Zephyr Cloud sur le déploiement avec Astro](https://docs.zephyr-cloud.io/meta-frameworks/astro).

## Ce qui se passe lors du déploiement

Lorsque vous créez votre site Astro avec l'intégration Zephyr, le processus suivant se produit :

1. **Extraction du contexte de compilation** : Zephyr capture les informations Git (commit, branche, auteur) et les métadonnées des paquets.
2. **Hachage des ressources** : Tous les résultats de compilation sont hachés à l’aide de SHA-256 pour le stockage adressable par contenu.
3. **Détection des deltas** : Zephyr interroge le CDN en périphérie pour identifier les ressources déjà présentes.
4. **Téléversement optimisé** : Seuls les éléments nouveaux ou modifiés sont téléversés.
5. **Création d'un instantané** : Un instantané de déploiement immuable est créé avec toutes les références aux ressources.
6. **Téléversement des données analytiques** : Les statistiques de compilation, les graphiques des modules et les informations sur les dépendances sont envoyés au tableau de bord.
7. **Déploiement CDN** : Les ressources sont publiées sur votre CDN configuré avec des en-têtes de cache permanents.

## Ressources officielles

- [Documentation de Zephyr Cloud](https://docs.zephyr-cloud.io)
- [Intégration Zephyr Astro sur GitHub](https://github.com/ZephyrCloudIO/zephyr-packages/tree/main/libs/zephyr-astro-integration)
- [Plateforme cloud de Zephyr](https://zephyr-cloud.io)
