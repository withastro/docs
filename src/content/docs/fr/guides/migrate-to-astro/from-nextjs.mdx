---
title: Migration depuis Next.js
description: Astuces pour migrer un projet Next.js existant vers Astro
sidebar:
  label: Next.js
type: migration
stub: false
framework: Next.js
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';
import AstroJSXTabs from '~/components/tabs/AstroJSXTabs.astro';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';

Voici quelques concepts cl√©s et strat√©gies de migration pour vous aider √† d√©marrer. Utilisez le reste de nos documents et notre [communaut√© sur Discord](https://astro.build/chat) pour continuer¬†!

## Principales similitudes entre Next.js et Astro

Next.js et Astro partagent certaines similitudes qui vous aideront √† migrer votre projet¬†:

- La [syntaxe des fichiers `.astro` est similaire √† celle de JSX](/fr/reference/astro-syntax/#diff√©rences-entre-astro-et-jsx). D√©velopper avec Astro devrait vous sembler familier.
- Les projets Astro peuvent √©galement √™tre de type SSG ou [SSR avec pr√©rendu au niveau de la page](/fr/guides/on-demand-rendering/).
- Astro utilise le routage bas√© sur des fichiers et [permet √† des pages sp√©cialement nomm√©es de cr√©er des itin√©raires dynamiques](/fr/guides/routing/#routes-dynamiques).
- Astro est [bas√© sur les composants](/fr/basics/astro-components/), et votre structure de balisage sera similaire avant et apr√®s votre migration.
- Astro poss√®de des [int√©grations officielles pour React, Preact et Solid](/fr/guides/integrations-guide/react/). Vous pouvez donc utiliser vos composants JSX existants. Notez que dans Astro, ces fichiers **doivent** avoir une extension `.jsx` ou `.tsx`.
- Astro prend en charge [l'installation de paquets NPM](/fr/guides/imports/#paquets-npm), y compris les biblioth√®ques React. Beaucoup de vos d√©pendances existantes fonctionneront dans Astro.

## Principales diff√©rences entre Next.js et Astro

Lorsque vous reconstruisez votre site Next.js dans Astro, vous remarquerez quelques diff√©rences importantes¬†:

- Next.js est une application React monopage et utilise `index.js` comme racine de votre projet. Astro est un site multipage et `index.astro` est votre page d'accueil.

- [Les composants `.astro`](/fr/basics/astro-components/) ne sont pas √©crits sous forme de fonctions export√©es renvoyant des mod√®les de page. Au lieu de cela, vous diviserez votre code en une ¬´ barri√®re de code ¬ª pour votre JavaScript et en un corps d√©di√© au HTML que vous g√©n√©rez.

- [Ax√© sur le contenu](/fr/concepts/why-astro/#ax√©-sur-le-contenu)¬†: Astro a √©t√© con√ßu pour pr√©senter votre contenu et pour vous permettre d'opter pour l'interactivit√© uniquement si n√©cessaire. Une application Next.js existante peut √™tre con√ßue pour une interactivit√© √©lev√©e c√¥t√© client et peut n√©cessiter des techniques Astro avanc√©es pour inclure des √©l√©ments plus difficiles √† r√©pliquer √† l'aide de composants `.astro`, tels que des tableaux de bord.

## Convertissez votre projet Next.js

Chaque migration de projet sera diff√©rente, mais vous effectuerez certaines actions courantes lors de la conversion de Next.js vers Astro.

### Cr√©er un nouveau projet Astro

Utilisez la commande `create astro` de votre gestionnaire de paquets pour lancer l'assistant CLI d'Astro ou choisissez un th√®me de communaut√© dans la [vitrine de th√®mes Astro](https://astro.build/themes).

Vous pouvez utiliser un argument `--template` avec la commande `create astro` pour d√©marrer un nouveau projet Astro avec l'un de nos d√©marreurs officiels (par exemple `docs`, `blog`, `portfolio`). Vous pouvez √©galement [d√©marrer un nouveau projet √† partir de n'importe quel d√©p√¥t Astro existant sur GitHub](/fr/install-and-setup/#utiliser-un-th√®me-ou-un-mod√®le-de-d√©marrage).

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    npm create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    npm create astro@latest -- --template <example-name>
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    pnpm create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    pnpm create astro@latest --template <example-name>
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    yarn create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    yarn create astro@latest --template <example-name>
    ```
    </Fragment>
  </PackageManagerTabs>

Ensuite, copiez les fichiers existants de votre projet Next vers votre nouveau projet Astro dans un dossier s√©par√© en dehors de `src`.

:::tip
Consultez https://astro.new pour la liste compl√®te des mod√®les de d√©marrage officiels et des liens pour ouvrir un nouveau projet dans IDX, StackBlitz, CodeSandbox ou Gitpod.
:::

### Installer des int√©grations (facultatif)

Vous trouverez peut-√™tre utile d'installer certaines des [int√©grations facultatives d'Astro](/fr/guides/integrations-guide/) √† utiliser lors de la conversion de votre projet Next en Astro¬†:

- **@astrojs/react**: pour r√©utiliser certains de vos composants React orient√©s UI dans votre nouveau site Astro ou pour continuer √† coder des composants React.

- **@astrojs/mdx**: pour importer des fichiers MDX existants de votre projet Next ou pour utiliser MDX dans votre nouveau site Astro.

### Placer votre code source dans `src`

En suivant la [structure du projet d'Astro](/fr/basics/project-structure/):

<Steps>
1. **Gardez** le dossier `public/` de Next intact. 
   
    Astro utilise le r√©pertoire `public/` pour les ressources statiques, tout comme Next. Aucune modification n'est n√©cessaire pour ce dossier, ni pour son contenu.

2. **Copiez ou d√©placez** les autres fichiers et dossiers de Next (par exemple, `pages`, `styles`, etc.) dans le dossier `src/` d'Astro pendant que vous reconstruisez votre site en suivant [la structure du projet Astro](/fr/basics/project-structure/).

    Comme Next, le dossier `src/pages/` d'Astro est un dossier sp√©cial utilis√© pour le routage bas√© sur des fichiers. Tous les autres dossiers sont facultatifs et vous pouvez organiser le contenu de votre dossier `src/` comme vous le souhaitez. D'autres dossiers courants dans les projets Astro incluent `src/layouts/`, `src/components`, `src/styles`, `src/scripts`.
</Steps>

### Le fichier de configuration d'Astro

Astro poss√®de un fichier de configuration √† la racine de votre projet appel√©  [`astro.config.mjs`](/fr/guides/configuring-astro/). Ceci est utilis√© uniquement pour configurer votre projet Astro et toutes les int√©grations install√©es, y compris les [adaptateurs SSR](/fr/guides/deploy/).

### Astuces¬†: Convertir les fichiers JSX en fichiers `.astro`

Voici quelques conseils pour convertir un composant Next `.js` en un composant `.astro`¬†:

1. Utilisez le JSX renvoy√© par la fonction du composant Next.js existant comme base pour votre mod√®le HTML.

2. Remplacez [toute syntaxe Next ou JSX par une syntaxe Astro](#r√©f√©rence-convertir-la-syntaxe-nextjs-en-syntaxe-astro) ou par des normes web HTML. Ceci comprend `<Link>`, `<Script>`, `{children}` et `className` par exemple.

3. D√©placez tout le JavaScript n√©cessaire, y compris les instructions d'importation, dans une [¬´¬†barri√®re de code¬†¬ª (`---`)](/fr/basics/astro-components/#le-script-du-composant). Remarque¬†: le JavaScript utilis√© pour [afficher le contenu de mani√®re conditionnelle](/fr/reference/astro-syntax/#html-dynamique) est souvent √©crit directement dans le mod√®le HTML dans Astro.

4. Utilisez [`Astro.props`](/fr/reference/api-reference/#props) pour acc√©der √† toutes les props suppl√©mentaires pr√©c√©demment transmises √† votre fonction Next.

5. D√©cidez si les composants import√©s doivent √©galement √™tre convertis en syntaxe Astro. Avec l'int√©gration officielle install√©e, vous pouvez [utiliser les composants React existants dans votre fichier Astro](/fr/guides/framework-components/). Mais vous souhaiterez peut-√™tre les convertir en composants `.astro`, surtout s'ils n'ont pas besoin d'√™tre interactifs¬†!

6. Remplacez `getStaticProps()` avec des d√©clarations d'importation ou avec [`import.meta.glob()`](/fr/guides/imports/#importmetaglob) pour interroger vos fichiers locaux. Utilisez `fetch()` pour r√©cup√©rer des donn√©es externes.

Voir [un exemple d'un fichier`.js` converti √©tape par √©tape depuis Next](#exemple-guid√©-r√©cup√©ration-des-donn√©es-de-next-vers-astro).

#### Comparaison¬†: JSX vs Astro

Comparez le composant Next suivant et un composant Astro correspondant¬†:

<AstroJSXTabs>
  <Fragment slot="jsx">
    ```jsx title="StarCount.jsx"
    import Header from "./header";
    import Footer from "./footer";
    import "./layout.css";

    export async function getStaticProps() {
        const res = await fetch("https://api.github.com/repos/withastro/astro");
        const json = await res.json();
        return {
            props: { message: json.message, stars: json.stargazers_count || 0 },
        }
    }

    const Component = ({ stars, message }) => {
        
        return (
            <>
                <Header />
                <p style={{
                    backgroundColor: `#f4f4f4`,
                    padding: `1em 1.5em`,
                    textAlign: `center`,
                    marginBottom: `1em`
                }}>Astro has {stars} üßë‚ÄçüöÄ</p>
                <Footer />
            </>
        )
    }

    export default Component;
    ```
  </Fragment>
  <Fragment slot="astro">
    ```astro title="StarCount.astro"
    ---
    import Header from "./header";
    import Footer from "./footer";
    import "./layout.css";

    const res = await fetch("https://api.github.com/repos/withastro/astro");
    const json = await res.json();
    const message = json.message;
    const stars = json.stargazers_count || 0;
    ---
    <Header />
    <p class="banner">Astro has {stars} üßë‚ÄçüöÄ</p>
    <Footer />

    <style>
      .banner {
        background-color: #f4f4f4; 
        padding: 1em 1.5em;
        text-align: center;
        margin-bottom: 1em;
      }
    <style>
    ```
  </Fragment>
</AstroJSXTabs>

### Migration des fichiers de mise en page

Vous trouverez peut-√™tre utile de commencer par convertir vos mises en page et mod√®les Next.js en [composants Astro de mise en page](/fr/basics/layouts/).

Next propose deux m√©thodes diff√©rentes pour cr√©er des fichiers de mise en page, chacune g√©rant les mises en page diff√©remment d'Astro¬†:

- Le dossier `pages`

- [Le dossier `/app`](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#layouts)

Chaque page Astro n√©cessite explicitement la pr√©sence des balises `<html>`, `<head>` et `<body>`, il est donc courant de r√©utiliser un fichier de mise en page sur plusieurs pages. Astro utilise un [`<slot />`](/fr/basics/astro-components/#les-emplacements-slots) pour le contenu des pages sans aucune d√©claration d'importation requise. Notez le mod√®le HTML standard et l'acc√®s direct √† `<head>`¬†:  

```astro title="src/layouts/Layout.astro"
---
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
    <!-- Enveloppez l'√©l√©ment slot avec votre mod√®le de mise en page existant -->
		<slot />
	</body>
</html>
```

#### Migration depuis le r√©pertoire `pages` de Next.js

Votre projet Next peut avoir un fichier `pages/_document.jsx` qui importe des composants React pour personnaliser le `<head>` de votre application¬†:

```jsx title="pages/_document.jsx"
import Document, { Html, Head, Main, NextScript } from "next/document";

export default class MyDocument extends Document {
  render() {
    return (
      <Html lang="en">
        <Head>
          <link rel="icon" href="/favicon.ico" />
        </Head>
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
}
```
<Steps>
1. Cr√©ez un nouveau fichier de mise en page Astro en utilisant uniquement le JSX renvoy√©.

2. Remplacez tous les composants React par `<html>`, `<head>`, `<slot>` et d'autres balises HTML standard.

    ```astro title="src/layouts/Document.astro"
    <html lang="en">
      <head>
          <link rel="icon" href="/favicon.ico" />
      </head>
      <body>
        <slot/>
      </body>
    </html>
    ```
</Steps>

#### Migration depuis le r√©pertoire `/app` de Next.js

Les fichiers de mise en page du r√©pertoire `app/` de Next.js sont cr√©√©s avec deux fichiers¬†: un fichier `layout.jsx` pour personnaliser les contenus de `<html>` et de `<body>`, et un fichier `head.jsx` pour personnaliser le contenu de l'√©l√©ment `<head>`.

```jsx title="app/layout.jsx"
export default function Layout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}
```

```jsx title="app/head.jsx"
export default function Head() {
  return (
    <>
      <title>Ma Page</title>
    </>
  );
}
```

<Steps>
1. Cr√©ez un nouveau fichier de mise en page Astro en utilisant uniquement le JSX renvoy√©.

2. Remplacez ces deux fichiers par un seul fichier de mise en page Astro qui contient un shell de page (les balises `<html>`, `<head>` et `<body>`) et un `<slot/>` √† la place de la propri√©t√© `{children}` de React¬†:

    ```astro title="src/layouts/Layout.astro"
    <html lang="en">
      <head>
          <title>Ma Page</title>
      </head>
      <body>
        <slot/>
      </body>
    </html>
    ```
</Steps>

### Migration de pages et des articles

Dans Next.js, vos articles se trouvent soit dans `/pages`, soit dans `/app/routeName/page.jsx`.

Avec Astro, tous les contenus de vos pages doivent vivre √† l'int√©rieur du dossier `src/`, sauf si vous utilisez les [collections de contenu](/fr/guides/content-collections/).

#### Pages React

Vos pages Next JSX (`.js`) existantes devront √™tre [converties des fichiers JSX en pages `.astro`](#astuces-convertir-les-fichiers-jsx-en-fichiers-astro). Vous ne pouvez pas r√©utiliser un fichier JSX de page dans Astro.

Ces [pages `.astro`](/fr/basics/astro-pages/) doivent √™tre situ√©es dans `src/pages/` et les routes des pages seront g√©n√©r√©es automatiquement en fonction de leur chemin de fichier.

#### Pages Markdown et MDX

Astro dispose d'une prise en charge int√©gr√©e pour Markdown et d'une int√©gration facultative pour les fichiers MDX. Vous pouvez r√©utiliser tous les [fichiers Markdown et MDX existants](/fr/guides/markdown-content/), mais ils peuvent n√©cessiter quelques ajustements dans leur frontmatter, comme l'ajout de [la propri√©t√© sp√©ciale `layout` d'Astro](/fr/basics/layouts/#mises-en-page-markdown). Vous n'aurez plus besoin de cr√©er manuellement des pages pour chaque itin√©raire g√©n√©r√© par Markdown. Ces fichiers peuvent √™tre plac√©s dans `src/pages/` pour profiter du routage automatique bas√© sur les fichiers.

Alternativement, vous pouvez utiliser les [collections de contenu](/fr/guides/content-collections/) dans Astro pour stocker et g√©rer votre contenu. Vous r√©cup√©rerez vous-m√™me le contenu et [g√©n√©rerez ces pages de mani√®re dynamique](/fr/guides/content-collections/#g√©n√©rer-des-routes-√†-partir-du-contenu).

### Migration des tests

Comme Astro g√©n√®re du HTML brut, il est possible d'√©crire des tests de bout en bout en utilisant la sortie de l'√©tape de construction. Tous les tests de bout en bout √©crits pr√©c√©demment peuvent fonctionner imm√©diatement si vous avez r√©ussi √† faire correspondre le balisage de votre site Next. Les biblioth√®ques de tests telles que Jest et React Testing Library peuvent √™tre import√©es et utilis√©es dans Astro pour tester vos composants React.

Voir le [guide de test](/fr/guides/testing/) d'Astro pour en savoir plus.

## R√©f√©rence¬†: Convertir la syntaxe Next.js en syntaxe Astro

### Les liens¬†: de Next vers Astro

Convertissez tous les composants `<Link to="">`, `<NavLink>` etc. de Next en balises HTML `<a href="">`. 

```astro del={1} ins={2}
<Link to="/blog">Blog</Link>
<a href="/blog">Blog</a>
```

Astro n'utilise aucun composant sp√©cial pour les liens, bien que vous puissiez cr√©er votre propre composant `<Link>`. Vous pouvez ensuite importer et utiliser ce `<Link>` comme vous le feriez pour n'importe quel autre composant.

```astro title="src/components/Link.astro"
---
const { to } = Astro.props;
---
<a href={to}><slot /></a>
```

### Les Imports¬†: de Next vers Astro

Mettez √† jour toutes les [importations de fichiers](/fr/guides/imports/) pour r√©f√©rencer exactement les chemins de fichiers relatifs. Cela peut √™tre fait en utilisant des [alias d'importation](/fr/guides/typescript/#alias-dimportation) ou en √©crivant un chemin relatif dans son int√©gralit√©.

Notez que `.astro` et plusieurs autres types de fichiers doivent √™tre import√©s avec leur extension de fichier compl√®te.

```astro title="src/pages/authors/Fred.astro"
---
import Card from "../../components/Card.astro";
---
<Card />
```

### La propri√©t√© Children¬†: de Next vers Astro

Convertissez toutes les instances de `{children}` en `<slot />` Astro. Ce dernier n'a pas besoin de recevoir `{children}` comme propri√©t√© de fonction et restituera automatiquement le contenu enfant dans un `<slot />`.

```astro title="src/components/MyComponent.astro" del={3-9} ins={11-13}
---
---
export default function MyComponent(props) { 
    return (
      <div>
        {props.children}
      </div>
    );  
}

<div>
  <slot />
</div>
```

Les composants React qui transmettent plusieurs ensembles d'enfants peuvent √™tre migr√©s vers un composant Astro √† l'aide des [emplacements nomm√©s](/fr/basics/astro-components/#les-emplacements-slots-nomm√©s).

En savoir plus sur [l'utilisation sp√©cifique de `<slot />` dans Astro](/fr/basics/astro-components/#les-emplacements-slots).

### La r√©cup√©ration des donn√©es¬†: de Next vers Astro

Convertissez toutes les instances de `getStaticProps()` en `import.meta.glob()` ou `getCollection()`/`getEntryBySlug()` afin d'acc√©der aux donn√©es d'autres fichiers dans la source de votre projet. Pour [r√©cup√©rer des donn√©es distantes](/fr/guides/data-fetching/), utilisez `fetch()`.

Ces demandes de donn√©es sont effectu√©es dans le frontmatter du composant Astro et utilisent une instruction `await` de niveau sup√©rieur (¬´¬†top-level await¬†¬ª).

```astro title="src/pages/index.astro"
---
import { getCollection } from 'astro:content';

// Get all `src/content/blog/` entries
const allBlogPosts = await getCollection('blog');

// Get all `src/pages/posts/` entries
const allPosts = Object.values(import.meta.glob('../pages/posts/*.md', { eager: true }));

const response = await fetch('https://randomuser.me/api/');
const data = await response.json();
const randomUser = data.results[0];
---
```

En savoir plus sur les [importations de fichiers locaux avec `import.meta.glob()`](/fr/guides/imports/#importmetaglob), l'[interrogation √† l'aide de l'API Collections](/fr/guides/content-collections/#interroger-les-collections) ou la [r√©cup√©ration de donn√©es distantes](/fr/guides/data-fetching/).

### Les styles¬†: de Next vers Astro

Vous devrez peut-√™tre remplacer les [biblioth√®ques CSS-in-JS](https://github.com/withastro/astro/issues/4432) (par exemple, `styled-components`) avec d'autres options CSS disponibles dans Astro.

Si n√©cessaire, convertissez tous les objets de style en ligne (`style={{ fontWeight: "bold" }}`) en attributs de style HTML en ligne (`style="font-weight:bold;"`). Ou utilisez la [balise `<style>` d'Astro](/fr/guides/styling/#styliser-avec-astro) pour limiter la port√©e des styles CSS.

```astro title="src/components/Card.astro" del={1} ins={2}
<div style={{backgroundColor: `#f4f4f4`, padding: `1em`}}>{message}</div>
<div style="background-color: #f4f4f4; padding: 1em;">{message}</div>
```

Tailwind est pris en charge apr√®s l'installation de l'[int√©gration Tailwind](/fr/guides/integrations-guide/tailwind/). Aucune modification de votre code Tailwind existant n'est requise¬†!

En savoir plus sur les [styles dans Astro](/fr/guides/styling/).

### Le composant Next Image vers celui d'Astro

Convertissez tous les composants Next `<Image />` en [composant d'image propre √† Astro](/fr/guides/images/) dans les fichiers `.astro` ou `.mdx`, ou en code [HTML/JSX standard avec la balise `<img />`](/fr/guides/images/#images-dans-les-composants-framework-ui) selon les besoins dans vos composants React.

Le composant `<Image />` d'Astro fonctionne uniquement dans les fichiers `.astro` et `.mdx`. Consultez la [liste compl√®te de ses attributs de composants](/fr/reference/modules/astro-assets/#propri√©t√©s-dimage) et notez que plusieurs diff√©reront des attributs de Next.

```astro title="src/pages/index.astro"
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';
---
<Image src={rocket} alt="Une fus√©e dans l'espace." />
<img src={rocket.src} alt="Une fus√©e dans l'espace.">
```

Dans les composants React (`.jsx`), utilisez la syntaxe d'image JSX standard (`<img />`). Astro n'optimisera pas ces images, mais vous pouvez installer et utiliser les packages NPM pour plus de flexibilit√©.

Vous pouvez en apprendre davantage sur [l'utilisation d'images dans Astro](/fr/guides/images/) dans le guide Images.

## Exemple guid√©¬†: R√©cup√©ration des donn√©es, de Next vers Astro

Voici un exemple de r√©cup√©ration de donn√©es Pok√©dex dans Next.js converties en Astro.
    
`pages/index.js` r√©cup√®re et affiche une liste des 151 premiers Pok√©mon en utilisant [la Pok√©API REST](https://pokeapi.co/).

Voici comment recr√©er cela dans `src/pages/index.astro`, en rempla√ßant `getStaticProps()` par `fetch()`.

<Steps>
1. Identifiez la d√©claration `return()` dans le JSX.

    ```jsx title="pages/index.js" {6-18}
    import Link from 'next/link'
    import styles from '../styles/poke-list.module.css';

    export default function Home({ pokemons }) {
        return (
            <>
                <ul className={`plain-list ${styles.pokeList}`}>
                    {pokemons.map((pokemon) => (
                        <li className={styles.pokemonListItem} key={pokemon.name}>
                            <Link className={styles.pokemonContainer} as={`/pokemon/${pokemon.name}`} href="/pokemon/[name]">
                                <p className={styles.pokemonId}>No. {pokemon.id}</p>
                                <img className={styles.pokemonImage} src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}></img>
                                <h2 className={styles.pokemonName}>{pokemon.name}</h2>
                            </Link>
                        </li>
                    ))}
                </ul>
            </>
        )
    }

    export const getStaticProps = async () => {
        const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
        const resJson = await res.json();
        const pokemons = resJson.results.map(pokemon => {
            const name = pokemon.name;
            // https://pokeapi.co/api/v2/pokemon/1/
            const url = pokemon.url;
            const id = url.split("/")[url.split("/").length - 2];
            return {
                name,
                url,
                id
            }
        });
        return {
            props: {
                pokemons,
            },
        }
    }
    ```

2. Cr√©ez `src/pages/index.astro`

    Utilisez la valeur de retour de la fonction Next. Convertissez n'importe quelle syntaxe Next ou React en Astro, y compris en modifiant la casse de tout [attribut global HTML](https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes).

    Remarquez que¬†:

    - `.map` fonctionne tout simplement¬†!

    - `className` devient `class`.

    - `<Link>` devient `<a>`.

    - Le fragment `<> </>` n‚Äôest pas requis dans les mod√®les Astro.

    - `key` est un attribut React et n'est pas un attribut de `li` dans Astro.

    ```astro title="src/pages/index.astro" "class" "</a>" "<a"
    ---
    ---
    <ul class="plain-list pokeList">
        {pokemons.map((pokemon) => (
            <li class="pokemonListItem">
                <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                    <p class="pokemonId">No. {pokemon.id}</p>
                    <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                    <h2 class="pokemonName">{pokemon.name}</h2>
                </a>
            </li>
        ))}
    </ul>
    ```

3. Ajoutez les importations, les props et le JavaScript n√©cessaires

    Remarquez que¬†:

    - la fonction `getStaticProps` n'est plus n√©cessaire. Les donn√©es de l'API sont r√©cup√©r√©es directement dans la barri√®re de code.
    - Un composant `<Layout>` est import√© et enveloppe le mod√®le de page.

    ```astro ins={2,4-16,19,31} title="src/pages/index.astro"
    ---
    import Layout from '../layouts/layout.astro';

    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151");
    const resJson = await res.json();
    const pokemons = resJson.results.map(pokemon => {
        const name = pokemon.name;
        // https://pokeapi.co/api/v2/pokemon/1/
        const url = pokemon.url;
        const id = url.split("/")[url.split("/").length - 2];
        return {
            name,
            url,
            id
        }
    });
    ---

    <Layout>
      <ul class="plain-list pokeList">
          {pokemons.map((pokemon) => (
              <li class="pokemonListItem" key={pokemon.name}>
                  <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                      <p class="pokemonId">No. {pokemon.id}</p>
                      <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`${pokemon.name} picture`}/>
                      <h2 class="pokemonName">{pokemon.name}</h2>
                  </a>
              </li>
          ))}
      </ul>
    </Layout>
    ```
</Steps>

## Ressources communautaires

- Vid√©o¬†: [De NextJS vers Astro¬†: plus de contr√¥le = des sites plus rapides](https://www.youtube.com/watch?v=PSzCtdM20Fc) (en).

- Vid√©o¬†: [Comment Astro a rendu mon site 100 fois plus rapide](https://www.youtube.com/watch?v=cOxA3kMYtkM) (en).

- Article de blog¬†: [Migrer de Next.js vers Astro](https://johnzanussi.com/posts/nextjs-to-astro-migration) (en).

- Article de blog¬†: [De NextJS √† Astro](https://vanntile.com/blog/next-to-astro) (en).

- Article de blog¬†: [Convertir Next.js en Astro](https://ericclemmons.com/blog/converting-nextjs-to-astro) (en).
