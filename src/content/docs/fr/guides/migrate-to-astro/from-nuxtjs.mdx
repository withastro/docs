---
title: Migration depuis NuxtJS
description: Astuces pour migrer un projet NuxtJS existant vers Astro
sidebar:
  label: NuxtJS
type: migration
stub: false
framework: NuxtJS
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';
import AstroVueTabs from '~/components/tabs/AstroVueTabs.astro';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import { FileTree } from '@astrojs/starlight/components';

Voici quelques concepts cl√©s et strat√©gies de migration pour vous aider √† d√©marrer. Utilisez le reste de nos documents et notre [communaut√© sur Discord](https://astro.build/chat) pour continuer¬†!

> Ce guide fait r√©f√©rence √† [Nuxt 2](https://v2.nuxt.com/fr/), et non au plus r√©cent Nuxt 3. Bien que certains des concepts soient similaires, Nuxt 3 est une version plus r√©cente du framework et peut n√©cessiter des strat√©gies diff√©rentes pour certaines parties de votre migration.

## Principales similitudes entre Nuxt et Astro

Nuxt et Astro partagent certaines similitudes qui vous aideront √† migrer votre projet¬†:

- Les projets Astro peuvent √©galement √™tre de type SSG ou [SSR avec pr√©rendu au niveau de la page](/fr/guides/on-demand-rendering/).
- Astro utilise le routage bas√© sur des fichiers et [permet √† des pages sp√©cialement nomm√©es de cr√©er des routes dynamiques](/fr/guides/routing/#routes-dynamiques).
- Astro est [bas√© sur les composants](/fr/basics/astro-components/), et votre structure de balisage sera similaire avant et apr√®s votre migration.
- Astro poss√®de [une int√©gration officielle pour utiliser les composants Vue](/fr/guides/integrations-guide/vue/).
- Astro prend en charge [l'installation de paquets NPM](/fr/guides/imports/#paquets-npm), y compris les biblioth√®ques Vue. Vous pourrez peut-√™tre conserver certains ou tous vos composants et d√©pendances Vue existants.

## Principales diff√©rences entre Nuxt et Astro

Lorsque vous reconstruisez votre site Nuxt dans Astro, vous remarquerez quelques diff√©rences importantes¬†:

- Nuxt est un SPA (application monopage) bas√© sur Vue. Les sites Astro sont des applications multipages cr√©√©es √† l'aide de composants `.astro`, mais ils peuvent √©galement prendre en charge React, Preact, Vue.js, Svelte, SolidJS, AlpineJS et des mod√®les HTML brut.

- [Routage des pages](/fr/basics/astro-pages/#routage-bas√©-sur-les-fichiers)¬†: Nuxt utilise `vue-router` pour le routage SPA et `vue-meta` pour g√©rer `<head>`. Dans Astro, vous cr√©erez des routes distinctes pour vos pages HTML et vous contr√¥lerez le contenu de la balise `<head>` directement dans votre page ou dans un composant de mise en page.

- [Ax√© sur le contenu](/fr/concepts/why-astro/#ax√©-sur-le-contenu)¬†: Astro a √©t√© con√ßu pour pr√©senter votre contenu et pour vous permettre d'opter pour l'interactivit√© uniquement en cas de besoin. Une application Nuxt existante peut √™tre con√ßue pour une interactivit√© √©lev√©e c√¥t√© client. Astro poss√®de des fonctionnalit√©s int√©gr√©es pour travailler avec votre contenu, telles que la g√©n√©ration de pages, mais peut n√©cessiter les techniques avanc√©es d'Astro pour inclure des √©l√©ments plus difficiles √† reproduire en utilisant des composants `.astro`, comme les tableaux de bord. 

## Convertir votre projet NuxtJS

Chaque migration de projet sera diff√©rente, mais vous effectuerez certaines actions courantes lors de la conversion de Nuxt vers Astro.

### Cr√©er un nouveau projet Astro

Utilisez la commande `create astro` de votre gestionnaire de paquets pour lancer l'assistant CLI d'Astro ou choisissez un th√®me de communaut√© dans la [vitrine de th√®mes Astro](https://astro.build/themes).

Vous pouvez utiliser un argument `--template` avec la commande `create astro` pour d√©marrer un nouveau projet Astro avec l'un de nos d√©marreurs officiels (par exemple `docs`, `blog`, `portfolio`). Vous pouvez √©galement [d√©marrer un nouveau projet √† partir de n'importe quel d√©p√¥t Astro existant sur GitHub](/fr/install-and-setup/#utiliser-un-th√®me-ou-un-mod√®le-de-d√©marrage).

  <PackageManagerTabs>
    <Fragment slot="npm">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    npm create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    npm create astro@latest -- --template <example-name>
    ```
    </Fragment>
    <Fragment slot="pnpm">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    pnpm create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    pnpm create astro@latest --template <example-name>
    ```
    </Fragment>
    <Fragment slot="yarn">
    ```shell
    # ex√©cuter l'assistant CLI d'Astro
    yarn create astro@latest

    # cr√©er un nouveau projet en utilisant un exemple officiel
    yarn create astro@latest --template <example-name>
    ```
    </Fragment>
  </PackageManagerTabs>

Ensuite, copiez les fichiers existants de votre projet Nuxt vers votre nouveau projet Astro dans un dossier s√©par√© en dehors de `src`.

:::tip
Consultez https://astro.new pour la liste compl√®te des mod√®les de d√©marrage officiels et des liens pour ouvrir un nouveau projet dans IDX, StackBlitz, CodeSandbox ou Gitpod.
:::

### Installer des int√©grations (facultatif)

Vous trouverez peut-√™tre cela utile d'installer certaines des [int√©grations facultatives d'Astro](/fr/guides/integrations-guide/) lors de la conversion de votre projet Nuxt en Astro¬†:

- **@astrojs/vue**¬†: pour r√©utiliser certains de vos composants Vue orient√©s UI dans votre nouveau site Astro ou pour continuer √† coder des composants Vue.

- **@astrojs/mdx**¬†: pour importer des fichiers MDX existants de votre projet Nuxt ou pour utiliser MDX dans votre nouveau site Astro.

### Placer votre code source dans `src`

<Steps>
1. **D√©placez** les contenus du dossier `static/` de Nuxt dans `public/`.
   
    Astro utilise le r√©pertoire `public/` pour les ressources statiques. Ce dernier est semblable au dossier `static/` de Nuxt.

2. **Copiez ou d√©placez** les autres fichiers et dossiers de Nuxt (par exemple, `pages`, `layouts` etc.) dans le dossier `src/` d'Astro.

    Comme Nuxt, le dossier `src/pages/` d'Astro est un dossier sp√©cial utilis√© pour le routage bas√© sur des fichiers. Tous les autres dossiers sont facultatifs et vous pouvez organiser le contenu de votre dossier `src/` comme vous le souhaitez. D'autres dossiers courants dans les projets Astro incluent `src/layouts/`, `src/components`, `src/styles`, `src/scripts`.
</Steps>

### Convertir les pages SFC de Vue en fichiers `.astro`

Voici quelques conseils pour convertir un composant Nuxt `.vue` en un composant `.astro`¬†:

1. Utilisez le `<template>` de la fonction du composant NuxtJS existant comme base pour votre mod√®le HTML.

2. Remplacez toute [syntaxe Nuxt ou Vue par une syntaxe Astro](#r√©f√©rence-convertir-la-syntaxe-nuxtjs-en-syntaxe-astro) ou par des normes web HTML. Ceci comprend `<NuxtLink>`, `:class`, `{{variable}}` et `v-if`, par exemple.

3. D√©placez le JavaScript pr√©sent dans `<script>` dans une ¬´¬†barri√®re de code¬†¬ª (`---`). Convertissez les propri√©t√©s de r√©cup√©ration de donn√©es de votre composant en JavaScript ex√©cut√© c√¥t√© serveur - consultez [la r√©cup√©ration de donn√©es, de Nuxt vers Astro](#la-r√©cup√©ration-de-donn√©es-de-nuxt-√†-astro). 

4. Utilisez `Astro.props` pour acc√©der √† toutes les props suppl√©mentaires pr√©c√©demment transmises √† votre composant Vue.

5. D√©cidez si les composants import√©s doivent √©galement √™tre convertis en syntaxe Astro. Avec l'int√©gration officielle install√©e, vous pouvez [utiliser les composants Vue existants dans votre fichier Astro](/fr/guides/integrations-guide/vue/). Mais vous souhaiterez peut-√™tre les convertir en composants `.astro`, surtout s'ils n'ont pas besoin d'√™tre interactifs¬†!

Voir [un exemple d'une application Nuxt convertie √©tape par √©tape](#exemple-guid√©-voir-les-√©tapes).

#### Comparaison¬†: Vue vs Astro

Comparez le composant Nuxt suivant et un composant Astro correspondant¬†:

<AstroVueTabs>
  <Fragment slot="vue">
    ```vue title="Page.vue"
    <template>
      <div>
        <p v-if="message === 'Not Found'">
          Le d√©p√¥t que vous recherchez n'existe pas
        </p>
        <div v-else>
          <Header/>
          <p class="banner">Astro poss√®de {{stars}} üßë‚ÄçüöÄ</p>
          <Footer />
        </div>
      </div>
    </template>

    <script>
    import Vue from 'vue'
    
    export default Vue.extend({
      name: 'IndexPage',
      async asyncData() {
        const res = await fetch('https://api.github.com/repos/withastro/astro')
        const json = await res.json();
        return {
          message: json.message,
          stars: json.stargazers_count || 0,
        };
      }
    });
    </script>
    
    <style scoped>
    .banner {
      background-color: #f4f4f4;
      padding: 1em 1.5em;
      text-align: center;
      margin-bottom: 1em;
    }
    <style>
    ```
  </Fragment>
  <Fragment slot="astro">
    ```astro title="Page.astro"
    ---
    import Header from "./header";
    import Footer from './footer';
    import "./layout.css";

    const res = await fetch('https://api.github.com/repos/withastro/astro')
    const json = await res.json()
    const message = json.message;
    const stars = json.stargazers_count || 0;
    ---
    
    {message === "Not Found" ? 
          <p>Le d√©p√¥t que vous recherchez n'existe pas</p>¬†:
          <>
                <Header />
                <p class="banner">Astro poss√®de {stars} üßë‚ÄçüöÄ</p>
                <Footer />
            </> 
    }
    
    <style>
      .banner {
        background-color: #f4f4f4; 
        padding: 1em 1.5em;
        text-align: center;
        margin-bottom: 1em;
      }
    <style>
    ```
  </Fragment>
</AstroVueTabs>

### Migrer les fichiers de mise en page

Vous trouverez peut-√™tre cela utile de commencer par convertir vos mises en page et mod√®les Nuxt en [composants Astro de mise en page](/fr/basics/layouts/).

Chaque page Astro n√©cessite explicitement la pr√©sence des balises `<html>`, `<head>` et `<body>`. Votre fichier `layout.vue` et vos mod√®les Nuxt ne les incluront pas.

Notez le mod√®le HTML standard et l'acc√®s direct √† `<head>`¬†:

```astro title="src/layouts/Layout.astro"
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Astro</title>
  </head>
  <body>
    <!-- Enveloppez l'√©l√©ment slot avec votre mod√®le de mise en page existant -->
    <slot />
  </body>
</html>
```

Vous souhaiterez peut-√™tre √©galement r√©utiliser le code de [la propri√©t√© `head` de votre page Nuxt](https://v2.nuxt.com/fr/docs/configuration-glossary/configuration-head/#la-propri√©t√©-head) pour inclure des m√©tadonn√©es de site suppl√©mentaires. Notez qu'Astro n'utilise ni `vue-meta` ni la propri√©t√© `head` d'un composant, mais cr√©e √† la place directement `<head>`. Vous pouvez importer et utiliser des composants, m√™me dans `<head>`, pour s√©parer et organiser le contenu de votre page.

### Migrer les pages et les articles

Dans NuxtJS, vos [pages](/fr/basics/astro-pages/) se trouvent dans `/pages`. Dans Astro, les contenus de vos pages doivent r√©sider dans `src/` sauf si vous utilisez les [collections de contenu](/fr/guides/content-collections/).

#### Pages Vue

Vos pages Nuxt Vue (`.vue`) existantes devront √™tre [converties de fichiers Vue en pages `.astro`](#convertir-les-pages-sfc-de-vue-en-fichiers-astro). Vous ne pouvez pas utiliser un fichier de page Vue existant dans Astro.

Ces [pages `.astro`](/fr/basics/astro-pages/) doivent √™tre plac√©es dans `src/pages/` et les routes des pages seront g√©n√©r√©es automatiquement en fonction de leur chemin de fichier.

##### Nommage du chemin de fichier dynamique

Dans Nuxt, vos pages dynamiques utilisent un trait de soulignement pour repr√©senter une propri√©t√© de page dynamique qui est ensuite transmise √† la g√©n√©ration de page¬†:

<FileTree>
- pages/
  - pokemon/
    - _name.vue
  - index.vue
- nuxt.config.js
</FileTree>

Avec Astro, modifiez le nom de fichier du chemin dynamique commen√ßant par un trait de soulignement (par exemple `_name.vue`) pour qu'il soit entour√© d'une paire de crochets (par exemple `[name].astro`)¬†:

<FileTree>
- src/
  - pages/
    - pokemon/
      - [name].astro
    - index.astro
- astro.config.mjs
</FileTree>

#### Pages Markdown et MDX

Astro dispose d'une prise en charge int√©gr√©e pour Markdown et d'une int√©gration facultative pour les fichiers MDX. Vous pouvez r√©utiliser tous les fichiers Markdown et MDX existants, mais ils peuvent n√©cessiter quelques ajustements dans leur frontmatter, comme l'ajout de [la propri√©t√© sp√©ciale `layout` d'Astro](/fr/basics/layouts/#mises-en-page-markdown).

Vous n'aurez plus besoin de cr√©er manuellement des pages pour chaque route g√©n√©r√©e par Markdown ni d'utiliser un paquet externe comme `@nuxt/content`. Ces fichiers peuvent √™tre plac√©s dans `src/pages/` pour profiter du routage automatique bas√© sur les fichiers.

Lorsqu'elles font partie d'une [collection de contenu](/fr/guides/content-collections/), vous [g√©n√©rez ces pages dynamiquement](/fr/guides/content-collections/#g√©n√©rer-des-routes-√†-partir-du-contenu) √† partir de vos entr√©es de contenu.

### Migrer les tests

Comme Astro g√©n√®re du HTML brut, il est possible d'√©crire des tests de bout en bout en utilisant la sortie de l'√©tape de construction. Tous les tests de bout en bout √©crits pr√©c√©demment peuvent fonctionner imm√©diatement si vous avez r√©ussi √† faire correspondre le balisage de votre site Nuxt. Les biblioth√®ques de tests telles que Jest et Vue Testing Library peuvent √™tre import√©es et utilis√©es dans Astro pour tester vos composants Vue.

Voir le [guide de test](/fr/guides/testing/) d'Astro pour en savoir plus.

## R√©f√©rence¬†: Convertir la syntaxe NuxtJS en syntaxe Astro

### Les variables locales, de Nuxt √† Astro

Pour utiliser des variables locales dans le HTML d'un composant Astro, remplacez les deux ensembles d'accolades par un seul ensemble d'accolades¬†:

```astro title="src/components/Component.astro" del={4} add={5}
---
const message = "Bonjour¬†!"
---
<p>{{message}}</p>
<p>{message}</p>
```

### La transmission de propri√©t√©, de Nuxt √† Astro

Pour lier un attribut ou une propri√©t√© de composant dans un composant Astro, modifiez cette syntaxe comme suit¬†:

```astro title="src/components/Component.astro" del={3-7} ins={9-11}
---
---
<p v-bind:aria-label="message">...</p>
<!-- Ou -->
<p :aria-label="message">...</p>
<!-- Prend √©galement en charge les props des composants -->
<Header title="Page"/>

<p aria-label={message}>...</p>
<!-- Prend √©galement en charge les props des composants -->
<Header title={"Page"}/>
```

### Les liens, de Nuxt √† Astro

Convertissez tous les composants `<NuxtLink to="">` de Nuxt en balises HTML `<a href="">`. 

```astro del={1} ins={2}
<NuxtLink to="/blog">Blog</Link>
<a href="/blog">Blog</a>
```

Astro n'utilise aucun composant sp√©cial pour les liens, bien que vous puissiez cr√©er votre propre composant `<Link>`. Vous pouvez ensuite importer et utiliser ce `<Link>` comme vous le feriez pour n'importe quel autre composant.

```astro title="src/components/Link.astro"
---
const { to } = Astro.props
---
<a href={to}><slot /></a>
```

### Les importations, de Nuxt √† Astro

Si n√©cessaire, mettez √† jour toutes les [importations de fichiers](/fr/guides/imports/) pour r√©f√©rencer exactement les chemins de fichiers relatifs. Cela peut √™tre fait en utilisant des [alias d'importation](/fr/guides/typescript/#alias-dimportation) ou en √©crivant un chemin relatif dans son int√©gralit√©.

```astro title="src/pages/authors/Fred.astro" ".astro"
---
import Card from `../../components/Card.astro`;
---
<Card />
```

### La g√©n√©ration dynamique de pages, de Nuxt √† Astro

Dans Nuxt, pour g√©n√©rer une page dynamique vous devez soit¬†:

- Utiliser le mode de rendu c√¥t√© serveur (SSR).
- [Utiliser la fonction `generate` dans `nuxt.config.js`](https://v2.nuxt.com/fr/docs/configuration-glossary/configuration-generate/) pour d√©finir toutes les routes statiques possibles.

Dans Astro, vous avez √©galement deux choix¬†:
- [Utiliser le mode de rendu c√¥t√© serveur](/fr/guides/on-demand-rendering/).
- Exportez une fonction `getStaticPaths()` dans le frontmatter d'une page Astro pour indiquer au framework les [routes statiques √† g√©n√©rer dynamiquement](/fr/guides/routing/#routes-dynamiques).

#### Convertir la fonction `generate` de Nuxt en une fonction `getStaticPaths` dans Astro.

Pour g√©n√©rer plusieurs pages, remplacez la fonction pour cr√©er des routes dans votre fichier `nuxt.config.js` en ajoutant `getStaticPaths()` directement dans une page de routage dynamique¬†:

```javascript title="nuxt.config.js"
{
	// ...
    generate: {
        async routes() {
          // Axios est requis ici sauf si vous utilisez Node 18
          const res = await axios.get("https://pokeapi.co/api/v2/pokemon?limit=151")
          const pokemons = res.data.results;
          return pokemons.map(pokemon => {
            return '/pokemon/' + pokemon.name
          })
        }
      }
}
```

```astro title="src/pages/pokemon/[name].astro"
---
export const getStaticPaths = async () => {
  const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
  const resJson = await res.json();
  const pokemons = resJson.results;
  return pokemons.map(({ name }) => ({
      params: { name },
    }))
}
// ...
---
<!-- Votre mod√®le ici -->
```

### La r√©cup√©ration de donn√©es, de Nuxt √† Astro

Nuxt propose deux m√©thodes pour r√©cup√©rer les donn√©es c√¥t√© serveur¬†:

- [le hook `asyncData`](https://v2.nuxt.com/fr/docs/features/data-fetching/#async-data)
- [le hook `fetch`](https://v2.nuxt.com/fr/docs/features/data-fetching/#le-hook-fetch)

Dans Astro, r√©cup√©rez les donn√©es √† l‚Äôint√©rieur de la barri√®re de code de votre page.

Migrez les √©l√©ments suivants¬†:

```vue title="pages/index.vue"
{
  // ...
  async asyncData() {
    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
    const resJson = await res.json();
    const pokemons = resJson.results;
    return {
      pokemons,
    }
  },
}
```

Vers une barri√®re de code sans fonction enveloppante¬†:

```astro title="src/pages/index.astro"
---
const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
const resJson = await res.json();
const pokemons = resJson.results;
---

<!-- Votre mod√®le ici -->
```

### Les styles, de Nuxt √† Astro

Nuxt utilise le style des composants de Vue pour g√©n√©rer le style d'une page.

```vue title="pages/index.vue"
<template>
	<!-- Votre mod√®le ici -->
</template>

<script>
	// Votre logique de serveur ici
</script>

<style scoped>
    .class {
        color: red;
    }
</style>
```
 De m√™me, dans Astro, vous pouvez ins√©rer un √©l√©ment `<style>` dans le mod√®le de votre page pour limiter la port√©e des styles au composant.

```astro title="src/pages/index.vue"
---
// Votre logique de serveur ici
---

<style>
    .class {
        color: red;
    }
</style>
```

#### Les styles globaux

Les balises `<style>` limitent la port√©e des styles (`scoped`) par d√©faut dans Astro. Pour rendre une balise `<style>` globale, marquez-la avec l'attribut `is:global`¬†:

```astro title="src/pages/index.vue"
<style is:global> 
	p {
		color: red;
	}
</style>
```

#### La prise en charge de pr√©processeurs

[Astro prend en charge les pr√©processeurs CSS les plus populaires](/fr/guides/styling/#pr√©processeurs-css) en les installant en tant que d√©pendance de d√©veloppement. Par exemple, pour utiliser SCSS¬†:

```shell
npm install -D sass
```

Apr√®s cela, vous pourrez utiliser des styles `.scss` ou `.sass` sans apporter de modifications √† vos styles de composants Vue.

```astro title="src/layouts/Layout.astro"
<p>Bonjour le monde</p>
<style lang="scss">
p {
   color: black;
   
   &:hover {
       color: red;
   }
}
</style>
```

En savoir plus sur [les styles dans Astro](/fr/guides/styling/).

### Les plugins d'image de Nuxt vers Astro

Convertissez tous les [composants `<nuxt-img/>` ou `<nuxt-picture/>` de Nuxt](https://image.nuxtjs.org/components/nuxt-img) en [composant d'image propre √† Astro](/fr/guides/images/) dans les fichiers `.astro` ou `.mdx` ou en code [HTML standard avec la balise `<img>`](/fr/guides/images/#images-dans-les-composants-framework-ui) ou la balise `<picture>` selon le cas dans vos composants Vue.

Le composant `<Image />` d'Astro fonctionne uniquement dans les fichiers `.astro` et `.mdx`. Consultez la [liste compl√®te de ses attributs de composants](/fr/reference/modules/astro-assets/#propri√©t√©s-dimage) et notez que plusieurs diff√©reront des attributs de Nuxt.

```astro title="src/pages/index.astro"
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';
---
<Image src={rocket} alt="Une fus√©e dans l'espace." />
<img src={rocket.src} alt="Une fus√©e dans l'espace.">
```

Dans les composants Vue (`.vue`) au sein de votre application Astro, utilisez la syntaxe d'image JSX standard (`<img />`). Astro n'optimisera pas ces images, mais vous pouvez installer et utiliser des paquets NPM pour plus de flexibilit√©.

Vous pouvez en apprendre davantage sur [l'utilisation d'images dans Astro](/fr/guides/images/) dans le guide Images.

## Exemple guid√©¬†: Voir les √©tapes¬†!

Voici un exemple de r√©cup√©ration de donn√©es Pok√©dex dans Nuxt convertie en Astro.

`pages/index.vue` r√©cup√®re et affiche une liste des 151 premiers Pok√©mon en utilisant [la Pok√©API REST](https://pokeapi.co/).

Voici comment recr√©er cela dans `src/pages/index.astro`, en rempla√ßant `asyncData()` par `fetch()`.

<Steps>
1. Identifiez les balises `<template>` et `<style>` dans le fichier SFC de Vue.

    ```jsx title="pages/index.vue" {2-13,47-55}
    <template>
      <ul class="plain-list pokeList">
                <li v-for="pokemon of pokemons" class="pokemonListItem" :key="pokemon.name">
                    <NuxtLink class="pokemonContainer" :to="`/pokemon/${pokemon.name}`">
                        <p class="pokemonId">No. {{pokemon.id}}</p>
                        <img
                          class="pokemonImage"
                          :src="`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`" 
                          :alt="`Image de ${pokemon.name}`"/>
                        <h2 class="pokemonName">{{pokemon.name}}</h2>
                    </NuxtLink>
                </li>
        </ul>
    </template>

    <script>
    import Vue from 'vue'
    export default Vue.extend({
      name: 'IndexPage',
      layout: 'default',
      async asyncData() {
        const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")
        const resJson = await res.json();
        const pokemons = resJson.results.map(pokemon => {
            const name = pokemon.name;
            // https://pokeapi.co/api/v2/pokemon/1/
            const url = pokemon.url;
            const id = url.split("/")[url.split("/").length - 2];
            return {
                name,
                url,
                id
            }
        });
        return {
          pokemons,
        }
      },
      head() {
        return {
          title: "Pok√©dex¬†: G√©n√©ration 1"
        }
      }
    });
    </script>

    <style scoped>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```

2. Cr√©ez `src/pages/index.astro`

    Utilisez les balises `<template>` et `<style>` de fichier SFC de Nuxt. Convertissez n'importe quelle syntaxe Nuxt ou Vue en syntaxe Astro.

    Remarquez que¬†:

    - `<template>` est supprim√©

    - `<style>` n'a plus d'attribut `scoped`

    - `v-for` devient `.map`.

    - `:attr="val"` devient `attr={val}`

    - `<NuxtLink>` devient `<a>`.

    - Le fragment `<> </>` n‚Äôest pas n√©cessaire dans les mod√®les Astro.

    ```astro title="src/pages/index.astro" ".map" "</a>" "<a" "key={" "}>" "href={" " {pokemon.id}" "} alt={" "src={" "}/>" ">{pokemon.name}<"
    ---
    ---
    <ul class="plain-list pokeList">
        {pokemons.map((pokemon) => (
            <li class="pokemonListItem" key={pokemon.name}>
                <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                    <p class="pokemonId">No. {pokemon.id}</p>
                    <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`Image de ${pokemon.name}`}/>
                    <h2 class="pokemonName">{pokemon.name}</h2>
                </a>
            </li>
        ))}
    </ul>

    <style>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```

3. Ajoutez les importations, les props et le JavaScript n√©cessaires

    Remarquez que¬†:

    - La fonction `asyncData` n'est plus n√©cessaire. Les donn√©es de l'API sont r√©cup√©r√©es directement dans la barri√®re de code.
    - Un composant `<Layout>` est import√© et enveloppe le mod√®le de page.
      - Notre m√©thode `head()` de Nuxt est transmise au composant `<Layout>`, qui est transmis √† l'√©l√©ment `<title>` en tant que propri√©t√©.

    ```astro ins={2,4-16,19,31} title="src/pages/index.astro"
    ---
    import Layout from '../layouts/layout.astro';

    const res = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151");
    const resJson = await res.json();
    const pokemons = resJson.results.map(pokemon => {
        const name = pokemon.name;
        // https://pokeapi.co/api/v2/pokemon/1/
        const url = pokemon.url;
        const id = url.split("/")[url.split("/").length - 2];
        return {
            name,
            url,
            id
        }
    });
    ---

    <Layout title="Pok√©dex¬†: G√©n√©ration 1">
      <ul class="plain-list pokeList">
          {pokemons.map((pokemon) => (
              <li class="pokemonListItem" key={pokemon.name}>
                  <a class="pokemonContainer" href={`/pokemon/${pokemon.name}`}>
                      <p class="pokemonId">No. {pokemon.id}</p>
                      <img class="pokemonImage" src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`} alt={`Image de ${pokemon.name}`}/>
                      <h2 class="pokemonName">{pokemon.name}</h2>
                  </a>
              </li>
          ))}
      </ul>
    </Layout>

    <style>
    .pokeList {
      display: grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap: 1rem;
    }

    /* ... */
    </style>
    ```
</Steps>

## Ressources communautaires

- Article de blog¬†: [De Nuxt √† Astro - reconstruire avec Astro](https://dev.to/lindsaykwardell/from-nuxt-to-astro-rebuilding-with-astro-5ann) (en)
- Article de blog¬†: [Migration d'application de Nuxt 2 vers Astro 3 ‚Äì de la configuration √† la production](https://stevenwoodson.com/blog/replatforming-from-nuxtjs-2-to-astro/) (en)
