---
type: integration
title: '@astrojs/solid-js'
description: "Apprenez √† utiliser l'int√©gration du framework @astrojs/solid-js pour √©tendre la prise en charge des composants dans votre projet Astro."
sidebar:
  label: SolidJS
githubIntegrationURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/solid/'
category: renderer
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import Since from '~/components/Since.astro';

Cette **[int√©gration Astro][astro-integration]** permet le rendu et l'hydratation c√¥t√© client pour vos composants [SolidJS](https://www.solidjs.com/).

## Installation

Astro inclut une commande `astro add` pour automatiser l'installation des int√©grations officielles. Si vous pr√©f√©rez, vous pouvez [installer les int√©grations manuellement](#installation-manuelle) √† la place.

Pour installer `@astrojs/solid-js`, ex√©cutez ce qui suit depuis le r√©pertoire de votre projet et suivez les instructions :

<PackageManagerTabs>
  <Fragment slot="npm">
    ```sh
    npx astro add solid
    ```
  </Fragment>
  <Fragment slot="pnpm">
    ```sh
    pnpm astro add solid
    ```
  </Fragment>
  <Fragment slot="yarn">
    ```sh
    yarn astro add solid
    ```
  </Fragment>
</PackageManagerTabs>

Si vous rencontrez des probl√®mes, [n'h√©sitez pas √† nous les signaler sur GitHub](https://github.com/withastro/astro/issues) et essayez les √©tapes d'installation manuelle ci-dessous.

### Installation manuelle

Tout d'abord, installez le paquet `@astrojs/solid-js` :

<PackageManagerTabs>
  <Fragment slot="npm">
    ```sh
    npm install @astrojs/solid-js
    ```
  </Fragment>
  <Fragment slot="pnpm">
    ```sh
    pnpm add @astrojs/solid-js
    ```
  </Fragment>
  <Fragment slot="yarn">
    ```sh
    yarn add @astrojs/solid-js
    ```
  </Fragment>
</PackageManagerTabs>

La plupart des gestionnaires de paquets installent √©galement les d√©pendances associ√©es. Si vous voyez un avertissement `Cannot find package 'solid-js'` (ou similaire) lorsque vous d√©marrez Astro, vous devez installer SolidJS :

<PackageManagerTabs>
  <Fragment slot="npm">
    ```sh
    npm install solid-js
    ```
  </Fragment>
  <Fragment slot="pnpm">
    ```sh
    pnpm add solid-js
    ```
  </Fragment>
  <Fragment slot="yarn">
    ```sh
    yarn add solid-js
    ```
  </Fragment>
</PackageManagerTabs>

Ensuite, appliquez l'int√©gration √† votre fichier `astro.config.*` en utilisant la propri√©t√© `integrations` :

```js title="astro.config.mjs" ins={2} ins="solidJs()"
import { defineConfig } from 'astro/config';
import solidJs from '@astrojs/solid-js';

export default defineConfig({
  // ...
  integrations: [solidJs()],
});
```

Et ajoutez le code suivant au fichier `tsconfig.json`.

```json title="tsconfig.json" ins={5-8}
{
  "extends": "astro/tsconfigs/strict",
  "include": [".astro/types.d.ts", "**/*"],
  "exclude": ["dist"],
  "compilerOptions": {
    "jsx": "preserve",
    "jsxImportSource": "solid-js"
  }
}
```

## D√©marrage

Pour utiliser votre premier composant SolidJS dans Astro, consultez notre [documentation sur les frameworks UI][astro-ui-frameworks]. Vous y d√©couvrirez :

* üì¶ comment les composants du framework sont charg√©s,
* üíß les options d'hydratation c√¥t√© client, et
* ü§ù les possibilit√©s de m√©langer et d'imbriquer les Frameworks.

## Configuration

### devtools

<p><Since pkg="@astrojs/solid-js" v="4.2.0" /></p>

Vous pouvez activer [Solid DevTools](https://github.com/thetarnav/solid-devtools) durant le d√©veloppement en passant un objet avec `devtools : true` √† votre configuration d'int√©gration `solid()` et en ajoutant `solid-devtools` aux d√©pendances de votre projet :

<PackageManagerTabs>
  <Fragment slot="npm">
    ```sh
    npm install solid-devtools
    ```
  </Fragment>
  <Fragment slot="pnpm">
    ```sh
    pnpm add solid-devtools
    ```
  </Fragment>
  <Fragment slot="yarn">
    ```sh
    yarn add solid-devtools
    ```
  </Fragment>
</PackageManagerTabs>

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // ...
  integrations: [solid({ devtools: true })],
});
```

## Options

### Combinaison de plusieurs frameworks JSX

Lorsque vous utilisez plusieurs frameworks JSX (React, Preact, Solid) dans le m√™me projet, Astro doit d√©terminer quelles transformations sp√©cifiques au framework JSX doivent √™tre utilis√©es pour chacun de vos composants. Si vous n'avez ajout√© qu'une seule int√©gration de framework JSX √† votre projet, aucune configuration suppl√©mentaire n'est n√©cessaire.

Utilisez les options de configuration `include` (obligatoire) et `exclude` (optionnelle) pour sp√©cifier quels fichiers appartiennent √† quel framework. Fournissez un tableau de fichiers et/ou de dossiers √† `inclure` pour chaque framework que vous utilisez. Des caract√®res joker peuvent √™tre utilis√©s pour inclure plusieurs chemins de fichiers.

Nous recommandons de placer les composants communs du framework dans le m√™me dossier (par exemple `/components/react/` et `/components/solid/`) pour faciliter la sp√©cification de vos inclusions, mais ce n'est pas obligatoire :

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';
import react from '@astrojs/react';
import svelte from '@astrojs/svelte';
import vue from '@astrojs/vue';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // Permettre √† de nombreux frameworks de prendre en charge tous les diff√©rents types de composants.
  // Aucun `include` n'est n√©cessaire si vous n'utilisez qu'un seul framework JSX !
  integrations: [
    preact({
      include: ['**/preact/*'],
    }),
    react({
      include: ['**/react/*'],
    }),
    solid({
      include: ['**/solid/*', '**/node_modules/@suid/material/**'],
    }),
  ],
});
```

## Utilisation

Utilisez un composant SolidJS comme vous le feriez avec n'importe quel [composant UI framework](/fr/guides/framework-components/).

### Limites de Suspense

Afin de prendre en charge les ressources Solid et les composants Lazy sans configuration excessive, les composants r√©serv√©s au serveur et les composants d'hydratation sont automatiquement englob√©s dans les limites de Suspense de niveau sup√©rieur et rendu sur le serveur √† l'aide de la fonction [`renderToStringAsync`][solid-render-to-string-async]. Par cons√©quent, il n'est pas n√©cessaire d'ajouter une limite de suspension de haut niveau autour des composants asynchrones.

Par exemple, vous pouvez utiliser la fonction [`createResource`][solid-create-resource] de Solid pour r√©cup√©rer des donn√©es distantes asynchrones sur le serveur. Les donn√©es distantes seront incluses dans le HTML initial rendu par le serveur √† partir d'Astro :

```tsx
// CharacterName.tsx
function CharacterName() {
  const [name] = createResource(() =>
    fetch('https://swapi.dev/api/people/1')
      .then((result) => result.json())
      .then((data) => data.name)
  );

  return (
    <>
      <h2>Name:</h2>
      {/* Luke Skywalker */}
      <div>{name()}</div>
    </>
  );
}
```

De m√™me, les [Lazy Components][solid-lazy-components] de Solid seront √©galement r√©solus et leur HTML sera inclus dans la page initiale rendue par le serveur.

Les composants non hydratants [`client:only`][astro-client-only] ne sont pas automatiquement englob√©s dans les limites de Suspense.

N'h√©sitez pas √† ajouter d'autres limites de Suspense selon vos pr√©f√©rences.

[astro-integration]: /fr/guides/integrations-guide/

[astro-ui-frameworks]: /fr/guides/framework-components/#utilisation-des-composants-de-framework

[astro-client-only]: /fr/reference/directives-reference/#clientonly

[solid-render-to-string-async]: https://www.solidjs.com/docs/latest/api#rendertostringasync

[solid-create-resource]: https://www.solidjs.com/docs/latest/api#createresource

[solid-lazy-components]: https://www.solidjs.com/docs/latest/api#lazy
