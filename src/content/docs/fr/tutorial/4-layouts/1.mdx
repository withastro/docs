---
type: tutorial
title: Cr√©er votre premi√®re mise en page
description: |-
  Tutoriel : Cr√©er votre premier blog avec Astro ‚Äî
  Refactorisez les √©l√©ments communs dans une mise en page r√©utilisable
i18nReady: true
---
import Box from '~/components/tutorial/Box.astro';
import Checklist from '~/components/Checklist.astro';
import MultipleChoice from '~/components/tutorial/MultipleChoice.astro';
import Option from '~/components/tutorial/Option.astro';
import PreCheck from '~/components/tutorial/PreCheck.astro';
import { Steps } from '@astrojs/starlight/components';


<PreCheck>
  - Refactoriser les √©l√©ments communs dans une mise en page
  - Utiliser un √©l√©ment `<slot />` d'Astro pour placer le contenu de la page dans une mise en page
  - Transmettre des valeurs sp√©cifiques √† la page en tant que props √† sa mise en page
</PreCheck>

Vous avez toujours certains composants Astro qui sont rendus de mani√®re r√©p√©t√©e sur chaque page. Il est temps de restructurer √† nouveau pour cr√©er une mise en page partag√©e !

## Cr√©er votre premi√®re mise en page

<Steps>
1. Cr√©ez un nouveau fichier √† l'emplacement `src/layouts/BaseLayout.astro`. (Vous devrez d'abord cr√©er un nouveau dossier `layouts`.)

2. Copiez **l'int√©gralit√© du contenu** de `index.astro` dans votre nouveau fichier, `BaseLayout.astro`.

    ```astro title="src/layouts/BaseLayout.astro"
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Page d'accueil";
    ---
    <html lang="fr">
      <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{pageTitle}</title>
      </head>
      <body>
        <Header />
        <h1>{pageTitle}</h1>
        <Footer />
        <script>
          import "../scripts/menu.js";
        </script>
      </body>
    </html>
    ```
</Steps>

## Utiliser votre mise en page dans une page

<Steps>
3. Remplacez le code dans `src/pages/index.astro` par ce qui suit :

    ```astro title="src/pages/index.astro"
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    const pageTitle = "Page d'accueil";
    ---
    <BaseLayout>
      <h2>Mon sous-titre de blog g√©nial</h2>
    </BaseLayout>
    ```

4. V√©rifiez √† nouveau l'aper√ßu du navigateur pour remarquer ce qui a (ou, spoiler : n'a _pas_ !) chang√©.

5. Ajoutez un √©l√©ment `<slot />` √† `src/layouts/BaseLayout.astro` juste au-dessus du composant de pied de page, puis v√©rifiez l'aper√ßu du navigateur de votre page d'accueil et remarquez ce qui a vraiment _chang√©_ cette fois-ci !

    ```astro title="src/layouts/BaseLayout.astro" ins={18}
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Page d'accueil";
    ---
    <html lang="fr">
      <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{pageTitle}</title>
      </head>
      <body>
        <Header />
        <h1>{pageTitle}</h1>
        <slot />
        <Footer />
        <script>
          import "../scripts/menu.js";
        </script>
      </body>
    </html>
    ```
</Steps>

 Le `<slot />` vous permet d'injecter (ou "ins√©rer") du **contenu enfant** √©crit entre les balises d'ouverture et de fermeture `<Component></Component>` dans n'importe quel fichier `Component.astro`.

## Transmettre les valeurs sp√©cifiques de la page en tant que props

<Steps>
6. Transmettez le titre de la page √† votre composant de mise en page depuis `index.astro` en utilisant un attribut de composant :

    ```astro title="src/pages/index.astro" 'pageTitle={pageTitle}'
    ---
    import BaseLayout from '../layouts/BaseLayout.astro';
    const pageTitle = "Page d'accueil";
    ---
    <BaseLayout pageTitle={pageTitle}>
      <h2>Mon sous-titre de blog g√©nial</h2>
    </BaseLayout>
    ```

7. Modifiez le script de votre composant de mise en page `BaseLayout.astro` pour recevoir un titre de page via `Astro.props` au lieu de le d√©finir comme une constante.

    ```astro title="src/layouts/BaseLayout.astro" del={5} ins={6}
    ---
    import Header from '../components/Header.astro';
    import Footer from '../components/Footer.astro';
    import '../styles/global.css';
    const pageTitle = "Page d'accueil";
    const { pageTitle } = Astro.props;
    ---
    ```

8. Consultez l'aper√ßu de votre navigateur pour v√©rifier que le titre de votre page n'a pas chang√©. Il a la m√™me valeur, mais il est d√©sormais affich√© dynamiquement. Et maintenant, chaque page individuelle peut sp√©cifier son propre titre √† la mise en page.
</Steps>

<Box icon="puzzle-piece">

## Essayer par vous-m√™me - Utiliser votre mise en page partout

**Refactorisez** vos autres pages (`blog.astro` et `about.astro`) pour qu'elles utilisent votre nouveau composant `<BaseLayout>` pour afficher les √©l√©ments communs de la page.

N'oubliez pas de :

- Transmettre un titre de page en tant que props via un attribut de composant.

- Laisser la mise en page √™tre responsable du rendu HTML de tous les √©l√©ments communs.

- D√©placer toutes les balises `<style>` existantes dans la balise `<head>` de la page avec les styles que vous souhaitez conserver dans le mod√®le HTML de la page.

- Supprimer de chaque page individuelle tout ce qui est d√©sormais g√©r√© par la mise en page, y compris :

  - les √©l√©ments HTML
  - les composants et leurs importations
  - les r√®gles CSS dans une balise `<style>` (par exemple, `<h1>` dans votre page √Ä propos)
  - les balises `<script>`

:::note[Conserver les styles de votre page √Ä propos]
L'utilisation de `<BaseLayout>` pour restituer votre page `about.astro` signifie que vous perdrez la balise `<style>` ajout√©e √† la balise `<head>` de cette page. Pour continuer √† appliquer un style aux √©l√©ments uniquement au niveau de la page √† l'aide des styles √† port√©e limit√©e d'Astro, d√©placez la balise `<style>` vers le corps du composant de page. Cela vous permet d'appliquer un style aux **√©l√©ments cr√©√©s dans ce composant de page** (par exemple, votre liste de comp√©tences).

√âtant donn√© que votre `<h1>` est d√©sormais cr√©√© par votre composant de mise en page, vous pouvez ajouter l'attribut `is:global` √† votre balise de style pour affecter chaque √©l√©ment de cette page, y compris ceux cr√©√©s par d'autres composants¬†: `<style is:global define:vars={{ skillColor, fontWeight, textCase }}>`
:::
</Box>



<Box icon="question-mark">

### Tester vos connaissances

1. Un composant Astro (fichier `.astro`) peut fonctionner comme :

    <MultipleChoice>
      <Option>une page</Option>
      <Option>un composant d'interface utilisateur</Option>
      <Option>une mise en page</Option>
      <Option isCorrect>toutes les r√©ponses ci-dessus, car les composants Astro sont tr√®s fonctionnels‚ÄØ! üèóÔ∏è</Option>
    </MultipleChoice>

2. Pour afficher un titre sur la page, vous pouvez :

    <MultipleChoice>
      <Option>
        utiliser un √©l√©ment HTML standard sur la page avec du texte statique (par exemple, `<h1>Page d'accueil</h1>`)
      </Option>
      <Option>
        utiliser un √©l√©ment HTML standard sur la page en faisant r√©f√©rence √† une variable d√©finie dans le script de frontmatter de votre composant (par exemple, `<h1>{pageTitle}</h1>`)
      </Option>
      <Option>
        utiliser un composant de mise en page sur la page, en transmettant le titre en tant qu'attribut de composant (par exemple, `<BaseLayout title="Page d'accueil" />` ou `<BaseLayout title={pageTitle} />`)
      </Option>
      <Option isCorrect>
        toutes les r√©ponses ci-dessus, car Astro vous permet d'utiliser du HTML standard ou de le dynamiser avec un peu de script et des composants ! üí™
      </Option>
    </MultipleChoice>

3. Les informations peuvent √™tre transmises d'un composant √† un autre :

    <MultipleChoice>
      <Option>
        en important un composant d'interface utilisateur et en le restituant dans le mod√®le d'un autre composant
      </Option>
      <Option>
        en transmettant des props √† un composant o√π il est rendu via un attribut de composant
      </Option>
      <Option>
        en envoyant du contenu HTML √† restituer √† l'int√©rieur d'un autre composant en utilisant un √©l√©ment substituable `<slot />`
      </Option>
      <Option isCorrect>
        toutes les r√©ponses ci-dessus, car Astro a √©t√© con√ßu pour tirer parti de la conception bas√©e sur des composants ! üß©
      </Option>
    </MultipleChoice>

</Box>

<Box icon="check-list">

## Liste de contr√¥le

<Checklist>
- [ ] Je peux cr√©er un composant de mise en page Astro avec un `<slot />`.
- [ ] Je peux envoyer des propri√©t√©s sp√©cifiques √† la page √† une mise en page.
</Checklist>
</Box>

### Ressources

- [Composants de mise en page d'Astro](/fr/basics/layouts/)

- [`<slot />` d'Astro](/fr/basics/astro-components/#les-slots)
