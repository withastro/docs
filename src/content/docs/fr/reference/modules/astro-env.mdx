---
title: Référence de l'API des variables d'environnement
sidebar:
  label: 'astro:env'
i18nReady: true
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 6
---
import Since from '~/components/Since.astro';
import ReadMore from '~/components/ReadMore.astro';

<p><Since v="5.0.0" /></p>

L'API `astro:env` vous permet de configurer un schéma de type sécurisé pour les variables d'environnement que vous avez définies. Cela vous permet d'indiquer si elles doivent être disponibles sur le serveur ou le client, et de définir leur type de données et leurs propriétés supplémentaires. Pour des exemples et des instructions d'utilisation, [consultez le guide `astro:env`](/fr/guides/environment-variables/#variables-denvironnement-avec-sûreté-du-typage).

## Importations depuis `astro:env`

```js
import { 
  getSecret,
 } from 'astro:env/server';
```

### `getSecret()`

<p>
<Since v="5.0.0" />
</p>

La fonction d'aide `getSecret()` permet de récupérer la valeur brute d'une variable d'environnement par sa clé.

Par exemple, vous pouvez récupérer une valeur booléenne sous forme de chaîne :

```js
import {
  FEATURE_FLAG, // boolean
  getSecret
} from 'astro:env/server'

getSecret('FEATURE_FLAG') // string | undefined
```

Cela peut également être utile pour obtenir un secret non défini dans votre schéma, par exemple un secret qui dépend de données dynamiques d'une base de données ou d'une API.

Si vous devez récupérer des variables d'environnement par programmation, nous vous recommandons d'utiliser `getSecret()` au lieu de `process.env` (ou équivalent). Étant donné que son implémentation est fournie par votre adaptateur, vous n'aurez pas besoin de mettre à jour tous vos appels si vous changez d'adaptateur. La valeur par défaut est `process.env` dans dev et build.
