---
title: Référence de l'API des images et des ressources
sidebar:
  label: 'astro:assets'
i18nReady: true
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 3
---
import Since from '~/components/Since.astro';
import ReadMore from '~/components/ReadMore.astro';

<p><Since v="3.0.0" /></p>

Astro fournit des composants intégrés et des fonctions d'aide pour optimiser et afficher vos images. Pour des fonctionnalités et des exemples d'utilisation, [consultez notre guide sur les images](/fr/guides/images/).

## Importations depuis `astro:assets`

Les utilitaires suivants sont importés depuis le module virtuel des ressources :

```js
import { 
  Image,
  Picture,
  getImage,
  inferRemoteSize,
  getConfiguredImageService,
  imageConfig,
} from 'astro:assets';
```

### `<Image />`

Le composant `<Image />` optimise et transforme les images.

Ce composant peut également être utilisé pour créer des [images adaptatives](#propriétés-des-images-adaptatives) qui peuvent s'ajuster en fonction de la taille de leur conteneur ou de la taille et de la résolution de l'écran d'un appareil.

```astro title="src/components/MonComposant.astro"
---
// importe le composant Image et l'image
import { Image } from 'astro:assets';
import monImage from "../assets/mon_image.png"; // Image a une résolution de 1600x900
---

<!-- `alt` est obligatoire sur le composant Image -->
<Image src={monImage} alt="Une description de mon image." />
```

```html
<!-- Sortie -->
<!-- L'image est optimisée, les attributs appropriés sont appliqués -->
<img
  src="/_astro/mon_image.hash.webp"
  width="1600"
  height="900"
  decoding="async"
  loading="lazy"
  alt="Une description de mon image."
/>
```

Le composant `<Image />` accepte les propriétés listées ci-dessous et les [propriétés d'image adaptatives](#propriétés-des-images-adaptatives) en plus de toutes les propriétés acceptées par la balise HTML `<img>`.

#### `src` (obligatoire)

<p>

**Type :** <code><a href="#imagemetadata-1">ImageMetadata</a> | string | Promise\<\{ default: ImageMetadata \}\></code>
</p>

Le format de la valeur `src` de votre fichier image dépend de l'emplacement de votre fichier image :

- **Images locales dans `src/`** - vous devez **également importer l'image** en utilisant un chemin de fichier relatif ou configurer et utiliser un [alias d'importation](/fr/guides/imports/#alias). Utilisez ensuite le nom de l'importation comme valeur dans `src` :

  ```astro title="src/pages/index.astro" "monImageImportee" "{monImageImportee}"
  ---
  import { Image } from 'astro:assets';
  import monImageImportee from '../assets/mon-image-locale.png';
  ---
  <Image src={monImageImportee} alt="texte descriptif" />
  ```

- **Images dans le dossier `public/`** -  utilisez le **chemin d'accès au fichier de l'image par rapport au dossier public** :

  ```astro title="src/pages/index.astro" '"/images/mon-image-publique.png"'
  ---
  import { Image } from 'astro:assets';
  ---
  <Image
    src="/images/mon-image-publique.png"
    alt="texte descriptif"
    width="200"
    height="150"
  />
  ```

- **Images distantes** - utilisez l'**URL complète** de l'image comme valeur de propriété :

  ```astro title="src/pages/index.astro" '"https://example.com/image-distante.jpg"'
  ---
  import { Image } from 'astro:assets';
  ---
  <Image
    src="https://example.com/image-distante.jpg"
    alt="texte descriptif"
    width="200"
    height="150"
  />
  ```

#### `alt` (obligatoire)

<p>

**Type :** `string`
</p>

Utilisez l'attribut `alt` requis pour fournir un [texte alternatif descriptif](https://www.w3.org/WAI/tutorials/images/) pour les images.

Si une image est simplement décorative (c'est-à-dire qu'elle ne contribue pas à la compréhension de la page), définissez `alt=""` pour que les lecteurs d'écran et autres technologies d'assistance sachent qu'il faut ignorer l'image.

#### `width` et `height` (obligatoires pour les images dans `public/`)

<p>

**Type :** ``number | `${number}` | undefined``
</p>

Ces propriétés définissent les dimensions à utiliser pour l'image.

Lorsqu'un type de mise en page (`layout`) est défini, celles-ci sont automatiquement générées en fonction des dimensions de l'image et, dans la plupart des cas, ne doivent pas être définis manuellement.

Lorsque vous utilisez des images dans leur rapport hauteur/largeur d'origine, `width` et `height` sont facultatives. Ces dimensions peuvent être automatiquement déduites des fichiers image situés dans `src/`. Pour les images distantes, ajoutez [l'attribut `inferSize` défini sur `true`](#infersize) sur les composants `<Image />` ou `<Picture />` ou utilisez [la fonction `inferRemoteSize()`](#inferremotesize).

Cependant, ces deux propriétés sont requises pour les images stockées dans votre dossier `public/` car Astro n'est pas en mesure d'analyser ces fichiers.

#### `densities`

<p>

**Type :** ``(number | `${number}x`)[] | undefined``<br />
<Since v="3.3.0" />
</p>

Une liste de densités de pixels à générer pour l'image.

L'attribut `densities` n'est pas compatible avec les [images adaptatives](#propriétés-des-images-adaptatives) utilisant une propriété `layout` ou lorsqu'`image.layout` est définie dans la configuration, et sera ignoré s'il est défini.

Si elle est fournie, cette valeur sera utilisée pour générer un attribut `srcset` sur la balise `<img>`. Ne fournissez pas de valeur pour `widths` lorsque vous utilisez cette valeur.

Les densités égales à des largeurs supérieures à celles de l'image d'origine seront ignorées pour éviter de mettre à l'échelle l'image.

```astro title="src/components/MonComposant.astro"
---
import { Image } from 'astro:assets';
import monImage from '../assets/mon_image.png';
---
<Image
  src={monImage}
  width={monImage.width / 2}
  densities={[1.5, 2]}
  alt="Une description de mon image."
/>
```

```html
<!-- Sortie -->
<img
  src="/_astro/mon_image.hash.webp"
  srcset="
    /_astro/mon_image.hash.webp 1.5x
    /_astro/mon_image.hash.webp 2x
  "
  alt="Une description de mon image."
  width="800"
  height="450"
  loading="lazy"
  decoding="async"
/>
```

#### `widths`

<p>

**Type :** `number[] | undefined`<br />
<Since v="3.3.0" />
</p>

Une liste de largeurs à générer pour l'image.

Si elle est fournie, cette valeur sera utilisée pour générer un attribut `srcset` sur la balise `<img>`. Une [propriété `sizes`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/sizes) doit également être fournie.

Les attributs `widths` et `sizes` seront automatiquement générés pour les images adaptatives à l'aide d'une propriété `layout`. Fournir ces valeurs n'est généralement pas nécessaire, mais peut remplacer les valeurs générées automatiquement.

Ne fournissez pas de valeur pour `densities` lorsque vous utilisez cette valeur. Une seule de ces deux valeurs peut être utilisée pour générer un `srcset`.

Les largeurs supérieures à l'image d'origine seront ignorées pour éviter de mettre à l'échelle l'image.

```astro title="src/components/MonComposant.astro"
---
import { Image } from 'astro:assets';
import monImage from '../assets/mon_image.png'; // La résolution de l'image est de 1600x900
---
<Image
  src={monImage}
  widths={[240, 540, 720, monImage.width]}
  sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${monImage.width}px`}
  alt="Une description de mon image."
/>
```

```html
<!-- Sortie -->
<img
  src="/_astro/mon_image.hash.webp"
  srcset="
    /_astro/mon_image.hash.webp 240w,
    /_astro/mon_image.hash.webp 540w,
    /_astro/mon_image.hash.webp 720w,
		/_astro/mon_image.hash.webp 1600w
  "
  sizes="
    (max-width: 360px) 240px,
    (max-width: 720px) 540px,
    (max-width: 1600px) 720px,
    1600px
  "
  alt="Une description de mon image."
  width="1600"
  height="900"
  loading="lazy"
  decoding="async"
/>
```

#### `sizes`

<p>

**Type :** `string | undefined`<br />
<Since v="3.3.0" />
</p>

Spécifie la largeur de la mise en page de l'image pour chaque valeur d'une liste de conditions de média. Doit être fourni lors de la spécification de largeurs (`widths`).

Les attributs `widths` et `sizes` seront automatiquement générés pour les images adaptatives à l'aide d'une propriété `layout`. Fournir ces valeurs n'est généralement pas nécessaire, mais peut remplacer les valeurs générées automatiquement.

L'attribut `sizes` généré pour les images contraintes (`constrained`) et pleine largeur (`full-width`) suppose que l'image s'affiche presque sur toute la largeur de l'écran lorsque la fenêtre d'affichage est plus petite que la largeur de l'image. Si la différence est significative (par exemple, si l'image est affichée sur plusieurs colonnes sur un petit écran), vous devrez peut-être ajuster manuellement l'attribut `sizes` pour obtenir de meilleurs résultats.


#### `format`

<p>

**Type :** <code><a href="#imageoutputformat">ImageOutputFormat</a> | undefined</code>
</p>

Vous pouvez éventuellement indiquer le [type de fichier image](https://developer.mozilla.org/fr/docs/Web/Media/Formats/Image_types#types_de_fichiers_dimages_communs) de sortie à utiliser.

Par défaut, le composant `<Image />` produira un fichier `.webp`.

#### `quality`

<p>

**Type :** `ImageQuality | undefined`
</p>

`quality` est une propriété facultative qui peut être :
- un préréglage (`low`, `mid`, `high`, `max`) qui est automatiquement normalisé entre les formats.
- un nombre compris entre `0` et `100` (interprété différemment selon les formats).

#### `inferSize`

<p>

**Type :** `boolean`<br />
**Par défaut :** `false`<br />
<Since v="4.4.0" />
</p>

Vous permet de définir automatiquement la largeur (`width`) et la hauteur (`height`) d'origine d'une image distante.

Par défaut, cette valeur est définie sur `false` et vous devez spécifier manuellement les deux dimensions de votre image distante.

Ajoutez `inferSize` au composant `<Image />` (ou `inferSize: true` à `getImage()`) pour déduire ces valeurs du contenu de l'image lors de la récupération. Cela est utile si vous ne connaissez pas les dimensions de l'image distante ou si elles peuvent changer :

```astro title="src/components/MonComposant.astro" "inferSize"
---
import { Image } from 'astro:assets';
---
<Image src="https://example.com/cat.png" inferSize alt="Un chat qui dort au soleil." />
```

`inferSize` peut récupérer les dimensions d'une [image distante d'un domaine qui n'a pas été autorisé](/fr/guides/images/#autoriser-les-images-distantes), cependant l'image elle-même restera non traitée.

#### `priority`

<p>

**Type :** `boolean`<br />
**Par défaut :** `false`<br />
<Since v="5.10.0" />
</p>

Vous permet de définir automatiquement les attributs `loading`, `decoding` et `fetchpriority` sur leurs valeurs optimales pour les images au-dessus de la ligne de flottaison.

```astro title="src/components/MonComposant.astro" "priority"
---
import { Image } from 'astro:assets';
import monImage from '../assets/mon_image.png';
---
<Image src={monImage} priority alt="Une description de mon image" />
```

Lorsque `priority="true"` (ou la syntaxe abrégée `priority`) est ajouté au composant `<Image />` ou `<Picture />`, les attributs suivants sont ajoutés pour indiquer au navigateur de charger l'image immédiatement :

```html
loading="eager"
decoding="sync"
fetchpriority="high"
```

Ces attributs individuels peuvent toujours être définis manuellement si vous devez les personnaliser davantage.

#### `background`

<p>

**Type :** `string | undefined`<br />
<Since v="5.17.0" />
</p>

La couleur d'arrière-plan à utiliser lors de l'aplatissement d'une image pour la transformer au `format` de sortie demandé.

Par défaut, Sharp utilise un fond noir lors de l'aplatissement d'une image. Spécifier une couleur de fond différente est particulièrement utile lors de la conversion d'images à fond transparent vers un format ne prenant pas en charge la transparence (par exemple, `.jpeg`).

```astro title="src/components/MonComposant.astro" "background"
---
import { Image } from 'astro:assets';
import myImage from '../assets/mon_image.png';
---
<Image
  src={myImage}
  alt="Une description de mon image"
  format="jpeg"
  background="#ffffff"
/>
```

Les valeurs sont transmises directement au service d'images. Sharp accepte [toute valeur que le package `color-string` peut analyser](https://github.com/Qix-/color-string/blob/master/README.md#parsing).

### `<Picture />`

<p><Since v="3.3.0" /></p>

Le composant `<Picture />` génère une image optimisée avec plusieurs formats et/ou tailles.

Ce composant peut également être utilisé pour créer des [images adaptatives](#propriétés-des-images-adaptatives) qui peuvent s'ajuster en fonction de la taille de leur conteneur ou de la taille et de la résolution de l'écran d'un appareil.

```astro title="src/pages/index.astro"
---
import { Picture } from 'astro:assets';
import monImage from "../assets/mon_image.png"; // La résolution de l'image est de 1600x900
---

<!-- `alt` est obligatoire sur le composant Picture -->
<Picture src={monImage} formats={['avif', 'webp']} alt="Une description de mon image." />
```

```html
<!-- Sortie -->
<picture>
  <source srcset="/_astro/mon_image.hash.avif" type="image/avif" />
  <source srcset="/_astro/mon_image.hash.webp" type="image/webp" />
  <img
    src="/_astro/mon_image.hash.png"
    width="1600"
    height="900"
    decoding="async"
    loading="lazy"
    alt="Une description de mon image."
  />
</picture>
```

`<Picture />` accepte toutes les propriétés du [composant `<Image />`](#image-), y compris les [propriétés d'image adaptatives](#propriétés-des-images-adaptatives), en plus des suivantes :

#### `formats`

<p>

**Type :** <code><a href="#imageoutputformat">ImageOutputFormat</a>[]</code>
</p>

Un tableau de formats d'image à utiliser pour les balises `<source>`. Les entrées seront ajoutées en tant qu'éléments `<source>` dans l'ordre dans lequel elles sont répertoriées, et cet ordre détermine le format affiché. Pour de meilleures performances, indiquez d'abord le format le plus moderne (par exemple `webp` ou `avif`). Par défaut, ce paramètre est défini sur `['webp']`.

#### `fallbackFormat`

<p>

**Type :** [`ImageOutputFormat`](#imageoutputformat)
</p>

Format à utiliser comme valeur de secours pour la balise `<img>`. La valeur par défaut est `.png` pour les images statiques (ou `.jpg` si l'image est au format JPG), `.gif` pour les images animées et `.svg` pour les fichiers SVG.

#### `pictureAttributes`

<p>

**Type :** `HTMLAttributes<'picture'>`
</p>

Un objet d'attributs à ajouter à la balise `<picture>`.

Utilisez cette propriété pour appliquer des attributs à l'élément externe `<picture>` lui-même. Les attributs appliqués directement au composant `<Picture />` s'appliqueront à l'élément interne `<img>`, à l'exception de ceux utilisés pour la transformation d'image.

```astro title="src/components/MonComposant.astro"
---
import { Picture } from "astro:assets";
import monImage from "../mon_image.png"; // La résolution de l'image est de 1600x900
---

<Picture
  src={monImage}
  alt="Une description de mon image."
  pictureAttributes={{ style: "background-color: red;" }}
/>
```

```html
<!-- Sortie -->
<picture style="background-color: red;">
  <source srcset="/_astro/mon_image.hash.webp" type="image/webp" />
  <img
    src="/_astro/mon_image.hash.png"
    alt="Une description de mon image."
    width="1600"
    height="900"
    loading="lazy"
    decoding="async"
  />
</picture>
```

### Propriétés des images adaptatives

La définition de la propriété [`layout`](#layout) sur un composant [`<Image />`](#image-) ou [`<Picture />`](#picture-) crée une image adaptative et active des paramètres de propriété supplémentaires.

```astro title="src/components/MonComposant.astro"
---
import { Image } from 'astro:assets';
import monImage from '../assets/mon_image.png';
---
<Image src={monImage} alt="Une description de mon image." layout='constrained' width={800} height={600} />
```

 Lorsqu'une mise en page est définie, les attributs `srcset` et `sizes` sont automatiquement générés en fonction des dimensions de l'image et du type de mise en page. Le composant `<Image />` précédent générera la sortie HTML suivante :

```html
<img
  src="/_astro/mon_image.hash3.webp"
  srcset="/_astro/mon_image.hash1.webp 640w,
      /_astro/mon_image.hash2.webp 750w,
      /_astro/mon_image.hash3.webp 800w,
      /_astro/mon_image.hash4.webp 828w,
      /_astro/mon_image.hash5.webp 1080w,
      /_astro/mon_image.hash6.webp 1280w,
      /_astro/mon_image.hash7.webp 1600w"
  alt="Une description de mon image"
  sizes="(min-width: 800px) 800px, 100vw"
  loading="lazy"
  decoding="async"
  fetchpriority="auto"
  width="800"
  height="600"
  style="--fit: cover; --pos: center;"
  data-astro-image="constrained"
>
```
La valeur de `layout` définit également les styles par défaut appliqués à la balise `<img>` pour déterminer comment l'image doit être redimensionnée en fonction de son conteneur :

```css title="Styles des images adaptatives"
:where([data-astro-image]) {
	object-fit: var(--fit);
	object-position: var(--pos);
}
:where([data-astro-image='full-width']) {
	width: 100%;
}
:where([data-astro-image='constrained']) {
	max-width: 100%;
}
```

Vous pouvez remplacer les styles par défaut `object-fit` et `object-position` en définissant les props [`fit`](#fit) et [`position`](#position) sur le composant `<Image />` ou `<Picture />`.


##### `layout`

<p>

**Type :** `'constrained' | 'full-width' | 'fixed' | 'none'` <br />
**Par défault :** `image.layout | 'none'` <br />
<Since v="5.10.0" />
</p>

Définit une [image adaptative](#propriétés-des-images-adaptatives) et détermine son redimensionnement lorsque son conteneur change de taille. Peut être utilisé pour remplacer la valeur par défaut configurée pour [`image.layout`](/fr/reference/configuration-reference/#imagelayout).

- `constrained` - L'image sera réduite pour s'adapter au conteneur, en conservant son rapport hauteur/largeur, mais ne sera pas agrandie au-delà de la largeur (`width`) et de la hauteur (`height`) spécifiées, ou des dimensions d'origine de l'image.

  Utilisez cette option si vous souhaitez que l'image s'affiche à la taille souhaitée, si possible, mais qu'elle soit réduite pour s'adapter aux écrans plus petits. Cela correspond au comportement par défaut des images avec Tailwind. En cas de doute, c'est probablement la mise en page à choisir.

- `full-width` - L'image sera mise à l'échelle pour s'adapter à la largeur du conteneur, en conservant son rapport hauteur/largeur.

  Utilisez ceci pour les images de couverture ou d’autres images qui doivent occuper toute la largeur de la page.

- `fixed` - L'image conservera les dimensions demandées et ne sera pas redimensionnée. Un `srcset` sera généré pour prendre en charge les affichages haute densité, mais pas pour les différentes tailles d'écran.

  Utilisez cette option si l'image ne peut pas être redimensionnée, par exemple des icônes ou des logos plus petits que la largeur de l'écran, ou d'autres images dans un conteneur à largeur fixe.

- `none` - L'image ne sera pas adaptative. Aucun attribut `srcset` ou `sizes` ne sera généré automatiquement et aucun style ne sera appliqué.

  Ceci est utile si vous avez activé une mise en page par défaut, mais que vous souhaitez la désactiver pour une image spécifique.

Par exemple, avec la valeur `constrained` définie comme mise en page par défaut, vous pouvez remplacer la propriété `layout` de n'importe quelle image individuelle :

```astro title="src/components/MonComposant.astro"
---
import { Image } from 'astro:assets';
import monImage from '../assets/mon_image.png';
---
<Image src={monImage} alt="Cela utilisera une mise en page contrainte" width={800} height={600} />
<Image src={monImage} alt="Cela utilisera une mise en page pleine largeur" layout="full-width" />
<Image src={monImage} alt="Cela désactivera les images adaptatives" layout="none" />
```

##### `fit`

<p>

**Type :** `'contain' | 'cover' | 'fill' | 'none' | 'scale-down'` <br />
**Par défault :** `image.objectFit | 'cover'` <br />
<Since v="5.10.0" />
</p>

Activée lorsque la propriété [`layout`](#layout) est définie ou configurée. Définit comment une image adaptative doit être recadrée si son rapport hauteur/largeur est modifié.

Les valeurs correspondent à celles de la propriété CSS `object-fit`. La valeur par défaut est `cover` ou la valeur de [`image.objectFit`](/fr/reference/configuration-reference/#imageobjectfit) si elle est définie. Peut être utilisée pour remplacer les styles par défaut de `object-fit`.

##### `position`

<p>

**Type :** `string` <br />
**Par défault :** `image.objectPosition | 'center'` <br />
<Since v="5.10.0" />
</p>

Activée lorsque la propriété [`layout`](#layout) est définie ou configurée. Définit la position du recadrage de l'image pour une image adaptative si le rapport hauteur/largeur est modifié.

Les valeurs correspondent à celles de la propriété CSS `object-position`. La valeur par défaut est `center` ou la valeur de [`image.objectPosition`](/fr/reference/configuration-reference/#imageobjectposition) si elle est définie. Peut être utilisée pour remplacer les styles par défaut de la propriété `object-position`.

### `getImage()`

<p>

**Type :** <code>(options: <a href="#unresolvedimagetransform">UnresolvedImageTransform</a>) => Promise\<<a href="#getimageresult">GetImageResult</a>\></code>
</p>

:::caution
`getImage()` s'appuie sur des API serveur uniquement et interrompt la génération lorsqu'elle est utilisée sur le client.
:::

La fonction `getImage()` est prévue pour générer des images destinées à être utilisées ailleurs que directement en HTML, par exemple dans une [route d'API](/fr/guides/endpoints/#points-de-terminaison-du-serveur-routes-api). Elle vous permet également de créer votre propre composant `<Image />` personnalisé.

Cette fonction prend un objet d'options avec les [mêmes propriétés que le composant Image](#image-) (sauf `alt`) et renvoie un [objet `GetImageResult`](#getimageresult).

L'exemple suivant génère un arrière-plan (`background-image`) au format AVIF pour un élément `<div />` :

```astro title="src/components/ArrierePlan.astro"
---
import { getImage } from "astro:assets";
import myBackground from "../background.png"

const optimizedBackground = await getImage({src: myBackground, format: 'avif'})
---

<div style={`background-image: url(${optimizedBackground.src});`}><slot /></div>
```

### `inferRemoteSize()`

<p>

**Type :** <code>(url: string) => Promise\<Omit\<<a href="#imagemetadata-1">ImageMetadata</a>, 'src' | 'fsPath'\>\></code><br />
<Since v="4.12.0" />
</p>

Une fonction permettant de définir automatiquement la largeur et la hauteur d'origine d'une image distante. Elle peut être utilisée comme alternative à la transmission de la propriété [`inferSize`](#infersize).

```ts
import { inferRemoteSize } from 'astro:assets';
const { width, height } = await inferRemoteSize("https://example.com/cat.png");
```

### `getConfiguredImageService()`

<p>

**Type :** <code>() => Promise\<<a href="#imageservice">ImageService</a>\></code><br />
<Since v="2.1.3" />
</p>

Récupère le [service d'image](/fr/reference/configuration-reference/#imageservice) résolu.

### `imageConfig`

<p>

**Type :** [`AstroConfig["image"]`](/fr/reference/configuration-reference/#options-dimages)<br />
<Since v="3.0.9" />
</p>

Les [options de configuration pour les images](/fr/reference/configuration-reference/#options-dimages) définies par l'utilisateur et fusionnées avec toutes les valeurs par défaut.

## Types d'`astro:assets`

Les types suivants sont importés depuis le module virtuel des ressources :

```ts
import type {
  LocalImageProps,
  RemoteImageProps,
} from "astro/assets";
```

### `LocalImageProps`

<p>

**Type :** <code>ImageSharedProps\<T\> & \{ src: <a href="#imagemetadata-1">ImageMetadata</a> | Promise\<\{ default: ImageMetadata; \}\> }</code>
</p>

Décrit les [propriétés d'une image locale](#image-). Cela garantit que [`src`](#src-obligatoire) correspond à la forme d'une image importée.

<ReadMore>Apprenez-en davantage sur les [images importées dans `src/`](/fr/guides/images/#images-dans-src) avec un exemple d'utilisation.</ReadMore>

### `RemoteImageProps`

<p>

**Types :**
* `ImageSharedProps<T> & { src: string; inferSize: true; }`
* `ImageSharedProps<T> & { src: string; inferSize?: false | undefined; }`
</p>

Décrit les [propriétés d'une image distante](#image-). Cela garantit que lorsque [`inferSize`](#infersize) n'est pas fourni ou est défini sur `false`, les propriétés [`width` et `height`](#width-et-height-obligatoires-pour-les-images-dans-public) sont toutes deux requises.

## Importations depuis `astro/assets`

Les utilitaires suivants sont importés du module standard des ressources :

```ts
import {
  baseService,
  getConfiguredImageService,
  getImage,
  isLocalService,
} from "astro/assets";
```

### `baseService`

<p>

**Type :** <code>Omit\<<a href="#localimageservice">LocalImageService</a>, 'transform'\></code>
</p>

Le service d'images local intégré qui peut être étendu pour [créer un service d'images personnalisé](/fr/reference/image-service-reference/).

L'exemple suivant réutilise `baseService` pour créer un nouveau service d'images :

```ts title="src/image-service.ts"
import { baseService } from "astro/assets";

const newImageService = {
 getURL: baseService.getURL,
 parseURL: baseService.parseURL,
 getHTMLAttributes: baseService.getHTMLAttributes,
 async transform(inputBuffer, transformOptions) {...}
}
```

### `getConfiguredImageService()`

Voir [`getConfiguredImageService()`](#getconfiguredimageservice) dans `astro:assets`.

### `getImage()`

<p>

**Type :** <code>(options: <a href="#unresolvedimagetransform">UnresolvedImageTransform</a>, imageConfig: <a href="/fr/reference/configuration-reference/#options-dimages">AstroConfig['image']</a>) => Promise\<<a href="#getimageresult">GetImageResult</a>\></code>
</p>

Une fonction similaire à [`getImage()`](#getimage) de `astro:assets` avec deux arguments requis : un objet `options` avec [les mêmes propriétés que le composant Image](#image-) et un deuxième objet pour la [configuration de l'image](/fr/reference/configuration-reference/#options-dimages).

### `isLocalService()`

<p>

**Type :** <code>(service: <a href="#imageservice">ImageService</a> | undefined) => boolean</code>
</p>

Vérifie le type d'un service d'image et renvoie `true` lorsqu'il s'agit d'un [service local](#localimageservice).

## Types d'`astro/assets`

Les types suivants sont importés du module standard des ressources :

```ts
import type {
  LocalImageProps,
  RemoteImageProps,
} from "astro/assets";
```

### `LocalImageProps`

Voir [`LocalImageProps`](#localimageprops) dans `astro:assets`.

### `RemoteImageProps`

Voir [`RemoteImageProps`](#remoteimageprops) dans `astro:assets`.

## Importations depuis `astro/assets/utils`

Les fonctions d'assistance suivantes sont importées depuis le répertoire `utils` du module standard des ressources et peuvent être utilisées pour [créer un service d'images](/fr/reference/image-service-reference/) :

```ts
import { 
  isRemoteAllowed,
  matchHostname,
  matchPathname,
  matchPattern,
  matchPort,
  matchProtocol,
  isESMImportedImage,
  isRemoteImage,
  resolveSrc,
  imageMetadata,
  emitImageMetadata,
  getOrigQueryParams,
  inferRemoteSize,
  propsToFilename,
  hashTransform,
  /* Les éléments suivants sont dépréciés : */
  emitESMImage,
} from "astro/assets/utils";
```

### `isRemoteAllowed()`

<p>

**Type :** <code>(src: string, \{ domains, remotePatterns \}: \{ domains: string[], remotePatterns: <a href="#remotepattern">RemotePattern</a>[] \}) => boolean</code><br />
<Since v="4.0.0" />
</p>

Détermine si une ressource distante donnée, identifiée par son URL source, est autorisée en fonction des domaines et des modèles distants spécifiés.


```ts
import { isRemoteAllowed } from 'astro/assets/utils';

const url = new URL('https://example.com/images/test.jpg');
const domains = ['example.com', 'anotherdomain.com'];
const remotePatterns = [
  {
    protocol: 'https',
    hostname: 'images.example.com',
    pathname: '/**', // Autoriser tout chemin sous ce nom d'hôte
  }
];

isRemoteAllowed(url.href, { domains, remotePatterns }); // Sortie : `true`
```

### `matchHostname()`

<p>

**Type :** `(url: URL, hostname?: string, allowWildcard = false) => boolean`<br />
<Since v="4.0.0" />
</p>

Compare le nom d'hôte d'une URL donnée à un nom d'hôte spécifié, avec prise en charge optionnelle des caractères génériques.

```ts
import { matchHostname } from 'astro/assets/utils';

const url = new URL('https://sub.example.com/chemin/de/la/ressource');

matchHostname(url, 'example.com'); // Sortie : `false`
matchHostname(url, 'example.com', true); // Sortie : `true`
```

### `matchPathname()`

<p>

**Type :** `(url: URL, pathname?: string, allowWildcard = false) => boolean`<br />
<Since v="4.0.0" />
</p>

Compare le chemin d'accès d'une URL donnée à un modèle spécifié, avec prise en charge optionnelle des caractères génériques.

```ts
import { matchPathname } from 'astro/assets/utils';

const testURL = new URL('https://example.com/images/photo.jpg');

matchPathname(testURL, '/images/photo.jpg'); // Sortie : `true`
matchPathname(testURL, '/images/'); // Sortie : `false`
matchPathname(testURL, '/images/*', true); // Sortie : `true`
```

### `matchPattern()`

<p>

**Type :** <code>(url: URL, remotePattern: <a href="#remotepattern">RemotePattern</a>) => boolean</code><br />
<Since v="4.0.0" />
</p>

Évalue si une URL donnée correspond au modèle distant spécifié en fonction du protocole, du nom d'hôte, du port et du chemin d'accès.

```ts
import { matchPattern } from 'astro/assets/utils';

const url = new URL('https://images.example.com/photos/test.jpg');
const remotePattern = {
  protocol: 'https',
  hostname: 'images.example.com',
  pathname: '/photos/**', // Autoriser tous les fichiers sous /photos/
};

matchPattern(url, remotePattern); // Sortie : `true`
```

### `matchPort()`

<p>

**Type :** `(url: URL, port?: string) => boolean`<br />
**Default:** `true`<br />
<Since v="4.0.0" />
</p>

Vérifie si le port de l'URL donnée correspond au port spécifié. Si aucun port n'est fourni, renvoie `true`.

```ts
import { matchPort } from 'astro/assets/utils';

const urlWithPort = new URL('https://example.com:8080/resource');
const urlWithoutPort = new URL('https://example.com/resource');

matchPort(urlWithPort, '8080'); // Sortie : `true`
matchPort(urlWithoutPort, '8080'); // Sortie : `false`
```

### `matchProtocol()`

<p>

**Type :** `(url: URL, protocol?: string) => boolean`<br />
**Default:** `true`<br />
<Since v="4.0.0" />
</p>

Compare le protocole de l'URL fournie avec un protocole spécifié. Renvoie `true` si le protocole correspond ou si aucun protocole n'est fourni.

```ts
import { matchProtocol } from 'astro/assets/utils';

const secureUrl = new URL('https://example.com/ressource');
const regularUrl = new URL('http://example.com/ressource');

matchProtocol(secureUrl, 'https'); // Sortie : `true`
matchProtocol(regularUrl, 'https'); // Sortie : `false`
```

### `isESMImportedImage()`

<p>

**Type :** <code>(src: <a href="#imagemetadata-1">ImageMetadata</a> | string) => boolean</code><br />
<Since v="4.0.0" />
</p>

Détermine si la source donnée est une image importée en tant que module ECMAScript (ESM).

```ts
import { isESMImportedImage } from 'astro/assets/utils';

const imageMetadata = {
  src: '/images/photo.jpg',
  width: 800,
  height: 600,
  format: 'jpg',
};
const filePath = '/images/photo.jpg';

isESMImportedImage(imageMetadata); // Sortie : `true`
isESMImportedImage(filePath); // Sortie : `false`
```

### `isRemoteImage()`

<p>

**Type :** <code>(src: <a href="#imagemetadata-1">ImageMetadata</a> | string) => boolean</code><br />
<Since v="4.0.0" />
</p>

Détermine si la source fournie est une URL d'image distante sous forme de chaîne de caractères.

```ts
import { isRemoteImage } from 'astro/assets/utils';

const imageUrl = 'https://example.com/images/photo.jpg';
const localImage = {
  src: '/images/photo.jpg',
  width: 800,
  height: 600,
  format: 'jpg',
};

isRemoteImage(imageUrl); // Sortie : `true`
isRemoteImage(localImage); // Sortie : `false`
```

### `resolveSrc()`

<p>

**Type :** <code>(src: <a href="#src-2">UnresolvedImageTransform['src']</a>) => Promise\<string | <a href="#imagemetadata-1">ImageMetadata</a>\></code><br />
<Since v="4.0.0" />
</p>

Renvoie la source de l'image. Cette fonction garantit que si `src` est une promesse (par exemple, une importation dynamique (`import()`)), elle est attendue et que la valeur correcte de `src` est extraite. Si `src` est déjà une valeur résolue, elle est renvoyée telle quelle.

```ts
import { resolveSrc } from 'astro/assets/utils';
import localImage from "./images/photo.jpg";

const resolvedLocal = await resolveSrc(localImage);
// Exemple de valeur : `{ src: '/@fs/home/nom-utilisateur/dev/projet-astro/src/images/photo.jpg', width: 800, height: 600, format: 'jpg' }`

const resolvedRemote = await resolveSrc("https://example.com/img-distante.jpg");
// Value: `"https://example.com/img-distante.jpg"`

const resolvedDynamic = await resolveSrc(import("./images/image-dynamique.jpg"))
// Exemple de valeur : `{ src: '/@fs/home/nom-utilisateur/dev/projet-astro/src/images/image-dynamique.jpg', width: 800, height: 600, format: 'jpg' }`
```

### `imageMetadata()`

<p>

**Type :** <code>(data: Uint8Array, src?: string) => Promise\<Omit\<<a href="#imagemetadata-1">ImageMetadata</a>, 'src' | 'fsPath'\>\></code><br />
<Since v="4.0.0" />
</p>

Extrait les métadonnées de l'image, telles que ses dimensions, son format et son orientation, à partir des données d'image fournies.

```ts
import { imageMetadata } from 'astro/assets/utils';

const binaryImage = new Uint8Array([/* ...données d'image binaires... */]);
const sourcePath = '/images/photo.jpg';

const metadata = await imageMetadata(binaryImage, sourcePath);
// Exemple de valeur :
// {
//    width: 800,
//    height: 600,
//    format: 'jpg',
//    orientation: undefined
// }
```

### `emitImageMetadata()`

<p>

**Type :** <code>(id: string | undefined, fileEmitter?: Rollup.EmitFile) => Promise\<(<a href="#imagemetadata-1">ImageMetadata</a> & \{ contents?: Buffer \}) | undefined\></code><br />
<Since v="5.7.0" />
</p>

Traite un fichier image et émet ses métadonnées et éventuellement son contenu. En mode compilation, la fonction utilise `fileEmitter` pour générer une référence de ressource. En mode développement, cela se résout en une URL de fichier local avec des paramètres de requête pour les métadonnées.

```ts
import { emitImageMetadata } from 'astro/assets/utils';

const imageId = '/images/photo.jpg';
const metadata = await emitImageMetadata(imageId);
// Exemple de valeur :
// {
//    src: '/@fs/home/nom-utilisateur/dev/projet-astro/src/images/photo.jpg?origWidth=800&origHeight=600&origFormat=jpg',
//    width: 800,
//    height: 600,
//    format: 'jpg',
//    contents: Uint8Array([...])
// }
```

### `getOrigQueryParams()`

<p>

**Type :** <code>(params: URLSearchParams) => Pick\<<a href="#imagemetadata-1">ImageMetadata</a>, 'width' | 'height' | 'format'\> | undefined</code><br />
<Since v="4.0.0" />
</p>

Récupère la largeur (`width`), la hauteur (`height`) et le `format` d'une image à partir d'un objet [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams). Si l'un de ces paramètres est manquant ou invalide, la fonction renvoie `undefined`.

```ts
import { getOrigQueryParams } from 'astro/assets/utils';

const url = new URL('https://example.com/image.jpg?width=800&height=600&format=jpg');
const origParams = getOrigQueryParams(url.searchParams);
// Exemple de valeur :
// {
//    width: 800,
//    height: 600,
//    format: 'jpg'
// }
```

### `inferRemoteSize()`

<p>

**Type :** <code>(url: string) => Promise\<Omit\<<a href="#imagemetadata-1">ImageMetadata</a>, 'src' | 'fsPath'\>\></code><br />
<Since v="4.0.0" />
</p>

Déduit les dimensions d'une image distante en diffusant ses données et en les analysant progressivement jusqu'à ce que suffisamment de métadonnées soient disponibles.

```ts
import { inferRemoteSize } from 'astro/assets/utils';

const remoteImageUrl = 'https://example.com/image.jpg';
const imageSize = await inferRemoteSize(remoteImageUrl);
// Exemple de valeur :
// {
//    width: 1920,
//    height: 1080,
//    format: 'jpg'
// }
```

### `propsToFilename()`

<p>

**Type :** <code>(filePath: string, transform: <a href="#imagetransform">ImageTransform</a>, hash: string) => string</code><br />
<Since v="4.0.0" />
</p>

Génère un nom de fichier formaté pour une image en fonction de son chemin source, de ses propriétés de transformation et d'un hachage unique.

Le nom de fichier formaté suit cette structure :

`<prefixDirname>/<baseFilename>_<hash><outputExtension>`

- `prefixDirname` : Si l'image est une image importée ESM, il s'agit du nom du répertoire du chemin du fichier d'origine ; sinon, ce sera une chaîne de caractères vide.
- `baseFilename` : Le nom de base du fichier ou un nom court haché si le fichier est un URI `data:`.
- `hash` : Une chaîne de hachage unique générée pour distinguer le fichier transformé.
- `outputExtension` : L'extension du fichier de sortie souhaitée dérivée de `transform.format` ou de l'extension du fichier d'origine.

```ts
import { propsToFilename } from 'astro/assets/utils';

const filePath = '/images/photo.jpg';
const transform = { format: 'png', src: filePath };
const hash = 'abcd1234';

const filename = propsToFilename(filePath, transform, hash);
// Exemple de valeur : '/images/photo_abcd1234.png'
```

### `hashTransform()`

<p>

**Type :** <code>(transform: <a href="#imagetransform">ImageTransform</a>, imageService: string, propertiesToHash: string[]) => string</code><br />
<Since v="4.0.0" />
</p>

Transforme l'objet `transform` fourni en une chaîne de hachage basée sur les propriétés sélectionnées et le service d'images (`imageService`) spécifié.

```ts
import { hashTransform } from 'astro/assets/utils';

const transform = {
  src: '/images/photo.jpg',
  width: 800,
  height: 600,
  format: 'jpg',
};
const imageService = 'astro/assets/services/sharp';
const propertiesToHash = ['width', 'height', 'format'];

const hash = hashTransform(transform, imageService, propertiesToHash);
// Exemple de valeur : 'd41d8cd98f00b204e9800998ecf8427e'
```

### `emitESMImage()`

:::caution[Dépréciée]
Utilisez plutôt la fonction [`emitImageMetadata`](#emitimagemetadata).
:::

<p>

**Type :** <code>(id: string | undefined, _watchMode: boolean, experimentalSvgEnabled: boolean,  fileEmitter?: Rollup.EmitFile) => Promise\<(<a href="#imagemetadata-1">ImageMetadata</a> & \{ contents?: Buffer \}) | undefined\></code><br />
<Since v="4.0.0" />
</p>


Traite un fichier image et émet ses métadonnées et, éventuellement, son contenu. En mode compilation, la fonction utilise `fileEmitter` pour générer une référence de ressource. En mode développement, cela se résout en une URL de fichier local avec des paramètres de requête pour les métadonnées.

```ts
import { emitESMImage } from 'astro/assets/utils';

const imageId = '/images/photo.jpg';
const unusedWatchMode = false; // Déprécié, inutilisé
const unusedExperimentalSvgEnabled = false; // Définissez cette valeur sur `true` uniquement si vous utilisez SVG et souhaitez que les données du fichier soient intégrées.
const image = await emitESMImage(imageId, unusedWatchMode, unusedExperimentalSvgEnabled);
// Exemple de valeur :
// {
//    src: '/@fs/home/nom-utilisateur/dev/projet-astro/src/images/photo.jpg?origWidth=800&origHeight=600&origFormat=jpg',
//    width: 800,
//    height: 600,
//    format: 'jpg',
//    contents: Uint8Array([...])
// }
```

## Types d'`astro`

```ts
import type {
  GetImageResult,
  ImageTransform,
  UnresolvedImageTransform,
  ImageMetadata,
  ImageInputFormat,
  ImageOutputFormat,
  ImageQuality,
  ImageQualityPreset,
  RemotePattern,
  ImageService,
  ExternalImageService,
  LocalImageService,
  ImageServiceConfig,
} from "astro";
```

### `GetImageResult`

<p>

**Type :** `object`<br />
<Since v="2.2.0" />
</p>

Décrit le résultat de la transformation après l'appel à [`getImage()`](/fr/reference/modules/astro-assets/#getimage).

#### `attributes`

<p>

**Type :** `Record<string, any>`
</p>

Définit les attributs HTML supplémentaires nécessaires au rendu de l'image (par exemple, largeur, hauteur, style).

#### `options`

<p>

**Type :** [`ImageTransform`](#imagetransform)
</p>

Décrit les paramètres de transformation après validation.

#### `rawOptions`

<p>

**Type :** [`ImageTransform`](#imagetransform)
</p>

Décrit les paramètres de transformation d'origine.

#### `src`

<p>

**Type :** `string`
</p>

Le chemin d'accès à l'image générée.

#### `srcSet`

<p>

**Type :** <code>\{ values: \{ transform: <a href="#imagetransform">ImageTransform</a>; descriptor?: string; attributes?: Record\<string, any\>; url: string; \}[]; attribute: string; \}</code><br />
<Since v="3.3.0" />
</p>

Un objet décrivant comment générer l'attribut [`srcset`](https://developer.mozilla.org/fr/docs/Web/HTML/Reference/Elements/img#srcset).

##### `values`

<p>

**Type :** <code>\{ transform: <a href="#imagetransform">ImageTransform</a>; descriptor?: string; attributes?: Record\<string, any\>; url: string; \}[]</code>
</p>

Un tableau de valeurs générées où chaque entrée comprend une URL et un descripteur de taille. Celui-ci peut être utilisé pour générer manuellement la valeur de l'attribut `srcset`.

##### `attribute`

<p>

**Type :** `string`
</p>

Une valeur prête à être utilisée dans l'attribut `srcset`.

### `ImageTransform`

<p>

**Type :** `object`
</p>

Définit les options acceptées par le service de transformation d'images. Ceci contient une propriété `src` obligatoire, des propriétés prédéfinies facultatives et toutes les propriétés supplémentaires requises par le service d'images :

#### `src`

<p>

**Type :** <code><a href="#imagemetadata-1">ImageMetadata</a> | string</code>
</p>

Définit le chemin d'accès à une image locale dans le répertoire `public`, l'URL d'une image distante ou les données d'une image importée.

#### `width`

<p>

**Type :** `number | undefined`
</p>

La largeur de l'image.

#### `height`

<p>

**Type :** `number | undefined`
</p>

La hauteur de l'image.

#### `widths`

<p>

**Type :** `number[] | undefined`<br />
<Since v="3.3.0" />
</p>

Une liste de largeurs à générer pour l'image.

#### `densities`

<p>

**Type :** ``(number | `${number}x`)[] | undefined``<br />
<Since v="3.3.0" />
</p>

Une liste de densités de pixels à générer pour l'image.

#### `quality`

<p>

**Type :** <code><a href="#imagequality">ImageQuality</a> | undefined</code>
</p>

La qualité souhaitée pour l'image de sortie.

#### `format`

<p>

**Type :** <code><a href="#imageoutputformat">ImageOutputFormat</a> | undefined</code>
</p>

Le format souhaité pour l'image de sortie.

#### `fit`

<p>

**Type :** `'fill' | 'contain' | 'cover' | 'none' | 'scale-down' | string | undefined`<br />
<Since v="5.0.0" />
</p>

Définit une liste de valeurs autorisées pour la propriété CSS `object-fit`, extensible avec n'importe quelle chaîne de caractères.

#### `position`

<p>

**Type :** `string | undefined`<br />
<Since v="5.0.0" />
</p>

Contrôle la valeur de la propriété CSS `object-position`.

### `UnresolvedImageTransform`

<p>

**Type :** <code>Omit\<<a href="#imagetransform">ImageTransform</a>, "src"\> & \{ src: <a href="#imagemetadata-1">ImageMetadata</a> | string | Promise\<\{ default: ImageMetadata \}\>; inferSize?: boolean; \}</code>
</p>

Représente une image avec des options de transformation. Ceci contient les mêmes propriétés que le type [`ImageTransform`](#imagetransform) avec un type `src` différent et une propriété `inferSize` supplémentaire.

#### `src`

<p>

**Type :** <code><a href="#imagemetadata-1">ImageMetadata</a> | string | Promise\<\{ default: ImageMetadata \}\></code>
</p>

Le chemin d'accès à une image importée ou située dans le répertoire `public`, ou l'URL d'une image distante.

#### `inferSize`

<p>

**Type :** `boolean`
</p>

Détermine si la largeur et la hauteur de l'image doivent être déduites.

<ReadMore>Voir aussi l'attribut [`inferSize`](/fr/reference/modules/astro-assets/#infersize) disponible pour `<Image />`.</ReadMore>

### `ImageMetadata`

<p>

**Type :** <code>\{ src: string; width: number; height: number; format: <a href="#imageinputformat">ImageInputFormat</a>; orientation?: number; \}</code><br />
<Since v="2.1.3" />
</p>

Décrit les données collectées lors de l'importation d'images. Ceci contient les propriétés suivantes :

#### `src`

<p>

**Type :** `string`
</p>

Le chemin absolu de l'image sur le système de fichiers.

#### `width`

<p>

**Type :** `number`
</p>

La largeur de l'image.

#### `height`

<p>

**Type :** `number`
</p>

La hauteur de l'image.

#### `format`

<p>

**Type :** [`ImageInputFormat`](#imageinputformat)
</p>

Le format de l'image.

#### `orientation`

<p>

**Type :** `number`<br />
<Since v="2.8.3" />
</p>

L'orientation de l'image lorsque ses métadonnées contiennent cette information.

### `ImageInputFormat`

<p>

**Type :** `"jpeg" | "jpg" | "png" | "tiff" | "webp" | "gif" | "svg" | "avif"`<br />
<Since v="2.2.0" />
</p>

Décrit une union des formats pris en charge pour les images importées.

### `ImageOutputFormat`

<p>

**Type :** `string | "jpeg" | "jpg" | "png" | "webp" | "svg" | "avif"`<br />
<Since v="2.2.0" />
</p>

Spécifie le format des images de sortie. Il peut s'agir d'une valeur littérale prédéfinie ou de n'importe quelle chaîne de caractères.

### `ImageQuality`

<p>

**Type :** <code><a href="#imagequalitypreset">ImageQualityPreset</a> | number</code><br />
<Since v="2.2.0" />
</p>

Représente la qualité perceptive de l'image de sortie sous forme d'une union de valeurs littérales prédéfinies, d'une chaîne de caractères ou d'un nombre.

### `ImageQualityPreset`

<p>

**Type :** `string | "low" | "mid" | "high" | "max"`<br />
<Since v="2.2.0" />
</p>

Définit les préréglages disponibles pour contrôler la qualité d'image, extensibles avec n'importe quelle chaîne de caractères.

### `RemotePattern`

<p>

**Type :** `{ hostname?: string; pathname?: string; protocol?: string; port?: string; }`<br />
<Since v="5.14.2" />
</p>

Décrit un hôte distant à travers quatre propriétés facultatives : `hostname`, `pathname`, `protocol` et `port`.

### `ImageService`

<p>

**Type :** <code><a href="#externalimageservice">ExternalImageService</a> | <a href="#localimageservice">LocalImageService</a></code>
</p>

Définit les hooks qu'un service d'images local ou externe doit fournir.

### `ExternalImageService`

<p>

**Type :** `object`
</p>

Définit les hooks qu'un service de transformation d'images externe doit fournir. Cela nécessite un [hook `getUrl()`](/fr/reference/image-service-reference/#geturl) et prend en charge [trois hooks supplémentaires](/fr/reference/image-service-reference/#hooks).

<ReadMore>Apprenez à créer des [services externes](/fr/reference/image-service-reference/#services-externes) dans la référence de l'API des services d'images avec des exemples d'utilisation.</ReadMore>

### `LocalImageService`

<p>

**Type :** `object`
</p>

Définit les hooks qu'un service local de transformation d'images doit fournir. Cela nécessite les hooks [`getUrl()`](/fr/reference/image-service-reference/#geturl), [`parseUrl()`](/fr/reference/image-service-reference/#parseurl) et [`transform()`](/fr/reference/image-service-reference/#transform), et prend en charge [des hooks supplémentaires](/fr/reference/image-service-reference/#hooks).

<ReadMore>Apprenez à créer des [services locaux](/fr/reference/image-service-reference/#services-locaux) dans la référence de l'API des services d'images avec des exemples d'utilisation.</ReadMore>

### `ImageServiceConfig`

<p>

**Type :** `{ entrypoint: 'astro/assets/services/sharp' | string; config?: T; }`<br />
<Since v="2.3.3" />
</p>

Décrit l'objet de configuration d'un service d'images. Celui-ci contient les propriétés suivantes :

#### `entrypoint`

<p>

**Type :** `'astro/assets/services/sharp' | string`
</p>

Un paquet ou un chemin d'accès au module de service d'images. Il peut s'agir du service Sharp intégré à Astro ou d'un service tiers.

#### `config`

<p>

**Type :** `Record<string, any>`
</p>

Un objet de configuration transmis au service d'images. Sa structure dépend du service utilisé.
