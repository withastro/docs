---
title: Composants
description: Une introduction √† la syntaxe des composants en.astro.
i18nReady: true
---

**Les composants Astro** sont les blocs de base de tout projet Astro. Ce sont des composants avec seulement du HTML, sans ex√©cution c√¥t√© client.

**Si vous connaissez le HTML, vous en savez d√©j√† assez pour √©crire votre premier composant Astro.**

La syntaxe du composant Astro est un sur-ensemble de HTML. La syntaxe a √©t√© [con√ßue pour √™tre famili√®re √† toute personne ayant de l'exp√©rience dans l'√©criture de HTML ou JSX](#diff√©rences-entre-astro-et-jsx), et ajoute la prise en charge de l'inclusion de composants et d'expressions JavaScript. Vous pouvez rep√©rer un composant Astro par son extension de fichier : `.astro`.

Les composants Astro sont extr√™mement flexibles. Souvent, un composant Astro contiendra une **interface utilisateur r√©utilisable sur la page**, comme un en-t√™te ou une carte de profil. √Ä d'autres moments, un composant Astro peut contenir un petit extrait de code HTML, comme une collection de balises `<meta>` courantes qui facilitent le travail avec le r√©f√©rencement. Les composants Astro peuvent m√™me contenir la mise en page enti√®re d'une page.

La chose la plus importante √† savoir sur les composants Astro est qu'ils **produisent du HTML lors de la compilation.** M√™me si vous ex√©cutez du code JavaScript √† l'int√©rieur de vos composants, tout s'ex√©cutera √† l'avance, supprim√© de la page finale que vous envoyez √† vos utilisateurs. Le r√©sultat est un site plus rapide, avec une empreinte JavaScript nulle ajout√©e par d√©faut.

## Structure du composant

Un composant Astro est compos√© de deux parties principales : le **Script du composant** et le **Template du composant**. Chacune de ces parties s'occupe de faire une t√¢che diff√©rente, mais ensemble, constituent un cadre facile d'utilisation et assez expressif pour g√©rer tout ce que vous voulez construire.

```astro title="src/components/EmptyComponent.astro"
---
// Script du composant (JavaScript)
---
<!-- Template du composant (HTML + Expressions JS) -->
```

Vous pouvez utiliser des composants √† l'int√©rieur d'autres composants pour cr√©er une interface utilisateur de plus en plus complexe. Par exemple, un composant `Button` pourrait √™tre utilis√© pour cr√©er un composant `ButtonGroup` comme ceci :

```astro title="src/components/ButtonGroup.astro"
---
import Button from './Button.astro';
---
<div>
  <Button title="Button 1" />
  <Button title="Button 2" />
  <Button title="Button 3" />
</div>
```

### Le Script du composant

Astro utilise des barres de code (`---`) pour identifier le script du composant dans votre composant Astro. Si vous avez d√©j√† √©crit du Markdown avant, vous pourriez √™tre d√©j√† familier avec un concept similaire appel√© *frontmatter.* Astro est directement inspir√© de cela.

Vous pouvez utiliser le script du composant pour √©crire du code JavaScript qui vous aidera √† construire votre template. Cela peut inclure :

- Importer d'autres composants Astro
- Importer des composants de Framework, comme React
- Importer des donn√©es, comme un fichier JSON
- R√©cup√©rer le contenu d'une API ou une base de donn√©es
- Cr√©er des variables que vous voulez r√©f√©rencer dans votre template

```astro title="src/components/MyComponent.astro"
---
import SomeAstroComponent from '../components/SomeAstroComponent.astro';
import SomeReactComponent from '../components/SomeReactComponent.jsx';
import someData from '../data/pokemon.json';

// Acc√©der aux propri√©t√©s pass√©es dans le composant, comme `<X title="Hello, World" />`
const {title} = Astro.props;
// R√©cup√©rer des donn√©es externes, m√™me depuis une API priv√©e ou une base de donn√©es
const data = await fetch('SOME_SECRET_API_URL/users').then(r => r.json());
---
<!-- Votre template ici ! -->
```

Les barres de code sont con√ßues pour garantir que le code JavaScript que vous √©crivez √† l'int√©rieur "ne puisse pas s'√©chapper". Ce code n'appara√Ætra pas dans le code final de votre page et ne sera pas visible √† vos utilisateur. Vous pouvez √©crire du code JavaScript co√ªteux (en terme de performance) ou sensible (comme un appel √† votre base de donn√©es priv√©e) sans vous soucier qu'il se retrouve dans le navigateur l'utilisateur.

:::tip
Vous pouvez m√™me √©crire du TypeScript dans votre script de composant !
:::

### Le Template du composant

En dessous du script du composant se trouve le template du composant. Le template du composant d√©termine le HTML r√©sultant de votre composant.

Si vous √©crivez du HTML simple ici, votre composant affichera cet HTML dans toutes les pages o√π il est import√© et utilis√©.

De plus, la syntaxe du template du composant Astro prend √©galement en charge les **expressions JavaScript**, les **composants import√©s** et les [**directives sp√©ciales Astro**](/fr/reference/directives-reference/). Les donn√©es et les valeurs d√©finies (√† la compilation) dans le script du composant peuvent √™tre utilis√©es dans le template du composant pour produire du HTML dynamiquement cr√©√©.

```astro title="src/components/MyFavoritePokemon.astro"
---
// Votre script du composant ici !
import ReactPokemonComponent from '../components/ReactPokemonComponent.jsx';
const myFavoritePokemon = [/*... */];
---
<!-- les commentaires HTML sont support√©s ! -->

<h1>Hello, world!</h1>

<!-- Utilisez les propri√©t√©s et autres variables du script du composant : -->
<p>Mon pokemon favori est : {Astro.props.title}</p>

<!-- Incluez d'autres composants avec une directive `client:` pour l'hydrater : -->
<ReactPokemonComponent client:visible />

<!-- Mixez du HTML avec des expressions JavaScript, similaire au JSX : -->
<ul>
  {myFavoritePokemon.map((data) => <li>{data.name}</li>)}
<ul>

<!-- Utilisez une directive de template pour cr√©er des classes √† partir de plusieurs cha√Ænes ou m√™me d'objets ! -->
<p class:list={["add", "dynamic", {classNames : true}]} />
```

## Expressions JSX

Vous pouvez d√©finir des variables JavaScript locales dans le script du composant Astro. Vous pouvez ensuite injecter ces variables dans le template HTML du composant √† en utilisant des expressions de type JSX !

:::note[dynamique vs r√©actif]
En utilisant cette approche, vous pouvez inclure des valeurs **dynamiques** qui sont calcul√©es dans le frontmatter. Mais une fois incluses, ces valeurs ne sont pas **r√©actives** et ne changeront jamais. Les composants Astro sont des templates qui ne s'ex√©cutent qu'une seule fois, au moment de la compilation.

Voir ci-dessous pour plus d'exemples de [diff√©rences entre Astro et JSX](#diff√©rences-entre-astro-et-jsx).
:::

### Variables

Des variables locales peuvent √™tre ajout√©es dans le HTML en utilisant la syntaxe des accolades :

```astro title="src/components/Variables.astro" "{name}"
---
const name = "Astro";
---
<div>
  <h1>Hello {name}!</h1>  <!-- Affichera <h1>Hello Astro!</h1> -->
</div>
```

### Attributs dynamiques

Les variables locales peuvent √™tre utilis√©es entre accolades pour transmettre des valeurs d'attribut aux √©l√©ments HTML et aux composants :

```astro title="src/components/DynamicAttributes.astro" "{name}" "${name}"
---
const name = "Astro";
---
<h1 class={name}>Les expressions d'attributs sont prises en charge</h1>

<MyComponent templateLiteralNameAttribute={`MonNomEst${name}`} />
```

:::caution
Les attributs HTML seront convertis en cha√Ænes, il n'est donc pas possible de passer des fonctions et des objets aux √©l√©ments HTML. Par exemple, vous ne pouvez pas affecter un gestionnaire d'√©v√©nements √† un √©l√©ment HTML dans un composant Astro :

```astro
---
// dont-do-this.astro
function handleClick () {
  console.log("boutton cliqu√©!");
}
---
<!-- ‚ùå Cela ne marche pas! ‚ùå -->
<button onClick={handleClick}>Rien ne se passera lorsque vous cliquez sur moi!</button>
```

Au lieu de cela, utilisez un script c√¥t√© client pour ajouter le gestionnaire d'√©v√©nements, comme vous le feriez en JavaScipt pure :

```astro
---
// do-this-instead.astro
---

<button id="button">Click Me</button>
<script>
  function handleClick () {
    console.log("button clicked!");
  }
  document.getElementById("button").addEventListener("click", handleClick);
</script>
```
:::

### HTML dynamique

Les variables locales peuvent √™tre utilis√©es dans des fonctions de type JSX pour produire des √©l√©ments HTML g√©n√©r√©s dynamiquement :

```astro title="src/components/DynamicHtml.astro" "{item}"
---
const items = ["Chien", "Chat", "Ornithorynque"];
---
<ul>
  {items.map((item) => (
    <li>{item}</li>
  ))}
</ul>
```

Astro peut afficher conditionnellement du HTML √† l'aide d'op√©rateurs logiques JSX et d'expressions ternaires.

```astro title="src/components/ConditionalHtml.astro" "visible"
---
const visible = true;
---
{visible && <p>Montre moi!</p>}

{visible ? <p>Montre moi!</p> : <p>Sinon montre moi!</p>}
```

### Balises dynamiques

Vous pouvez √©galement utiliser des balises dynamiques en d√©finissant une variable affect√©e d'un nom de balise HTML ou d'un composant import√© :

```astro title="src/components/DynamicTags.astro" /Element|(?<!My)Component/
---
import MyComponent from "./MyComponent.astro";
const Element = 'div'
const Component = MyComponent;
---

<Element>Salut!</Element> <!-- s'affiche comme <div>Salut!</div> -->
<Component /> <!-- s'affiche comme <MyComponent /> -->
```

Lors de l'utilisation de balises dynamiques :

- **Les noms de variables doivent commencer par une lettre majuscules.** Par exemple, utilisez `Element`, et non `element`. Sinon, Astro essaiera de restituer le nom de votre variable sous la forme d'une balise HTML litt√©ralement.

- **Les directives d'hydratation ne sont pas prises en charge.** Lorsque vous utilisez [les directives d'hydratation `client:*`](/fr/core-concepts/framework-components/#hydratation-des-composants-interactifs), Astro doit savoir quels composants regrouper pour la production, et le mod√®le de balise dynamique emp√™che cela de fonctionner.

### Fragments et √©l√©ments multiples

Un template de composant Astro peut restituer plusieurs √©l√©ments sans avoir besoin de tout envelopper dans un seul `<div>` ou `<>`, contrairement √† JavaScript ou JSX.

```astro title="src/components/RootElements.astro"
---
// Template with multiple elements
---
<p>Pas besoin d'envelopper les √©l√©ments dans un seul √©l√©ment conteneur.</p>
<p>Astro prend en charge plusieurs √©l√©ments √† la racine du template</p>
```

Cependant, lorsque vous utilisez une expression pour cr√©er dynamiquement plusieurs √©l√©ments, vous devez entourer ces √©l√©ments dans un **fragment** comme vous le feriez dans du JavaScript ou du JSX. Astro prend en charge l'utilisation de `<Fragment> </Fragment>` ou de la syntaxe abr√©g√©e `<> </>`.

```astro title="src/components/FragmentWrapper.astro" "<>" "</>"
---
const items = ["Chien", "Chat", "Ornithorynque"];
---
<ul>
  {items.map((item) => (
    <>
      <li>Rouge {item}</li>
      <li>Bleu {item}</li>
      <li>Vert {item}</li>
    </>
  ))}
</ul>
```

Les Fragments peuvent aussi √™tre utiles pour √©viter d'utiliser des √©l√©ments conteneurs lors de l'ajout de [directives `set:*`](/fr/reference/directives-reference/#sethtml), comme dans l'exemple suivant :

```astro title="src/components/SetHtml.astro" "Fragment"
---
const htmlString = '<p>Contenu HTML brut</p>';
---
<Fragment set:html={htmlString} />
```

### Diff√©rences entre Astro et JSX

La syntaxe du composant Astro est un sur-ensemble de HTML. Il a √©t√© con√ßu pour √™tre familier √† toute personne ayant une exp√©rience HTML ou JSX, mais il existe quelques diff√©rences cl√©s entre les fichiers `.astro` et JSX.

#### Les attributs

Dans Astro, vous utilisez le format standard `kebab-case` pour tous les attributs HTML au lieu du `camelCase` utilis√© dans JSX. Cela fonctionne m√™me pour `class`, qui n'est pas pris en charge par React.

```jsx
<div className="box" dataValue="3" />
<div class="box" data-value="3" />
```

#### Les commentaires

Dans Astro, vous pouvez utiliser des commentaires HTML standard ou des commentaires de style JavaScript.

```astro title="example.astro"
---
---
<!-- La syntaxe de commentaire HTML est valide dans les fichiers.astro -->
{/* La syntaxe des commentaires JS est √©galement valide */}
```

:::caution
Les commentaires de style HTML seront inclus dans le DOM du navigateur, tandis que ceux en JS seront ignor√©s. Pour laisser des messages TODO ou d'autres explications r√©serv√©es au d√©veloppement, vous pouvez utiliser des commentaires de style JavaScript √† la place.
:::

## Props de composant

Un composant Astro peut d√©finir et accepter des "props". Ces props deviennent alors accessible dans le template du composant pour le rendu du HTML. Les props sont disponibles sur la variable globale `Astro.props` entre les barres de codes.

Voici un exemple de composant qui re√ßoit un prop nomm√© `greeting` et un prop nomm√© `name`. Notez que les props √† recevoir sont d√©structur√©s de l'objet global `Astro.props`.

```astro "Astro.props"
---
// src/components/GreetingHeadline.astro
// Utilisation: <GreetingHeadline greeting="Comment √ßa va" name="Partenaire" />
const { greeting, name } = Astro.props;
---
<h2>{greeting}, {name} !</h2>
```

Ce composant, lorsqu'il est import√© et utilis√© dans d'autres composants standards, Composants Layout ou pages Astro, peut recevoir ces props sous forme d'attributs :

```astro /(\w+)=\S+/
---
// src/components/GreetingCard.astro
import GreetingHeadline from './GreetingHeadline.astro';
const name = "Astro"
---
<h1>Carte de bienvenue</h1>
<GreetingHeadline greeting="Salut" name={name} />
<p>J'esp√®re que vous passez une merveilleuse journ√©e !</p>
```

Vous pouvez √©galement d√©finir le type de vos props avec TypeScript en cr√©ant une interface nomm√©e `Props`. Astro s√©lectionnera automatiquement l'interface `Props` dans le Script du Composant et donnera des avertissements/erreurs de type. Ces props peuvent √©galement recevoir des valeurs par d√©faut lorsqu'ils sont d√©structur√©s √† partir d' `Astro.props`.

```astro ins={3-6}
---
// Votre script du composant ici !
---
<style>
  /* restreint au composant, les autres balises H1 sur la page restent les m√™mes */
  h1 { color: red };
</style>

<h1>Hello, world!</h1>
```

Les props de composant peuvent recevoir des valeurs par d√©faut √† utiliser lorsqu'aucune n'est fournie

```astro ins="= \"Hello\"" ins="= \"Astronaut\""
---
// src/components/GreetingHeadline.astro
const { greeting = "Salut", name = "Astronaute" } = Astro.props;
---
<h2>{greeting}, {name}!</h2>
```

## Les emplacements (slots)

L'√©l√©ment `<slot />` est un emplacement r√©serv√© pour du contenu HTML externe, vous permettant d'injecter des √©l√©ments enfants depuis d'autres fichiers, dans le template de votre composant.

Par d√©faut, tous les √©l√©ments enfants pass√©s √† un composant seront rendus dans son `<slot />`

:::note
Contrairement aux *props*, qui sont des attributs pass√©s √† un composant Astro disponibles pour une utilisation dans votre composant avec `Astro.props`, *les emplacements* restituent les √©l√©ments HTML enfants l√† o√π ils sont plac√©s.
:::

```astro "<slot />"
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
  <Header />
  <Logo />
  <h1>{title}</h1>
  <slot /> <!-- les √©lement enfants seront ins√©r√©s ici -->
  <Footer />
</div>
```

```astro {6-7}
---
// src/pages/fred.astro
import Wrapper from '../components/Wrapper.astro';
---

<Wrapper title="Page de Fred">
  <img src="https://my.photo/fred.jpg" slot="after-header">
  <h2>Tout ce qui est a savoir sur Fred</h2>
  <p>Voici quelques truc √† propos de Fred.</p>
</Wrapper>
```

Ce mod√®le est la base d'un Composant Layout dans Astro : une page enti√®re de contenu HTML peut √™tre "envelopp√©e" avec des balises `<Layout></Layout>` et envoy√©e √† au Composant Layout pour √™tre rendu √† l'int√©rieur des √©l√©ments de page communs.

### Les emplacements nomm√©s

Un composant Astro peut aussi avoir des emplacements nomm√©s. Cela vous permet de ne faire passer que des √©l√©ments HTML avec le nom d'emplacement (slot) correspondant, au niveau de l'emplacement.

```astro /<slot.*?/>/
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
<Header />
<slot name="after-header"/> <!-- les enfants avec l'attribut `slot="after-header" iront ici  -->
<Logo />
<h1>{title}</h1>
<slot /> <!-- les enfants sans `slot` ou avec l'attribut `slot="default"`iront ici -->
<Footer />
<slot name="after-footer"/> <!-- les enfants avec l'attribut `slot="after-footer"` iront ici -->
</div>
```

```astro /slot=".*?"/
---
// src/pages/fred.astro
import Wrapper from '../components/Wrapper.astro';
---

<Wrapper title="Page de Fred">
  <img src="https://my.photo/fred.jpg" slot="after-header">
  <h2>Tout ce qui est a savoir sur Fred</h2>
  <p>Voici quelques truc √† propos de Fred.</p>
  <p slot="after-footer">Copyright 2022</p>
</Wrapper>
```

Utilisez un attribut `slot="my-slot"` sur l'√©l√©ment enfant que vous voulez passer √† un emplacement correspondant `<slot name="my-slot" />` dans votre composant.

:::tip
Les emplacements nomm√©s peuvent aussi √™tre pass√©s aux [composants de framework](/fr/core-concepts/framework-components/) !
:::

### Contenu par defaut pour les emplacement

Les emplacements peuvent √©galement restituer **du contenu par defaut**. Lorsqu'il n'y a pas d'enfants correspondants pass√©s √† un emplacement, un √©l√©ment `<slot />` affichera ses propres enfants.

```astro {14}
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
  <Header />
  <Logo />
  <h1>{title}</h1>
  <slot>
    <p>Ceci est mon contenu par defaut, s'il n'y a pas d'enfants pass√©s √† l'emplacement</p>
  </slot>
  <Footer />
</div>
```

## Styles CSS

Les balises CSS `<style>` sont √©galement permises dans le template du composant.

Elles peuvent √™tre utilis√©es pour donner du style √† vos composants, et toutes les r√®gles de style sont automatiquement limit√©es √† la port√©e du composant lui-m√™me pour √©viter les conflits CSS dans les applications volumineuses.

```astro title="src/components/StyledHeading.astro"
---
// Le script du composant ici !
---
<style>
  /* restreint au composant, les autres balises H1 de la page resteront inchang√©s */
  h1 { color: red }
</style>

<h1>Hello, world!</h1>
```

:::caution
Les styles d√©finis ici s'appliquent uniquement au contenu √©crit directement dans le template du composant lui-m√™me. Les enfants et tous les composants import√©s ne seront **pas** stylis√©s par d√©faut.
:::

üìö Allez voir notre [Guide des styles](/fr/core-concepts/framework-components/) pour plus d'informations sur l'application de styles.

## Scripts c√¥t√© client

Les composants Astro prennent en charge l'ajout d'interactivit√© c√¥t√© client √† l'aide de balises HTML `<script>` standard.

Les scripts peuvent √™tre utilis√©s pour ajouter des √©couteurs d'√©v√©nements, envoyer des donn√©es d'analyse, jouer des animations et tout ce que JavaScript peut faire sur le Web.

```astro
<!-- src/components/ConfettiButton.astro -->
<button data-confetti-button>C√©l√©brez !</button>

<script>
  // Importe des modules npm.
  import confetti from 'canvas-confetti';

  // Trouve des √©l√©ments du DOM sur la page.
  const buttons = document.querySelectorAll('[data-confetti-button]');

  // Ajoute des √©couteurs d'√©v√©nements pour d√©clencher des confettis lorsqu'un bouton est cliqu√©
  buttons.forEach((button) => {
    button.addEventListener('click', () => confetti());
  });
</script>
```

Par d√©faut, les balises `<script>` sont optimis√©es par Astro, ajoutant la prise en charge de l'importation de modules npm, de l'√©criture de TypeScript, etc.

üìö Consultez notre [guide sur les scripts](/fr/guides/client-side-scripts/) pour plus de d√©tails.

## Composants HTML

Astro prend en charge l'importation et l'utilisation de fichiers `.html` en tant que composants ou le placement de ces fichiers dans le sous-r√©pertoire `src/pages` en tant que pages. Vous souhaiterez peut-√™tre utiliser des composants HTML si vous r√©utilisez le code d'un site existant construit sans framework, ou si vous voulez vous assurer que votre composant n'ai pas de fonctionnalit√©s dynamiques.

Les composants HTML ne doivent contenir que du code HTML valide et ne disposent donc pas des fonctionnalit√©s cl√©s des composants Astro :

- Ils ne prennent pas en charge de Script de Composant, les importations c√¥t√© serveur ou les expressions dynamiques.
- Toutes les balises `<script>` sont laiss√©es non regroup√©es, trait√©es comme si elles avaient `is:inline`.
- Ils ne peuvent [r√©f√©rencer que les assets qui se trouvent dans le dossier `public/`](/fr/core-concepts/project-structure/#public).

:::note
Un [√©l√©ment `<slot />`](#les-emplacements-slots) √† l'int√©rieur d'un composant HTML fonctionnera comme il le ferait dans un composant Astro. Pour utiliser l'√©l√©ment [Slot des Web Components (composants web)](https://developer.mozilla.org/fr/docs/Web/HTML/Element/slot)  √† la place, ajoutez `is:inline` √† votre √©l√©ment `<slot>`.
:::

## √âtapes suivantes

üìö En savoir plus sur les [composants int√©gr√©s d'Astro](/fr/reference/api-reference/#built-in-components).

üìö Apprendre comment utiliser les [composants de framework JavaScript](/fr/core-concepts/framework-components/) dans votre projet Astro.
