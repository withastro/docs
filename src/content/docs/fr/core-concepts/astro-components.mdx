---
title: Composants
description: Une introduction √† la syntaxe des composants .astro.
i18nReady: true
---

**Les composants Astro** sont les blocs de base de tout projet Astro. Ce sont des composants avec seulement du HTML, sans ex√©cution c√¥t√© client. Vous pouvez rep√©rer un composant Astro par son extension de fichier : `.astro`.

Les composants Astro sont extr√™mement flexibles. Souvent, un composant Astro contiendra une **interface utilisateur r√©utilisable sur la page**, comme un en-t√™te ou une carte de profil. √Ä d'autres moments, un composant Astro peut contenir un petit extrait de code HTML, comme une collection de balises `<meta>` courantes qui facilitent le travail avec le r√©f√©rencement. Les composants Astro peuvent m√™me contenir la mise en page enti√®re d'une page.

La chose la plus importante √† savoir sur les composants Astro est qu'ils **ne sont pas rendus c√¥t√© client**. Ils sont rendus en HTML soit au moment de la construction, soit √† la demande en utilisant le [rendu c√¥t√© serveur (SSR)](/fr/guides/server-side-rendering/). Vous pouvez inclure du code JavaScript √† l'int√©rieur de votre composant, il sera enti√®rement supprim√© de la page finale envoy√©e aux navigateurs de vos utilisateurs. Le r√©sultat est un site plus rapide, sans aucune empreinte JavaScript ajout√©e par d√©faut.

Lorsque votre composant Astro n√©cessite une interactivit√© c√¥t√© client, vous pouvez ajouter des [balises HTML `<script>` standard](/fr/guides/client-side-scripts/) ou des [composants de Framework](/fr/core-concepts/framework-components/#hydratation-des-composants-interactifs).


## Structure du composant

Un composant Astro est compos√© de deux parties principales : le **Script du composant** et le **Template du composant**. Chacune de ces parties s'occupe de faire une t√¢che diff√©rente, mais ensemble, constituent un cadre facile d'utilisation et assez expressif pour g√©rer tout ce que vous voulez construire.

```astro title="src/components/EmptyComponent.astro"
---
// Script du composant (JavaScript)
---
<!-- Template du composant (HTML + Expressions JS) -->
```

### Le Script du composant

Astro utilise des barres de code (`---`) pour identifier le script du composant dans votre composant Astro. Si vous avez d√©j√† √©crit du Markdown avant, vous pourriez √™tre d√©j√† familier avec un concept similaire appel√© *frontmatter.* Astro est directement inspir√© de cela.

Vous pouvez utiliser le script du composant pour √©crire du code JavaScript qui vous aidera √† construire votre template. Cela peut inclure :

- Importer d'autres composants Astro
- Importer des composants de Framework, comme React
- Importer des donn√©es, comme un fichier JSON
- R√©cup√©rer le contenu d'une API ou une base de donn√©es
- Cr√©er des variables que vous voulez r√©f√©rencer dans votre template


```astro title="src/components/MyComponent.astro"
---
import SomeAstroComponent from '../components/SomeAstroComponent.astro';
import SomeReactComponent from '../components/SomeReactComponent.jsx';
import someData from '../data/pokemon.json';

// Acc√©der aux propri√©t√©s pass√©es dans le composant, comme `<X title="Hello, World" />`
const {title} = Astro.props;
// R√©cup√©rer des donn√©es externes, m√™me depuis une API priv√©e ou une base de donn√©es
const data = await fetch('SOME_SECRET_API_URL/users').then(r => r.json());
---
<!-- Votre template ici ! -->
```

Les barres de code sont con√ßues pour garantir que le code JavaScript que vous √©crivez √† l'int√©rieur "ne puisse pas s'√©chapper". Ce code n'appara√Ætra pas dans le code final de votre page et ne sera pas visible √† vos utilisateur. Vous pouvez √©crire du code JavaScript co√ªteux (en terme de performance) ou sensible (comme un appel √† votre base de donn√©es priv√©e) sans vous soucier qu'il se retrouve dans le navigateur l'utilisateur.

:::tip
Vous pouvez m√™me √©crire du TypeScript dans votre script de composant !
:::

### Le Template du composant

En dessous du script du composant se trouve le template du composant. Le template du composant d√©termine le HTML r√©sultant de votre composant.

Si vous √©crivez du HTML simple ici, votre composant affichera cet HTML dans toutes les pages o√π il est import√© et utilis√©.

De plus, la [syntaxe du template du composant Astro](/fr/core-concepts/astro-syntax/) prend √©galement en charge les **expressions JavaScript**, les balises [`<style>`](/fr/guides/styling/#styling-in-astro) et [`<script>`](/fr/guides/client-side-scripts/#utilisation-du-script-dans-astro) Astro, les **composants import√©s** et les [**directives sp√©ciales Astro**](/fr/reference/directives-reference/). Les donn√©es et les valeurs d√©finies (√† la compilation) dans le script du composant peuvent √™tre utilis√©es dans le template du composant pour produire du HTML dynamiquement cr√©√©.

```astro title="src/components/MyFavoritePokemon.astro"
---
// Votre script du composant ici !
import Banner from '../components/Banner.astro';
import ReactPokemonComponent from '../components/ReactPokemonComponent.jsx';
const myFavoritePokemon = [/* ... */];
const { title } = Astro.props;
---
<!-- les commentaires HTML sont support√©s ! -->
{/* La syntaxe des commentaires JavaScipt est aussi valide ! */}

<Banner />
<h1>Hello, world!</h1>

<!-- Utilisez les propri√©t√©s et autres variables du script du composant : -->
<p>{title}</p>

<!-- Incluez d'autres composants avec une directive `client:` pour l'hydrater : -->
<ReactPokemonComponent client:visible />

<!-- Mixez du HTML avec des expressions JavaScript, similaire au JSX : -->
<ul>
  {myFavoritePokemon.map((data) => <li>{data.name}</li>)}
<ul>

<!-- Utilisez une directive de template pour cr√©er des classes √† partir de plusieurs cha√Ænes ou m√™me d'objets ! -->
<p class:list={["add", "dynamic", {classNames : true}]} />
```

## Conception √† base de composant

Les composants sont con√ßus pour √™tre **r√©utilisables** et **composables**. Vous pouvez utiliser des composants √† l'int√©rieur d'autres composants pour cr√©er une interface utilisateur de plus en plus complexe. Par exemple, un composant `Button` pourrait √™tre utilis√© pour cr√©er un composant `ButtonGroup` comme ceci :

```astro title="src/components/ButtonGroup.astro"
---
import Button from './Button.astro';
---
<div>
  <Button title="Button 1" />
  <Button title="Button 2" />
  <Button title="Button 3" />
</div>
```


## Props de composant

Un composant Astro peut d√©finir et accepter des "props". Ces props deviennent alors accessible dans le template du composant pour le rendu du HTML. Les props sont disponibles sur la variable globale `Astro.props` entre les barres de codes.

Voici un exemple de composant qui re√ßoit un prop nomm√© `greeting` et un prop nomm√© `name`. Notez que les props √† recevoir sont d√©structur√©s de l'objet global `Astro.props`.

```astro "Astro.props"
---
// src/components/GreetingHeadline.astro
// Utilisation: <GreetingHeadline greeting="Comment √ßa va" name="Partenaire" />
const { greeting, name } = Astro.props;
---
<h2>{greeting}, {name} !</h2>
```

Ce composant, lorsqu'il est import√© et utilis√© dans d'autres composants standards, Composants Layout ou pages Astro, peut recevoir ces props sous forme d'attributs :

```astro /(\w+)=\S+/
---
// src/components/GreetingCard.astro
import GreetingHeadline from './GreetingHeadline.astro';
const name = "Astro"
---
<h1>Carte de bienvenue</h1>
<GreetingHeadline greeting="Salut" name={name} />
<p>J'esp√®re que vous passez une merveilleuse journ√©e !</p>
```

Vous pouvez √©galement d√©finir le type de vos props avec TypeScript en cr√©ant une interface nomm√©e `Props`. Astro s√©lectionnera automatiquement l'interface `Props` dans le Script du Composant et donnera des avertissements/erreurs de type. Ces props peuvent √©galement recevoir des valeurs par d√©faut lorsqu'ils sont d√©structur√©s √† partir d' `Astro.props`.

```astro ins={3-6}
---
// src/components/GreetingHeadline.astro
interface Props {
  name: string;
  greeting?: string;
}

const { greeting = "Salut", name } = Astro.props;
---
<h2>{greeting}, {name}!</h2>
```

Les props de composant peuvent recevoir des valeurs par d√©faut √† utiliser lorsqu'aucune n'est fournie

```astro ins="= \"Salut\"" ins="= \"Astronaute\""
---
// src/components/GreetingHeadline.astro
const { greeting = "Salut", name = "Astronaute" } = Astro.props;
---
<h2>{greeting}, {name}!</h2>
```

## Les emplacements (slots)

L'√©l√©ment `<slot />` est un emplacement r√©serv√© pour du contenu HTML externe, vous permettant d'injecter des √©l√©ments enfants depuis d'autres fichiers, dans le template de votre composant.

Par d√©faut, tous les √©l√©ments enfants pass√©s √† un composant seront rendus dans son `<slot />`

:::note
Contrairement aux *props*, qui sont des attributs pass√©s √† un composant Astro disponibles pour une utilisation dans votre composant avec `Astro.props`, _les emplacements_ restituent les √©l√©ments HTML enfants l√† o√π ils sont plac√©s.
:::

```astro "<slot />"
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
  <Header />
  <Logo />
  <h1>{title}</h1>
  <slot /> <!-- les √©lement enfants seront ins√©r√©s ici -->
  <Footer />
</div>
```

```astro {6-7}
---
// src/pages/fred.astro
import Wrapper from '../components/Wrapper.astro';
---
<Wrapper title="Page de Fred">
  <h2>Tout ce qui est a savoir sur Fred</h2>
  <p>Voici quelques truc √† propos de Fred.</p>
</Wrapper>
```

Ce mod√®le est la base d'un [Composant Layout dans Astro](/fr/core-concepts/layouts/) : une page enti√®re de contenu HTML peut √™tre "envelopp√©e" avec des balises `<Layout></Layout>` et envoy√©e au composant pour √™tre rendue √† l'int√©rieur des √©l√©ments de page communs qui y sont d√©finis.



### Les emplacements (slots) nomm√©s

Un composant Astro peut aussi avoir des emplacements nomm√©s. Cela vous permet de ne faire passer que des √©l√©ments HTML avec le nom d'emplacement (slot) correspondant, au niveau de l'emplacement.

Les emplacements (slots) sont nomm√©s √† l'aide de l'attribut `name` :

```astro /<slot.*?/>/
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
<Header />
<slot name="after-header"/> <!-- les enfants avec l'attribut `slot="after-header" iront ici  -->
<Logo />
<h1>{title}</h1>
<slot /> <!-- les enfants sans `slot` ou avec l'attribut `slot="default"`iront ici -->
<Footer />
<slot name="after-footer"/> <!-- les enfants avec l'attribut `slot="after-footer"` iront ici -->
</div>
```

Pour injecter du contenu HTML dans un emplacement (slot) particulier, utilisez l'attribut `slot` sur n'importe quel √©l√©ment enfant pour sp√©cifier le nom de l'emplacement (slot). Tous les autres √©l√©ments enfants du composant seront inject√©s dans le `<slot />` par d√©faut (sans nom).


```astro /slot=".*?"/
---
// src/pages/fred.astro
import Wrapper from '../components/Wrapper.astro';
---
<Wrapper title="Page de Fred">
  <img src="https://my.photo/fred.jpg" slot="after-header">
  <h2>Tout ce qui est a savoir sur Fred</h2>
  <p>Voici quelques truc √† propos de Fred.</p>
  <p slot="after-footer">Copyright 2022</p>
</Wrapper>
```


Utilisez un attribut `slot="my-slot"` sur l'√©l√©ment enfant que vous voulez passer √† un emplacement correspondant `<slot name="my-slot" />` dans votre composant.

Notez que les emplacements nomm√©s doivent √™tre des enfants imm√©diats du composant. Il n'est pas possible de faire passer des emplacements nomm√©s dans des √©l√©ments imbriqu√©s.

:::tip
Les emplacements nomm√©s peuvent aussi √™tre pass√©s aux [composants de framework](/fr/core-concepts/framework-components/) !
:::


:::note
Le nom d'un emplacement (slot) Astro ne peut pas √™tre g√©n√©r√© dynamiquement, comme dans une fonction map. Si cette fonctionnalit√© est n√©cessaire dans les composants framework UI, il est pr√©f√©rable de g√©n√©rer ces emplacements (slots) dynamiques dans le framework lui-m√™me.
:::


### Contenu par d√©faut pour les emplacements
Les emplacements peuvent √©galement restituer **du contenu par defaut**. Lorsqu'il n'y a pas d'enfants correspondants pass√©s √† un emplacement, un √©l√©ment `<slot />` affichera ses propres enfants.

```astro {14}
---
// src/components/Wrapper.astro
import Header from './Header.astro';
import Logo from './Logo.astro';
import Footer from './Footer.astro';

const { title } = Astro.props
---
<div id="content-wrapper">
  <Header />
  <Logo />
  <h1>{title}</h1>
  <slot>
    <p>Ceci est mon contenu par defaut, s'il n'y a pas d'enfants pass√©s √† l'emplacement</p>
  </slot>
  <Footer />
</div>
```

### Transf√©rer les emplacements

Les emplacements peuvent √™tre transf√©r√©s √† d'autres composants. Par exemple, lorsque l'on cr√©e des mises en page imbriqu√©es :

```astro {11,14}
// src/layouts/BaseLayout.astro
---
---

<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
    <slot name="head"/>
	</head>
	<body>
		<slot />
	</body>
</html>
```

```astro {7, 8}
// src/layouts/HomeLayout.astro
---
import BaseLayout from "./BaseLayout.astro";
---

<BaseLayout>
  <slot name="head" slot="head"/>
  <slot />
</BaseLayout>
```

:::note
Les emplacements nomm√©s peuvent √™tre transf√©r√©s vers un autre composant en utilisant les attributs `name` et `slot` sur une balise `<slot />`.
:::

Maintenant, les emplacements par d√©faut et `head` pass√©s √† `HomeLayout` seront transf√©r√©s au parent `BaseLayout`.

```astro
// src/pages/index.astro
---
import HomeLayout from "../layouts/HomeLayout.astro";
---

<HomeLayout>
	<title slot="head">Astro</title>
	<h1>Astro</h1>
</HomeLayout>
```


## Composants HTML

Astro prend en charge l'importation et l'utilisation de fichiers `.html` en tant que composants ou le placement de ces fichiers dans le sous-r√©pertoire `src/pages` en tant que pages. Vous souhaiterez peut-√™tre utiliser des composants HTML si vous r√©utilisez le code d'un site existant construit sans framework, ou si vous voulez vous assurer que votre composant n'ai pas de fonctionnalit√©s dynamiques.

Les composants HTML ne doivent contenir que du code HTML valide et ne disposent donc pas des fonctionnalit√©s cl√©s des composants Astro :
- Ils ne prennent pas en charge de Script de Composant, les importations c√¥t√© serveur ou les expressions dynamiques.
- Toutes les balises `<script>` sont laiss√©es non regroup√©es, trait√©es comme si elles avaient `is:inline`.
- Ils ne peuvent [r√©f√©rencer que les assets qui se trouvent dans le dossier `public/`](/fr/core-concepts/project-structure/#public).

:::note
Un [√©l√©ment `<slot />`](#les-emplacements-slots) √† l'int√©rieur d'un composant HTML fonctionnera comme il le ferait dans un composant Astro. Pour utiliser l'√©l√©ment [Slot des Web Components (composants web)](https://developer.mozilla.org/fr/docs/Web/HTML/Element/slot)  √† la place, ajoutez `is:inline` √† votre √©l√©ment `<slot>`.
:::

## √âtapes suivantes

üìö Apprendre comment utiliser les [composants de framework JavaScript](/fr/core-concepts/framework-components/) dans votre projet Astro.
